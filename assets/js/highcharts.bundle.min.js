(function(n,t){typeof module=="object"&&module.exports?module.exports=n.document?t(n):function(n){return t(n)}:n.Highcharts=t()})(typeof window!="undefined"?window:this,function(n){function ni(n,t){var i="Highcharts error #"+n+": www.highcharts.com/errors/"+n;if(t)throw Error(i);tt.console&&console.log(i)}function c(){var t,n=arguments,r,i={},u=function(n,t){var r,i;typeof n!="object"&&(n={});for(i in t)t.hasOwnProperty(i)&&(r=t[i],n[i]=r&&typeof r=="object"&&Object.prototype.toString.call(r)!=="[object Array]"&&i!=="renderTo"&&typeof r.nodeType!="number"?u(n[i]||{},r):t[i]);return n};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),r=n.length,t=0;t<r;t++)i=u(i,n[t]);return i}function a(n,t){return parseInt(n,t||10)}function bi(n){return typeof n=="string"}function yt(n){return n&&typeof n=="object"}function ir(n){return Object.prototype.toString.call(n)==="[object Array]"}function oi(n){return typeof n=="number"}function ki(n){return et.log(n)/et.LN10}function ti(n){return et.pow(10,n)}function ii(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}}function r(n){return n!==f&&n!==null}function g(n,t,i){var u,f;if(bi(t))r(i)?n.setAttribute(t,i):n&&n.getAttribute&&(f=n.getAttribute(t));else if(r(t)&&yt(t))for(u in t)n.setAttribute(u,t[u]);return f}function si(n){return ir(n)?n:[n]}function hr(n,t,i){if(t)return setTimeout(n,t,i);n.call(0,i)}function y(n,t){ci&&!at&&t&&t.opacity!==f&&(t.filter="alpha(opacity="+t.opacity*100+")");e(n.style,t)}function ct(n,t,i,r,u){return n=l.createElement(n),t&&e(n,t),u&&y(n,{padding:0,border:"none",margin:0}),i&&y(n,i),r&&r.appendChild(n),n}function ri(n,t){var i=function(){};return i.prototype=new n,e(i.prototype,t),i}function rr(n,t){return Array((t||2)+1-String(n).length).join(0)+n}function kr(n){return(yu&&yu(n)||du||0)*6e4}function ur(n,t){for(var e="{",h=!1,i,r,o,u,f,c=[];(e=n.indexOf(e))!==-1;){if(i=n.slice(0,e),h){for(r=i.split(":"),o=r.shift().split("."),f=o.length,i=t,u=0;u<f;u++)i=i[o[u]];r.length&&(r=r.join(":"),o=/\.([0-9])/,u=it.lang,f=void 0,/f$/.test(r)?(f=(f=r.match(o))?f[1]:-1,i!==null&&(i=s.numberFormat(i,f,u.decimalPoint,r.indexOf(",")>-1?u.thousandsSep:""))):i=pr(r,i))}c.push(i);n=n.slice(e+1);e=(h=!h)?"}":"{"}return c.push(n),c.join("")}function pu(n){return et.pow(10,rt(et.log(n)/et.LN10))}function wu(n,i,r,u,f){var o,e=n,r=t(r,1);for(o=n/r,i||(i=[1,2,2.5,5,10],u===!1&&(r===1?i=[1,2,5,10]:r<=.1&&(i=[1/r]))),u=0;u<i.length;u++)if(e=i[u],f&&e*r>=n||!f&&o<=(i[u]+(i[u+1]||i[u]))/2)break;return e*r}function su(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].safeI=i;for(n.sort(function(n,i){return r=t(n,i),r===0?n.safeI-i.safeI:r}),i=0;i<u;i++)delete n[i].safeI}function cr(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i}function di(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i}function lr(n,t){for(var i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]}function ar(n){lu||(lu=ct(er));n&&lu.appendChild(n);lu.innerHTML=""}function wt(n,t){return parseFloat(n.toPrecision(t||14))}function vr(n,i){i.renderer.globalAnimation=t(n,i.animation)}function ne(n){return{init:function(t){var i=n.fx;n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i}});n.each(["cur","_default","width","height","opacity"],function(t,r){var u=i.step,f;r==="cur"?u=i.prototype:r==="_default"&&n.Tween&&(u=n.Tween.propHooks[r],r="set");(f=u[r])&&(u[r]=function(n){var u,i;return i=t?n:this,i.prop!=="align"?(u=i.elem,u.attr?u.attr(i.prop.replace("strokeWidth","stroke-width"),r==="cur"?void 0:i.now):f.apply(this,arguments)):void 0})});wr(n.cssHooks.opacity,"get",function(n,t,i){return t.attr?t.opacity||0:n.call(this,t,i)});this.addAnimSetter("d",function(n){var i=n.elem,r;n.started||(r=t.init(i,i.d,i.toD),n.start=r[0],n.end=r[1],n.started=!0);i.attr("d",t.step(n.start,n.end,n.pos,i.toD))});this.each=Array.prototype.forEach?function(n,t){return Array.prototype.forEach.call(n,t)}:function(n,t){for(var r=n.length,i=0;i<r;i++)if(t.call(n[i],n[i],i,n)===!1)return i};n.fn.highcharts=function(){var r="Chart",t=arguments,n,i;return this[0]&&(bi(t[0])&&(r=t[0],t=Array.prototype.slice.call(t,1)),n=t[0],n!==f&&(n.chart=n.chart||{},n.chart.renderTo=this[0],new s[r](n,t[1]),i=this),n===f&&(i=ot[g(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(t,i){n.Tween?n.Tween.propHooks[t]={set:i}:n.fx.step[t]=i},getScript:n.getScript,inArray:n.inArray,adapterRun:function(t,i){return n(t)[i]()},grep:n.grep,map:function(n,t){for(var r=[],u=n.length,i=0;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r},offset:function(t){return n(t).offset()},addEvent:function(t,i,r){n(t).bind(i,r)},removeEvent:function(t,i,r){var u=l.removeEventListener?"removeEventListener":"detachEvent";l[u]&&t&&!t[u]&&(t[u]=function(){});n(t).unbind(i,r)},fireEvent:function(t,i,r,u){var f=n.Event(i),o="detached"+i,s;!ci&&r&&(delete r.layerX,delete r.layerY,delete r.returnValue);e(f,r);t[i]&&(t[o]=t[i],t[i]=null);n.each(["preventDefault","stopPropagation"],function(n,t){var i=f[t];f[t]=function(){try{i.call(f)}catch(n){t==="preventDefault"&&(s=!0)}}});n(t).trigger(f);t[o]&&(t[i]=t[o],t[o]=null);!u||f.isDefaultPrevented()||s||u(f)},washMouseEvent:function(n){var t=n.originalEvent||n;return t.pageX===f&&(t.pageX=n.pageX,t.pageY=n.pageY),t},animate:function(t,i,r){var u=n(t);t.style||(t.style={});i.d&&(t.toD=i.d,i.d=1);u.stop();i.opacity!==f&&t.attr&&(i.opacity+="px");t.hasAnim=1;u.animate(i,r)},stop:function(t){t.hasAnim&&n(t).stop()}}}function hf(){var u=it.global,r=u.useUTC,i=r?"getUTC":"get",n=r?"setUTC":"set";pi=u.Date||window.Date;du=r&&u.timezoneOffset;yu=r&&u.getTimezoneOffset;vu=function(n,i,u,f,e,o){var s;return r?(s=pi.UTC.apply(0,arguments),s+=kr(s)):s=new pi(n,i,t(u,1),t(f,0),t(e,0),t(o,0)).getTime(),s};gu=i+"Minutes";nf=i+"Hours";tf=i+"Day";tu=i+"Date";iu=i+"Month";ru=i+"FullYear";vf=n+"Milliseconds";yf=n+"Seconds";pf=n+"Minutes";wf=n+"Hours";rf=n+"Date";uf=n+"Month";ff=n+"FullYear"}function pt(n){if(!(this instanceof pt))return new pt(n);this.init(n)}function nt(){}function yr(n,t,i,r){this.axis=n;this.pos=t;this.type=i||"";this.isNew=!0;i||r||this.addLabel()}function cf(n,i,r,u,f){var e=n.chart.inverted;this.axis=n;this.isNegative=r;this.options=i;this.x=u;this.total=null;this.points={};this.stack=f;this.alignOptions={align:i.align||(e?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(e?"middle":r?"bottom":"top"),y:t(i.y,e?4:r?14:-6),x:t(i.x,e?r?-6:6:0)};this.textAlign=i.textAlign||(e?r?"right":"left":"center")}var f,tt=n||window,l=tt.document,et=Math,o=et.round,rt=et.floor,hi=et.ceil,u=et.max,h=et.min,w=et.abs,ft=et.cos,lt=et.sin,ui=et.PI,bt=ui/180,yi=navigator.userAgent,lf=tt.opera,ci=/(msie|trident|edge)/i.test(yi)&&!lf,hu=l.documentMode===8,cu=!ci&&/AppleWebKit/.test(yi),fr=/Firefox/.test(yi),n=/(Mobile|Android|Windows Phone)/.test(yi),gi="http://www.w3.org/2000/svg",at=!!l.createElementNS&&!!l.createElementNS(gi,"svg").createSVGRect,te=fr&&parseInt(yi.split("Firefox/")[1],10)<4,kt=!at&&!ci&&!!l.createElement("canvas").getContext,dr,gr,af={},bu=0,lu,it,pr,ku,v,li=function(){},ot=[],nu=0,er="div",ie=/^[0-9]+$/,au=["plotTop","marginRight","marginBottom","plotLeft"],pi,vu,du,yu,gu,nf,tf,tu,iu,ru,vf,yf,pf,wf,rf,uf,ff,k={},s,uu,nr,i,fu,bf,or,d,st,p,kf,eu,br,ht,vt,ai,ut,tr,df,dt,ef,fi,sr,ou,gf,wi,b,ei,gt;s=tt.Highcharts?ni(16,!0):function(n){return s.loadAdapter(n),s};s.seriesTypes=k;var e=s.extend=function(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n},t=s.pick=function(){for(var i=arguments,t,r=i.length,n=0;n<r;n++)if(t=i[n],t!==f&&t!==null)return t},wr=s.wrap=function(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(r),i.apply(this,n)}};if(pr=function(n,i,u){if(!r(i)||isNaN(i))return it.lang.invalidDate||"";var n=t(n,"%Y-%m-%d %H:%M:%S"),f=new pi(i-kr(i)),h,c=f[nf](),l=f[tf](),y=f[tu](),a=f[iu](),p=f[ru](),v=it.lang,w=v.weekdays,f=e({a:w[l].substr(0,3),A:w[l],d:rr(y),e:y,w:l,b:v.shortMonths[a],B:v.months[a],m:rr(a+1),y:p.toString().substr(2,2),Y:p,H:rr(c),k:c,I:rr(c%12||12),l:c%12||12,M:rr(f[gu]()),p:c<12?"AM":"PM",P:c<12?"am":"pm",S:rr(f.getSeconds()),L:rr(o(i%1e3),3)},s.dateFormats);for(h in f)for(;n.indexOf("%"+h)!==-1;)n=n.replace("%"+h,typeof f[h]=="function"?f[h](i):f[h]);return u?n.substr(0,1).toUpperCase()+n.substr(1):n},v={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},s.numberFormat=function(n,t,i,r){var u=it.lang,n=+n||0,f=t===-1?Math.min((n.toString().split(".")[1]||"").length,20):isNaN(t=Math.abs(t))?2:t,t=i===void 0?u.decimalPoint:i,r=r===void 0?u.thousandsSep:r,u=n<0?"-":"",i=String(a(n=w(n).toFixed(f))),e=i.length>3?i.length%3:0;return u+(e?i.substr(0,e)+r:"")+i.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+r)+(f?t+w(n-i).toFixed(f).slice(2):"")},ku={init:function(n,t,i){var t=t||"",r=n.shift,e=t.indexOf("C")>-1,u=e?7:3,f,t=t.split(" "),i=[].concat(i),o,s,h=function(n){for(f=n.length;f--;)n[f]==="M"&&n.splice(f+1,0,n[f+1],n[f+2],n[f+1],n[f+2])};if(e&&(h(t),h(i)),n.isArea&&(o=t.splice(t.length-6,6),s=i.splice(i.length-6,6)),r<=i.length/u&&t.length===i.length)for(;r--;)i=[].concat(i).splice(0,u).concat(i);if(n.shift=0,t.length)for(n=i.length;t.length<n;)r=[].concat(t).splice(t.length-u,u),e&&(r[u-6]=r[u-2],r[u-5]=r[u-1]),t=t.concat(r);return o&&(t=t.concat(o),i=i.concat(s)),[t,i]},step:function(n,t,i,r){var f=[],u=n.length;if(i===1)f=r;else if(u===t.length&&i<1)for(;u--;)r=parseFloat(n[u]),f[u]=isNaN(r)?n[u]:i*parseFloat(t[u]-r)+r;else f=t;return f}},s.loadAdapter=function(n){n&&(n.fn&&n.fn.jquery&&(n=ne(n)),n.init&&(n.init(ku),delete n.init),s.extend(s,n),uu=s.adapterRun,nr=s.inArray,i=s.each,fu=s.grep,bf=s.offset,or=s.map,d=s.addEvent,st=s.removeEvent,p=s.fireEvent,kf=s.washMouseEvent,eu=s.animate,br=s.stop)},s.loadAdapter(tt.HighchartsAdapter||tt.jQuery),it={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.10/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":s.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:at,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf<\/span> {series.name}: <b>{point.y}<\/b><br/>',shadow:!0,snap:n?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}},ht=it.plotOptions,vt=ht.line,hf(),pt.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(n){return[a(n[1]),a(n[2]),a(n[3]),parseFloat(n[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(n){return[a(n[1],16),a(n[2],16),a(n[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(n){return[a(n[1]),a(n[2]),a(n[3]),1]}}],init:function(n){var u,t,i,r;if((this.input=n)&&n.stops)this.stops=or(n.stops,function(n){return new pt(n[1])});else for(i=this.parsers.length;i--&&!t;)r=this.parsers[i],(u=r.regex.exec(n))&&(t=r.parse(u));this.rgba=t||[]},get:function(n){var u=this.input,t=this.rgba,r;return this.stops?(r=c(u),r.stops=[].concat(r.stops),i(this.stops,function(t,i){r.stops[i]=[r.stops[i][0],t.get(n)]})):r=t&&!isNaN(t[0])?n==="rgb"||!n&&t[3]===1?"rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?t[3]:"rgba("+t.join(",")+")":u,r},brighten:function(n){var t,r=this.rgba;if(this.stops)i(this.stops,function(t){t.brighten(n)});else if(oi(n)&&n!==0)for(t=0;t<3;t++)r[t]+=a(n*255),r[t]<0&&(r[t]=0),r[t]>255&&(r[t]=255);return this},setOpacity:function(n){return this.rgba[3]=n,this}},nt.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(n,t){this.element=t==="span"?ct(t):l.createElementNS(gi,t);this.renderer=n},animate:function(n,i,r){return i=t(i,this.renderer.globalAnimation,!0),br(this),i?(i=c(i,{}),r&&(i.complete=r),eu(this,n,i)):this.attr(n,null,r),this},colorGradient:function(n,t,u){var s=this.renderer,p,o,f,w,v,a,y,b,k,h,l,e=[],d;if(n.linearGradient?o="linearGradient":n.radialGradient&&(o="radialGradient"),o){f=n[o];v=s.gradients;y=n.stops;h=u.radialReference;ir(f)&&(n[o]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"});o==="radialGradient"&&h&&!r(f.gradientUnits)&&(w=f,f=c(f,s.getRadialAttr(h,w),{gradientUnits:"userSpaceOnUse"}));for(l in f)l!=="id"&&e.push(l,f[l]);for(l in y)e.push(y[l]);e=e.join(",");v[e]?h=v[e].attr("id"):(f.id=h="highcharts-"+bu++,v[e]=a=s.createElement(o).attr(f).add(s.defs),a.radAttr=w,a.stops=[],i(y,function(n){n[1].indexOf("rgba")===0?(p=pt(n[1]),b=p.get("rgb"),k=p.get("a")):(b=n[1],k=1);n=s.createElement("stop").attr({offset:n[0],"stop-color":b,"stop-opacity":k}).add(a);a.stops.push(n)}));d="url("+s.url+"#"+h+")";u.setAttribute(t,d);u.gradient=e;n.toString=function(){return d}}},applyTextShadow:function(n){var t=this.element,e,s=n.indexOf("contrast")!==-1,r={},o=this.renderer.forExport,h=o||t.style.textShadow!==f&&!ci;s&&(r.textShadow=n=n.replace(/contrast/g,this.renderer.getContrast(t.style.fill)));(cu||o)&&(r.textRendering="geometricPrecision");h?this.css(r):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(t.getElementsByTagName("tspan")),i(n.split(/\s?,\s?/g),function(n){var o=t.firstChild,r,f,n=n.split(" ");r=n[n.length-1];(f=n[n.length-2])&&i(e,function(n,i){var e;i===0&&(n.setAttribute("x",t.getAttribute("x")),i=t.getAttribute("y"),n.setAttribute("y",i||0),i===null&&t.setAttribute("y",0));e=n.cloneNode(1);g(e,{"class":"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/u(a(f),3),"stroke-width":f,"stroke-linejoin":"round"});t.insertBefore(e,o)})}))},attr:function(n,t,i){var r,e=this.element,o,s=this,u;if(typeof n=="string"&&t!==f&&(r=n,n={},n[r]=t),typeof n=="string")s=(this[n+"Getter"]||this._defaultGetter).call(this,n,e);else{for(r in n)t=n[r],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(o||(this.symbolAttr(n),o=!0),u=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),u||(this[r+"Setter"]||this._defaultSetter).call(this,t,r,e),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),s},updateShadows:function(n,t){for(var i=this.shadows,r=i.length;r--;)i[r].setAttribute(n,n==="height"?Math.max(t-(i[r].cutHeight||0),0):n==="d"?this.d:t)},addClass:function(n){var t=this.element,i=g(t,"class")||"";return i.indexOf(n)===-1&&g(t,"class",i+" "+n),this},symbolAttr:function(n){var r=this;i("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){r[i]=t(n[i],r[i])});r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":"none")},crisp:function(n){var t,r={},i,u=n.strokeWidth||this.strokeWidth||0;i=o(u)%2/2;n.x=rt(n.x||this.x||0)+i;n.y=rt(n.y||this.y||0)+i;n.width=rt((n.width||this.width||0)-2*i);n.height=rt((n.height||this.height||0)-2*i);n.strokeWidth=u;for(t in n)this[t]!==n[t]&&(this[t]=r[t]=n[t]);return r},css:function(n){var i=this.styles,u={},f=this.element,r,t,o="";if(r=!i,n&&n.color&&(n.fill=n.color),i)for(t in n)n[t]!==i[t]&&(u[t]=n[t],r=!0);if(r){if(r=this.textWidth=n&&n.width&&f.nodeName.toLowerCase()==="text"&&a(n.width)||this.textWidth,i&&(n=e(i,u)),this.styles=n,r&&(kt||!at&&this.renderer.forExport)&&delete n.width,ci&&!at)y(this.element,n);else{i=function(n,t){return"-"+t.toLowerCase()};for(t in n)o+=t.replace(/([A-Z])/g,i)+":"+n[t]+";";g(f,"style",o)}r&&this.added&&this.renderer.buildText(this)}return this},on:function(n,t){var r=this,i=r.element;return gr&&n==="click"?(i.ontouchstart=function(n){r.touchEventFired=pi.now();n.preventDefault();t.call(i,n)},i.onclick=function(n){(yi.indexOf("Android")===-1||pi.now()-(r.touchEventFired||0)>1100)&&t.call(i,n)}):i["on"+n]=t,this},setRadialReference:function(n){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=n,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(n,t.radAttr)),this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var n=this.translateX||0,u=this.translateY||0,f=this.scaleX,e=this.scaleY,o=this.inverted,s=this.rotation,i=this.element;o&&(n+=this.attr("width"),u+=this.attr("height"));n=["translate("+n+","+u+")"];o?n.push("rotate(90) scale(-1,1)"):s&&n.push("rotate("+s+" "+(i.getAttribute("x")||0)+" "+(i.getAttribute("y")||0)+")");(r(f)||r(e))&&n.push("scale("+t(f,1)+" "+t(e,1)+")");n.length&&i.setAttribute("transform",n.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(n,i,r){var f,u,e,h,s={};return u=this.renderer,e=u.alignedObjects,n?(this.alignOptions=n,this.alignByTranslate=i,!r||bi(r))&&(this.alignTo=f=r||"renderer",ii(e,this),e.push(this),r=null):(n=this.alignOptions,i=this.alignByTranslate,f=this.alignTo),r=t(r,u[f],u),f=n.align,u=n.verticalAlign,e=(r.x||0)+(n.x||0),h=(r.y||0)+(n.y||0),(f==="right"||f==="center")&&(e+=(r.width-(n.width||0))/{right:1,center:2}[f]),s[i?"translateX":"x"]=o(e),(u==="bottom"||u==="middle")&&(h+=(r.height-(n.height||0))/({bottom:1,middle:2}[u]||1)),s[i?"translateY":"y"]=o(h),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(n,r){var u,c=this.renderer,o,v,l,h=this.element,y=this.styles;o=this.textStr;var k,p=h.style,a,b=c.cache,d=c.cacheKeys,s;if(v=t(r,this.rotation),l=v*bt,o!==f&&(s=["",v||0,y&&y.fontSize,h.style.width].join(","),s=o===""||ie.test(o)?"num:"+o.toString().length+s:o+s),s&&!n&&(u=b[s]),!u){if(h.namespaceURI===gi||c.forExport){try{a=this.fakeTS&&function(n){i(h.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=n})};fr&&p.textShadow?(k=p.textShadow,p.textShadow=""):a&&a("none");u=h.getBBox?e({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight};k?p.textShadow=k:a&&a("")}catch(g){}(!u||u.width<0)&&(u={width:0,height:0})}else u=this.htmlGetBBox();if(c.isSVG&&(c=u.width,o=u.height,ci&&y&&y.fontSize==="11px"&&o.toPrecision(3)==="16.9"&&(u.height=o=14),v&&(u.width=w(o*lt(l))+w(c*ft(l)),u.height=w(o*ft(l))+w(c*lt(l)))),s){for(;d.length>250;)delete b[d.shift()];b[s]||d.push(s);b[s]=u}}return u},show:function(n){return this.attr({visibility:n?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(n){var t=this;t.animate({opacity:0},{duration:n||150,complete:function(){t.attr({y:-9999})}})},add:function(n){var t=this.renderer,r=this.element,i;return n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,this.textStr!==void 0&&t.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(n?n.element:t.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,t=n.element||{},f=n.shadows,r=n.renderer.isSVG&&t.nodeName==="SPAN"&&n.parentGroup,e,u;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,br(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(u=0;u<n.stops.length;u++)n.stops[u]=n.stops[u].destroy();n.stops=null}for(n.safeRemoveChild(t),f&&i(f,function(t){n.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)t=r.parentGroup,n.safeRemoveChild(r.div),delete r.div,r=t;n.alignTo&&ii(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(n,i,r){var c=[],e,f,h=this.element,o,s,l,a;if(n){for(s=t(n.width,3),l=(n.opacity||.15)/s,a=this.parentInverted?"(-1,-1)":"("+t(n.offsetX,1)+", "+t(n.offsetY,1)+")",e=1;e<=s;e++)f=h.cloneNode(0),o=s*2+1-2*e,g(f,{isShadow:"true",stroke:n.color||"black","stroke-opacity":l*e,"stroke-width":o,transform:"translate"+a,fill:"none"}),r&&(g(f,"height",u(g(f,"height")-o,0)),f.cutHeight=o),i?i.element.appendChild(f):h.parentNode.insertBefore(f,h),c.push(f);this.shadows=c}return this},xGetter:function(n){return this.element.nodeName==="circle"&&(n={x:"cx",y:"cy"}[n]||n),this._defaultGetter(n)},_defaultGetter:function(n){return n=t(this[n],this.element?this.element.getAttribute(n):null,0),/^[\-0-9\.]+$/.test(n)&&(n=parseFloat(n)),n},dSetter:function(n,t,i){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");i.setAttribute(t,n);this[t]=n},dashstyleSetter:function(n){var t;if(n=n&&n.toLowerCase()){for(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=n.length;t--;)n[t]=a(n[t])*this["stroke-width"];n=n.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,t,i){this[t]=n;i.setAttribute(t,n)},titleSetter:function(n){var i=this.element.getElementsByTagName("title")[0];i||(i=l.createElementNS(gi,"title"),this.element.appendChild(i));i.appendChild(l.createTextNode(String(t(n),"").replace(/<[^>]*>/g,"")))},textSetter:function(n){n!==this.textStr&&(delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this))},fillSetter:function(n,t,i){typeof n=="string"?i.setAttribute(t,n):n&&this.colorGradient(n,t,i)},visibilitySetter:function(n,t,i){n==="inherit"?i.removeAttribute(t):i.setAttribute(t,n)},zIndexSetter:function(n,t){var f=this.renderer,u=this.parentGroup,f=(u||f).element||f.box,i,h,e=this.element,o,s;if(i=this.added,r(n)&&(e.setAttribute(t,n),n=+n,this[t]===n&&(i=!1),this[t]=n),i){for((n=this.zIndex)&&u&&(u.handleZ=!0),u=f.childNodes,s=0;s<u.length&&!o;s++)(i=u[s],h=g(i,"zIndex"),i!==e&&(a(h)>n||!r(n)&&r(h)))&&(f.insertBefore(e,i),o=!0);o||f.appendChild(e)}return o},_defaultSetter:function(n,t,i){i.setAttribute(t,n)}},nt.prototype.yGetter=nt.prototype.xGetter,nt.prototype.translateXSetter=nt.prototype.translateYSetter=nt.prototype.rotationSetter=nt.prototype.verticalAlignSetter=nt.prototype.scaleXSetter=nt.prototype.scaleYSetter=function(n,t){this[t]=n;this.doTransform=!0},nt.prototype["stroke-widthSetter"]=nt.prototype.strokeSetter=function(n,t,i){this[t]=n;this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],nt.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&n===0&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},ai=function(){this.init.apply(this,arguments)},ai.prototype={Element:nt,init:function(n,t,i,r,u,f){var s=location,o,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r)),e;o=r.element;n.appendChild(o);n.innerHTML.indexOf("xmlns")===-1&&g(o,"xmlns",gi);this.isSVG=!0;this.box=o;this.boxWrapper=r;this.alignedObjects=[];this.url=(fr||cu)&&l.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(l.createTextNode("Created with Highcharts 4.1.10"));this.defs=this.createElement("defs").add();this.allowHTML=f;this.forExport=u;this.gradients={};this.cache={};this.cacheKeys=[];this.setSize(t,i,!1);fr&&n.getBoundingClientRect&&(this.subPixelFix=t=function(){y(n,{left:0,top:0});e=n.getBoundingClientRect();y(n,{left:hi(e.left)-e.left+"px",top:hi(e.top)-e.top+"px"})},t(),d(tt,"resize",t))},getStyle:function(n){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),lr(this.gradients||{}),this.gradients=null,n&&(this.defs=n.destroy()),this.subPixelFix&&st(tt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:function(){},getRadialAttr:function(n,t){return{cx:n[0]-n[2]/2+t.cx*n[2],cy:n[1]-n[2]/2+t.cy*n[2],r:t.r*n[2]}},buildText:function(n){for(var f=n.element,o=this,b=o.forExport,r=t(n.textStr,"").toString(),k=r.indexOf("<")!==-1,d=f.childNodes,h,c,v=g(f,"x"),u=n.styles,e=n.textWidth,nt=u&&u.lineHeight,p=u&&u.textShadow,w=u&&u.textOverflow==="ellipsis",tt=d.length,s=e&&!n.added&&this.box,it=function(n){return nt?a(nt):o.fontMetrics(/(px|em)$/.test(n&&n.style.fontSize)?n.style.fontSize:u&&u.fontSize||o.style.fontSize||12,n).h},rt=function(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">")};tt--;)f.removeChild(d[tt]);!k&&!p&&!w&&r.indexOf(" ")===-1?f.appendChild(l.createTextNode(rt(r))):(h=/<.*style="([^"]+)".*>/,c=/<.*href="(http[^"]+)".*>/,s&&s.appendChild(f),r=k?r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g):[r],r[r.length-1]===""&&r.pop(),i(r,function(t,r){var s,a=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");s=t.split("|||");i(s,function(t){var p,i,ut;if((t!==""||s.length===1)&&(p={},i=l.createElementNS(gi,"tspan"),h.test(t)&&(ut=t.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),g(i,"style",ut)),c.test(t)&&!b&&(g(i,"onclick",'location.href="'+t.match(c)[1]+'"'),y(i,{cursor:"pointer"})),t=rt(t.replace(/<(.|\n)*?>/g,"")||" "),t!==" ")){if(i.appendChild(l.createTextNode(t)),a?p.dx=0:r&&v!==null&&(p.x=v),g(i,p),f.appendChild(i),!a&&r&&(!at&&b&&y(i,{display:"block"}),g(i,"dy",it(i))),e){for(var p=t.replace(/([^\^])-/g,"$1- ").split(" "),ot=s.length>1||r||p.length>1&&u.whiteSpace!=="nowrap",k,d,nt,ft=[],st=it(i),ht=1,ct=n.rotation,tt=t,et=tt.length;(ot||w)&&(p.length||ft.length);)n.rotation=0,k=n.getBBox(!0),nt=k.width,!at&&o.forExport&&(nt=o.measureSpanWidth(i.firstChild.data,n.styles)),k=nt>e,d===void 0&&(d=k),w&&d?(et/=2,tt===""||!k&&et<.5?p=[]:(k&&(d=!0),tt=t.substring(0,tt.length+(k?-1:1)*hi(et)),p=[tt+(e>3?"\u2026":"")],i.removeChild(i.firstChild))):!k||p.length===1?(p=ft,ft=[],p.length&&(ht++,i=l.createElementNS(gi,"tspan"),g(i,{dy:st,x:v}),ut&&g(i,"style",ut),f.appendChild(i)),nt>e&&(e=nt)):(i.removeChild(i.firstChild),ft.unshift(p.pop())),p.length&&i.appendChild(l.createTextNode(p.join(" ").replace(/- /g,"-")));d&&n.attr("title",n.textStr);n.rotation=ct}a++}})}),s&&s.removeChild(f),p&&n.applyTextShadow&&n.applyTextShadow(p))},getContrast:function(n){return n=pt(n).rgba,n[0]+n[1]+n[2]>384?"#000000":"#FFFFFF"},button:function(n,t,i,r,u,f,o,s,h){var l=this.label(n,t,i,h,null,null,null,null,"button"),a=0,w,b,v,y,p,k,n={x1:0,y1:0,x2:0,y2:1},u=c({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},u);return v=u.style,delete u.style,f=c(u,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},f),y=f.style,delete f.style,o=c(u,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),p=o.style,delete o.style,s=c(u,{style:{color:"#CCC"}},s),k=s.style,delete s.style,d(l.element,ci?"mouseover":"mouseenter",function(){a!==3&&l.attr(f).css(y)}),d(l.element,ci?"mouseout":"mouseleave",function(){a!==3&&(w=[u,f,o][a],b=[v,y,p][a],l.attr(w).css(b))}),l.setState=function(n){(l.state=a=n)?n===2?l.attr(o).css(p):n===3&&l.attr(s).css(k):l.attr(u).css(v)},l.on("click",function(n){a!==3&&r.call(l,n)}).attr(u).css(e({cursor:"default"},v))},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=o(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=o(n[2])+t%2/2),n},path:function(n){var t={fill:"none"};return ir(n)?t.d=n:yt(n)&&e(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){return n=yt(n)?n:{x:n,y:t,r:i},t=this.createElement("circle"),t.xSetter=function(n){this.element.setAttribute("cx",n)},t.ySetter=function(n){this.element.setAttribute("cy",n)},t.attr(n)},arc:function(n,t,i,r,u,f){return yt(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),n=this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0}),n.r=i,n},rect:function(n,t,i,r,e,o){var e=yt(n)?n.r:e,s=this.createElement("rect"),n=yt(n)?n:n===f?{}:{x:n,y:t,width:u(i,0),height:u(r,0)};return o!==f&&(n.strokeWidth=o,n=s.crisp(n)),e&&(n.r=e),s.rSetter=function(n){g(this.element,{rx:n,ry:n})},s.attr(n)},setSize:function(n,i,r){var u=this.alignedObjects,f=u.length;for(this.width=n,this.height=i,this.boxWrapper[t(r,!0)?"animate":"attr"]({width:n,height:i});f--;)u[f].align()},g:function(n){var t=this.createElement("g");return r(n)?t.attr({"class":"highcharts-"+n}):t},image:function(n,t,i,r,u){var f={preserveAspectRatio:"none"};return arguments.length>1&&e(f,{x:t,y:i,width:r,height:u}),f=this.createElement("image").attr(f),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):f.element.setAttribute("hc-svg-href",n),f},symbol:function(n,t,i,r,u,f){var s,c=this.symbols[n],c=c&&c(o(t),o(i),r,u,f),a=/^url\((.*?)\)$/,h,l;return c?(s=this.path(c),e(s,{symbolName:n,x:t,y:i,width:r,height:u}),f&&e(s,f)):a.test(n)&&(l=function(n,t){n.element&&(n.attr({width:t[0],height:t[1]}),n.alignByTranslate||n.translate(o((r-t[0])/2),o((u-t[1])/2)))},h=n.match(a)[1],n=af[h]||f&&f.width&&f.height&&[f.width,f.height],s=this.image(h).attr({x:t,y:i}),s.isImg=!0,n?l(s,n):(s.attr({width:0,height:0}),ct("img",{onload:function(){this.width===0&&(y(this,{position:"absolute",top:"-999em"}),document.body.appendChild(this));l(s,af[h]=[this.width,this.height]);this.parentNode&&this.parentNode.removeChild(this)},src:h}))),s},symbols:{circle:function(n,t,i,r){var u=.166*i;return["M",n+i/2,t,"C",n+i+u,t,n+i+u,t+r,n+i/2,t+r,"C",n-u,t+r,n-u,t,n+i/2,t,"Z"]},square:function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,t,i,r,u){var e=u.start,i=u.r||i||r,f=u.end-.001,r=u.innerR,o=u.open,s=ft(e),h=lt(e),c=ft(f),f=lt(f),u=u.end-e<ui?0:1;return["M",n+i*s,t+i*h,"A",i,i,0,u,1,n+i*c,t+i*f,o?"M":"L",n+r*c,t+r*f,"A",r,r,0,u,0,n+r*s,t+r*h,o?"":"Z"]},callout:function(n,t,i,r,u){var f=h(u&&u.r||0,i,r),o=f+6,e=u&&u.anchorX,u=u&&u.anchorY,s;return s=["M",n+f,t,"L",n+i-f,t,"C",n+i,t,n+i,t,n+i,t+f,"L",n+i,t+r-f,"C",n+i,t+r,n+i,t+r,n+i-f,t+r,"L",n+f,t+r,"C",n,t+r,n,t+r,n,t+r-f,"L",n,t+f,"C",n,t,n,t,n+f,t],e&&e>i&&u>t+o&&u<t+r-o?s.splice(13,3,"L",n+i,u-6,n+i+6,u,n+i,u+6,n+i,t+r-f):e&&e<0&&u>t+o&&u<t+r-o?s.splice(33,3,"L",n,u+6,n-6,u,n,u-6,n,t+f):u&&u>r&&e>n+o&&e<n+i-o?s.splice(23,3,"L",e+6,t+r,e,t+r+6,e-6,t+r,n+f,t+r):u&&u<0&&e>n+o&&e<n+i-o&&s.splice(3,3,"L",e-6,t,e,t-6,e+6,t,i-f,t),s}},clipRect:function(n,t,i,r){var u="highcharts-"+bu++,f=this.createElement("clipPath").attr({id:u}).add(this.defs),n=this.rect(n,t,i,r,0).add(f);return n.id=u,n.clipPath=f,n.count=0,n},text:function(n,t,i,r){var f=kt||!at&&this.forExport,u={};return r&&(this.allowHTML||!this.forExport)?this.html(n,t,i):(u.x=Math.round(t||0),i&&(u.y=Math.round(i)),(n||n===0)&&(u.text=n),n=this.createElement("text").attr(u),f&&n.css({position:"absolute"}),r||(n.xSetter=function(n,t,i){for(var f=i.getElementsByTagName("tspan"),u,e=i.getAttribute(t),r=0;r<f.length;r++)u=f[r],u.getAttribute(t)===e&&u.setAttribute(t,n);i.setAttribute(t,n)}),n)},fontMetrics:function(n,t){var i,r,n=n||this.style.fontSize;return!n&&t&&tt.getComputedStyle&&(t=t.element||t,n=(i=tt.getComputedStyle(t,""))&&i.fontSize),n=/px/.test(n)?a(n):/em/.test(n)?parseFloat(n)*12:12,i=n<24?n+3:o(n*1.2),r=o(i*.8),{h:i,b:r,f:n}},rotCorr:function(n,t,i){var r=n;return t&&i&&(r=u(r*ft(t*bt),4)),{x:-n/3*lt(t*bt),y:r}},label:function(n,t,u,s,h,l,a,v,y){var g=this,p=g.g(y),w=g.text("",0,0,a).attr({zIndex:1}),b,k,ft=0,d=3,et=0,tt,ht,ct,lt,ot=0,rt={},at,vt,yt,ut,it,pt;return yt=function(){var n,t;n=w.element.style;k=(tt===void 0||ht===void 0||p.styles.textAlign)&&r(w.textStr)&&w.getBBox();p.width=(tt||k.width||0)+2*d+et;p.height=(ht||k.height||0)+2*d;at=d+g.fontMetrics(n&&n.fontSize,w).b;vt&&(b||(n=ot,t=(v?-at:0)+ot,p.box=b=s?g.symbol(s,n,t,p.width,p.height,rt):g.rect(n,t,p.width,p.height,0,rt["stroke-width"]),b.isImg||b.attr("fill","none"),b.add(p)),b.isImg||b.attr(e({width:o(p.width),height:o(p.height)},rt)),rt=null)},ut=function(){var n=p.styles,n=n&&n.textAlign,i=et+d,t;t=v?0:at;r(tt)&&k&&(n==="center"||n==="right")&&(i+={center:.5,right:1}[n]*(tt-k.width));(i!==w.x||t!==w.y)&&(w.attr("x",i),t!==f&&w.attr("y",t));w.x=i;w.y=t},it=function(n,t){b?b.attr(n,t):rt[n]=t},p.onAdd=function(){w.add(p);p.attr({text:n||n===0?n:"",x:t,y:u});b&&r(h)&&p.attr({anchorX:h,anchorY:l})},p.widthSetter=function(n){tt=n},p.heightSetter=function(n){ht=n},p.paddingSetter=function(n){r(n)&&n!==d&&(d=p.padding=n,ut())},p.paddingLeftSetter=function(n){r(n)&&n!==et&&(et=n,ut())},p.alignSetter=function(n){n={left:0,center:.5,right:1}[n];n!==ft&&(ft=n,k&&p.attr({x:t}))},p.textSetter=function(n){n!==f&&w.textSetter(n);yt();ut()},p["stroke-widthSetter"]=function(n,t){n&&(vt=!0);ot=n%2/2;it(t,n)},p.strokeSetter=p.fillSetter=p.rSetter=function(n,t){t==="fill"&&n&&(vt=!0);it(t,n)},p.anchorXSetter=function(n,t){h=n;it(t,o(n)-ot-ct)},p.anchorYSetter=function(n,t){l=n;it(t,n-lt)},p.xSetter=function(n){p.x=n;ft&&(n-=ft*((tt||k.width)+2*d));ct=o(n);p.attr("translateX",ct)},p.ySetter=function(n){lt=p.y=o(n);p.attr("translateY",lt)},pt=p.css,e(p,{css:function(n){if(n){var t={},n=c(n);i(p.textProps,function(i){n[i]!==f&&(t[i]=n[i],delete n[i])});w.css(t)}return pt.call(p,n)},getBBox:function(){return{width:k.width+2*d,height:k.height+2*d,x:k.x-d,y:k.y-d}},shadow:function(n){return b&&b.shadow(n),p},destroy:function(){st(p.element,"mouseenter");st(p.element,"mouseleave");w&&(w=w.destroy());b&&(b=b.destroy());nt.prototype.destroy.call(p);p=g=yt=ut=it=null}})}},dr=ai,e(nt.prototype,{htmlCss:function(n){var t=this.element;return(t=n&&t.tagName==="SPAN"&&n.width)&&(delete n.width,this.textWidth=t,this.updateTransform()),n&&n.textOverflow==="ellipsis"&&(n.whiteSpace="nowrap",n.overflow="hidden"),this.styles=e(this.styles,n),y(this.element,n),this},htmlGetBBox:function(){var n=this.element;return n.nodeName==="text"&&(n.style.position="absolute"),{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var h=this.renderer,n=this.element,c=this.translateX||0,l=this.translateY||0,b=this.x||0,k=this.y||0,o=this.textAlign||"left",v={left:0,center:.5,right:1}[o],u=this.shadows,p=this.styles;if(y(n,{marginLeft:c,marginTop:l}),u&&i(u,function(n){y(n,{marginLeft:c+1,marginTop:l+1})}),this.inverted&&i(n.childNodes,function(t){h.invertChild(t,n)}),n.tagName==="SPAN"){var f=this.rotation,e,s=a(this.textWidth),w=[f,o,n.innerHTML,this.textWidth,this.textAlign].join(",");w!==this.cTT&&(e=h.fontMetrics(n.style.fontSize).b,r(f)&&this.setSpanRotation(f,v,e),u=t(this.elemWidth,n.offsetWidth),u>s&&/[ \-]/.test(n.textContent||n.innerText)&&(y(n,{width:s+"px",display:"block",whiteSpace:p&&p.whiteSpace||"normal"}),u=s),this.getSpanCorrection(u,e,v,f,o));y(n,{left:b+(this.xCorr||0)+"px",top:k+(this.yCorr||0)+"px"});cu&&(e=n.offsetHeight);this.cTT=w}}else this.alignOnAdd=!0},setSpanRotation:function(n,t,i){var r={},u=ci?"-ms-transform":cu?"-webkit-transform":fr?"MozTransform":lf?"-o-transform":"";r[u]=r.transform="rotate("+n+"deg)";r[u+(fr?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+i+"px";y(this.element,r)},getSpanCorrection:function(n,t,i){this.xCorr=-n*i;this.yCorr=-t}}),e(ai.prototype,{html:function(n,t,r){var u=this.createElement("span"),f=u.element,s=u.renderer;return u.textSetter=function(n){n!==f.innerHTML&&delete this.bBox;f.innerHTML=this.textStr=n;u.htmlUpdateTransform()},u.xSetter=u.ySetter=u.alignSetter=u.rotationSetter=function(n,t){t==="align"&&(t="textAlign");u[t]=n;u.htmlUpdateTransform()},u.attr({text:n,x:o(t),y:o(r)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),f.style.whiteSpace="nowrap",u.css=u.htmlCss,s.isSVG&&(u.add=function(n){var t,r=s.box.parentNode,o=[];if(this.parentGroup=n){if(t=n.div,!t){for(;n;)o.push(n),n=n.parentGroup;i(o.reverse(),function(n){var u,f=g(n.element,"class");f&&(f={className:f});t=n.div=n.div||ct(er,f,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px"},t||r);u=t.style;e(n,{translateXSetter:function(t,i){u.left=t+"px";n[i]=t;n.doTransform=!0},translateYSetter:function(t,i){u.top=t+"px";n[i]=t;n.doTransform=!0}});i(["opacity","visibility"],function(t){wr(n,t+"Setter",function(n,t,i,r){n.call(this,t,i,r);u[i]=t})})})}}else t=r;return t.appendChild(f),u.added=!0,u.alignOnAdd&&u.htmlUpdateTransform(),u}),u}}),at||kt||(ut={init:function(n,t){var i=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],u=t===er;(t==="shape"||u)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",u?"hidden":"visible");i.push(' style="',r.join(""),'"/>');t&&(i=u||t==="span"||t==="img"?i.join(""):n.prepVML(i),this.element=ct(i));this.renderer=n},add:function(n){var i=this.renderer,r=this.element,t=i.box,u=n&&n.inverted,t=n?n.element||n:t;return n&&(this.parentGroup=n),u&&i.invertChild(r,t),t.appendChild(r),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:nt.prototype.htmlUpdateTransform,setSpanRotation:function(){var n=this.rotation,t=ft(n*bt),i=lt(n*bt);y(this.element,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(n,i,r,u,f){var e=u?ft(u*bt):1,o=u?lt(u*bt):0,h=t(this.elemHeight,this.element.offsetHeight),s;this.xCorr=e<0&&-n;this.yCorr=o<0&&-h;s=e*o<0;this.xCorr+=o*i*(s?1-r:r);this.yCorr-=e*i*(u?s?r:1-r:1);f&&f!=="left"&&(this.xCorr-=n*r*(e<0?-1:1),u&&(this.yCorr-=h*r*(o<0?-1:1)),y(this.element,{textAlign:f}))},pathToVML:function(n){for(var t=n.length,i=[];t--;)oi(n[t])?i[t]=o(n[t]*10)-5:n[t]==="Z"?i[t]="x":(i[t]=n[t],n.isArc&&(n[t]==="wa"||n[t]==="at"))&&(i[t+5]===i[t+7]&&(i[t+7]+=n[t+7]>n[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=n[t+8]>n[t+6]?1:-1));return i.join(" ")||"x"},clip:function(n){var t=this,i;return n?(i=n.members,ii(i,t),i.push(t),t.destroyClip=function(){ii(i,t)},n=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),n={clip:hu?"inherit":"rect(auto)"}),t.css(n)},css:nt.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&ar(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),nt.prototype.destroy.apply(this)},on:function(n,t){return this.element["on"+n]=function(){var n=tt.event;n.target=n.srcElement;t(n)},this},cutOffPath:function(n,t){var i,n=n.split(/[ ,]/);return i=n.length,(i===9||i===11)&&(n[i-4]=n[i-2]=a(n[i-2])-10*t),n.join(" ")},shadow:function(n,i,r){var v=[],f,e=this.element,y=this.renderer,u,p=e.style,s,o=e.path,h,c,l,w;if(o&&typeof o.value!="string"&&(o="x"),c=o,n){for(l=t(n.width,3),w=(n.opacity||.15)/l,f=1;f<=3;f++)h=l*2+1-2*f,r&&(c=this.cutOffPath(o.value,h+.5)),s=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',c,'" coordsize="10 10" style="',e.style.cssText,'" />'],u=ct(y.prepVML(s),null,{left:a(p.left)+t(n.offsetX,1),top:a(p.top)+t(n.offsetY,1)}),r&&(u.cutOff=h+1),s=['<stroke color="',n.color||"black",'" opacity="',w*f,'"/>'],ct(y.prepVML(s),null,null,u),i?i.element.appendChild(u):e.parentNode.insertBefore(u,e),v.push(u);this.shadows=v}return this},updateShadows:li,setAttr:function(n,t){hu?this.element[n]=t:this.element.setAttribute(n,t)},classSetter:function(n){this.element.className=n},dashstyleSetter:function(n,t,i){(i.getElementsByTagName("stroke")[0]||ct(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=n||"solid";this[t]=n},dSetter:function(n,t,i){var r=this.shadows,n=n||[];if(this.d=n.join&&n.join(" "),i.path=n=this.pathToVML(n),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(n,r[i].cutOff):n;this.setAttr(t,n)},fillSetter:function(n,t,i){var r=i.nodeName;r==="SPAN"?i.style.color=n:r!=="IMG"&&(i.filled=n!=="none",this.setAttr("fillcolor",this.renderer.color(n,i,t,this)))},opacitySetter:li,rotationSetter:function(n,t,i){i=i.style;this[t]=i[t]=n;i.left=-o(lt(n*bt)+1)+"px";i.top=o(ft(n*bt))+"px"},strokeSetter:function(n,t,i){this.setAttr("strokecolor",this.renderer.color(n,i,t))},"stroke-widthSetter":function(n,t,i){i.stroked=!!n;this[t]=n;oi(n)&&(n+="px");this.setAttr("strokeweight",n)},titleSetter:function(n,t){this.setAttr(t,n)},visibilitySetter:function(n,t,r){n==="inherit"&&(n="visible");this.shadows&&i(this.shadows,function(i){i.style[t]=n});r.nodeName==="DIV"&&(n=n==="hidden"?"-999em":0,hu||(r.style[t]=n?"visible":"hidden"),t="top");r.style[t]=n},xSetter:function(n,t,i){this[t]=n;t==="x"?t="left":t==="y"&&(t="top");this.updateClipping?(this[t]=n,this.updateClipping()):i.style[t]=n},zIndexSetter:function(n,t,i){i.style[t]=n}},s.VMLElement=ut=ri(nt,ut),ut.prototype.ySetter=ut.prototype.widthSetter=ut.prototype.heightSetter=ut.prototype.xSetter,tr={Element:ut,isIE8:yi.indexOf("MSIE 8.0")>-1,init:function(n,t,i,r){var u;if(this.alignedObjects=[],r=this.createElement(er).css(e(this.getStyle(r),{position:"relative"})),u=r.element,n.appendChild(r.element),this.isVML=!0,this.box=u,this.boxWrapper=r,this.gradients={},this.cache={},this.cacheKeys=[],this.setSize(t,i,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(f){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,t,r,u){var s=this.createElement(),f=yt(n);return e(s,{members:[],count:0,left:(f?n.x:n)+1,top:(f?n.y:t)+1,width:(f?n.width:r)-1,height:(f?n.height:u)-1,getCSS:function(n){var t=n.element,f=t.nodeName,n=n.inverted,i=this.top-(f==="shape"?t.offsetTop:0),r=this.left,t=r+this.width,u=i+this.height,i={clip:"rect("+o(n?r:i)+"px,"+o(n?u:t)+"px,"+o(n?t:u)+"px,"+o(n?i:r)+"px)"};return!n&&hu&&f==="DIV"&&e(i,{width:t+"px",height:u+"px"}),i},updateClipping:function(){i(s.members,function(n){n.element&&n.css(s.getCSS(n))})}})},color:function(n,t,r,u){var ht=this,s,b=/^rgba/,v,c,f="none";if(n&&n.linearGradient?c="gradient":n&&n.radialGradient&&(c="pattern"),c){var h,y,e=n.linearGradient||n.radialGradient,l,k,d,g,nt,p="",n=n.stops,w,tt=[],rt=function(){v=['<fill colors="'+tt.join(",")+'" opacity="',d,'" o:opacity2="',k,'" type="',c,'" ',p,'focus="100%" method="any" />'];ct(ht.prepVML(v),null,null,t)};if(l=n[0],w=n[n.length-1],l[0]>0&&n.unshift([0,l[1]]),w[0]<1&&n.push([1,w[1]]),i(n,function(n,t){b.test(n[1])?(s=pt(n[1]),h=s.get("rgb"),y=s.get("a")):(h=n[1],y=1);tt.push(n[0]*100+"% "+h);t?(d=y,g=h):(k=y,nt=h)}),r==="fill")if(c==="gradient")r=e.x1||e[0]||0,n=e.y1||e[1]||0,l=e.x2||e[2]||0,e=e.y2||e[3]||0,p='angle="'+(90-et.atan((e-n)/(l-r))*180/ui)+'"',rt();else{var f=e.r,ut=f*2,ft=f*2,ot=e.cx,st=e.cy,a=t.radialReference,o,f=function(){a&&(o=u.getBBox(),ot+=(a[0]-o.x)/o.width-.5,st+=(a[1]-o.y)/o.height-.5,ut*=a[2]/o.width,ft*=a[2]/o.height);p='src="'+it.global.VMLRadialGradientURL+'" size="'+ut+","+ft+'" origin="0.5,0.5" position="'+ot+","+st+'" color2="'+nt+'" ';rt()};u.added?f():u.onAdd=f;f=g}else f=h}else b.test(n)&&t.tagName!=="IMG"?(s=pt(n),v=["<",r,' opacity="',s.get("a"),'"/>'],ct(this.prepVML(v),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(r),f.length&&(f[0].opacity=1,f[0].type="solid"),f=n);return f},prepVML:function(n){var t=this.isIE8,n=n.join("");return t?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):n.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):n=n.replace("<","<hcv:"),n},text:ai.prototype.html,path:function(n){var t={coordsize:"10 10"};return ir(n)?t.d=n:yt(n)&&e(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){var r=this.symbol("circle");return yt(n)&&(i=n.r,t=n.y,n=n.x),r.isCircle=!0,r.r=i,r.attr({x:n,y:t})},g:function(n){var t;return n&&(t={className:"highcharts-"+n,"class":"highcharts-"+n}),this.createElement(er).attr(t)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return arguments.length>1&&f.attr({x:t,y:i,width:r,height:u}),f},createElement:function(n){return n==="rect"?this.symbol(n):ai.prototype.createElement.call(this,n)},invertChild:function(n,t){var f=this,u=t.style,r=n.tagName==="IMG"&&n.style;y(n,{flip:"x",left:a(u.width)-(r?a(r.top):1),top:a(u.height)-(r?a(r.left):1),rotation:-90});i(n.childNodes,function(t){f.invertChild(t,n)})},symbols:{arc:function(n,t,i,r,u){var f=u.start,o=u.end,e=u.r||i||r,i=u.innerR,r=ft(f),s=lt(f),h=ft(o),c=lt(o);return o-f==0?["x"]:(f=["wa",n-e,t-e,n+e,t+e,n+e*r,t+e*s,n+e*h,t+e*c],u.open&&!i&&f.push("e","M",n,t),f.push("at",n-i,t-i,n+i,t+i,n+i*h,t+i*c,n+i*r,t+i*s,"x","e"),f.isArc=!0,f)},circle:function(n,t,i,r,u){return u&&(i=r=2*u.r),u&&u.isCircle&&(n-=i/2,t-=r/2),["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,i,u,f){return ai.prototype.symbols[!r(f)||!f.r?"square":"callout"].call(0,n,t,i,u,f)}}},s.VMLRenderer=ut=function(){this.init.apply(this,arguments)},ut.prototype=c(ai.prototype,tr),dr=ut),ai.prototype.measureSpanWidth=function(n,t){var i=l.createElement("span"),r;return r=l.createTextNode(n),i.appendChild(r),y(i,t),this.box.appendChild(i),r=i.offsetWidth,ar(i),r},kt&&(s.CanVGRenderer=ut=function(){gi="http://www.w3.org/1999/xhtml"},ut.prototype.symbols={},df=function(){function t(){for(var i=n.length,t=0;t<i;t++)n[t]();n=[]}var n=[];return{push:function(i,r){n.length===0&&s.getScript(r,t);n.push(i)}}}(),dr=ut),yr.prototype={addLabel:function(){var n=this.axis,e=n.options,h=n.chart,i=n.categories,o=n.names,u=this.pos,s=e.labels,f=n.tickPositions,l=u===f[0],a=u===f[f.length-1],o=i?t(i[u],o[u],u):u,i=this.label,f=f.info,v;n.isDatetimeAxis&&f&&(v=e.dateTimeLabelFormats[f.higherRanks[u]||f.unitName]);this.isFirst=l;this.isLast=a;e=n.labelFormatter.call({axis:n,chart:h,isFirst:l,isLast:a,dateTimeLabelFormat:v,value:n.isLog?wt(ti(o)):o});r(i)?i&&i.attr({text:e}):(this.labelLength=(this.label=i=r(e)&&s.enabled?h.renderer.text(e,0,0,s.useHTML).css(c(s.style)).add(n.labelGroup):null)&&i.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(n){var i=this.axis,e=n.x,v=i.chart.chartWidth,c=i.chart.spacing,y=t(i.labelLeft,h(i.pos,c[3])),c=t(i.labelRight,u(i.pos+i.len,v-c[1])),p=this.label,l=this.rotation,f={left:0,center:.5,right:1}[i.labelAlign],s=p.getBBox().width,r=i.slotWidth,b=1,a,w={};l?l<0&&e-f*s<y?a=o(e/ft(l*bt)-y):l>0&&e+f*s>c&&(a=o((v-e)/ft(l*bt))):(v=e+(1-f)*s,e-f*s<y?r=n.x+r*(1-f)-y:v>c&&(r=c-n.x+r*f,b=-1),r=h(i.slotWidth,r),r<i.slotWidth&&i.labelAlign==="center"&&(n.x+=b*(i.slotWidth-r-f*(i.slotWidth-h(s,r)))),s>r||i.autoRotation&&p.styles.width)&&(a=r);a&&(w.width=a,i.options.labels.style.textOverflow||(w.textOverflow="ellipsis"),p.css(w))},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,i,u,f,e,s,h){var c=this.axis,y=c.transA,p=c.reversed,l=c.staggerLines,v=c.tickRotCorr||{x:0,y:0},a=f.y;return r(a)||(a=c.side===2?v.y+8:a=ft(i.rotation*bt)*(v.y-i.getBBox(!1,0).height/2)),n=n+f.x+v.x-(e&&u?e*y*(p?-1:1):0),t=t+a-(e&&!u?e*y*(p?1:-1):0),l&&(i=s/(h||1)%l,c.opposite&&(i=l-i-1),t+=i*(c.labelOffset/l)),{x:n,y:o(t)}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine(["M",n,t,"L",n+(u?0:-i),t+(u?i:0)],r)},render:function(n,i,r){var u=this.axis,e=u.options,d=u.chart.renderer,c=u.horiz,s=this.type,p=this.label,l=this.pos,w=e.labels,h=this.gridLine,a=s?s+"Grid":"grid",v=s?s+"Tick":"tick",b=e[a+"LineWidth"],ut=e[a+"LineColor"],it=e[a+"LineDashStyle"],y=e[v+"Length"],a=t(e[v+"Width"],!s&&u.isXAxis?1:0),ft=e[v+"Color"],et=e[v+"Position"],v=this.mark,g=w.step,nt=!0,tt=u.tickmarkOffset,o=this.getPosition(c,l,tt,i),k=o.x,o=o.y,rt=c&&k===u.pos+u.len||!c&&o===u.pos?-1:1,r=t(r,1);this.isActive=!0;b&&(l=u.getPlotLinePath(l+tt,b*rt,i,!0),h===f&&(h={stroke:ut,"stroke-width":b},it&&(h.dashstyle=it),s||(h.zIndex=1),i&&(h.opacity=0),this.gridLine=h=b?d.path(l).attr(h).add(u.gridGroup):null),!i&&h&&l&&h[this.isNew?"attr":"animate"]({d:l,opacity:r}));a&&y&&(et==="inside"&&(y=-y),u.opposite&&(y=-y),s=this.getMarkPath(k,o,y,a*rt,c,d),v?v.animate({d:s,opacity:r}):this.mark=d.path(s).attr({stroke:ft,"stroke-width":a,opacity:r}).add(u.axisGroup));p&&!isNaN(k)&&(p.xy=o=this.getLabelPosition(k,o,p,c,w,tt,n,g),this.isFirst&&!this.isLast&&!t(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!t(e.showLastLabel,1)?nt=!1:c&&!u.isRadial&&!w.step&&!w.rotation&&!i&&r!==0&&this.handleOverflow(o),g&&n%g&&(nt=!1),nt&&!isNaN(o.y)?(o.opacity=r,p[this.isNew?"attr":"animate"](o),this.isNew=!1):p.attr("y",-9999))},destroy:function(){lr(this,this.axis)}},s.PlotLineOrBand=function(n,t){this.axis=n;t&&(this.options=t,this.id=t.id)},s.PlotLineOrBand.prototype={render:function(){var o=this,f=o.axis,h=f.horiz,t=o.options,u=t.label,s=o.label,p=t.width,a=t.to,v=t.from,i=r(v)&&r(a),w=t.value,d=t.dashStyle,l=o.svgElem,n=[],g,b=t.color,y=t.zIndex,k=t.events,e={},nt=f.chart.renderer;if(f.isLog&&(v=ki(v),a=ki(a),w=ki(w)),p)(n=f.getPlotLinePath(w,p),e={stroke:b,"stroke-width":p},d)&&(e.dashstyle=d);else if(i)n=f.getPlotBandPath(v,a,t),b&&(e.fill=b),t.borderWidth&&(e.stroke=t.borderColor,e["stroke-width"]=t.borderWidth);else return;if(r(y)&&(e.zIndex=y),l)n?(l.show(),l.animate({d:n})):(l.hide(),s)&&(o.label=s=s.destroy());else if(n&&n.length&&(o.svgElem=l=nt.path(n).attr(e).add(),k))for(g in t=function(n){l.on(n,function(t){k[n].apply(o,[t])})},k)t(g);return u&&r(u.text)&&n&&n.length&&f.width>0&&f.height>0&&!n.flat?(u=c({align:h&&i&&"center",x:h?!i&&4:10,verticalAlign:!h&&i&&"middle",y:h?i?16:10:i?6:-4,rotation:h&&!i&&90},u),s||(e={align:u.textAlign||u.align,rotation:u.rotation},r(y)&&(e.zIndex=y),o.label=s=nt.text(u.text,0,0,u.useHTML).attr(e).css(u.style).add()),f=[n[1],n[4],i?n[6]:n[1]],i=[n[2],n[5],i?n[7]:n[2]],n=cr(f),h=cr(i),s.align(u,!1,{x:n,y:h,width:di(f)-n,height:di(i)-h}),s.show()):s&&s.hide(),o},destroy:function(){ii(this.axis.plotLinesAndBands,this);delete this.axis;lr(this)}},dt=s.Axis=function(){this.init.apply(this,arguments)},dt.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return s.numberFormat(this.total,-1)},style:c(ht.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(n,i){var e=i.isX,o,s,u;this.chart=n;this.horiz=n.inverted?!e:e;this.coll=(this.isXAxis=e)?"xAxis":"yAxis";this.opposite=i.opposite;this.side=i.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(i);u=this.options;o=u.type;this.labelFormatter=u.labels.formatter||this.defaultLabelFormatter;this.userOptions=i;this.minPixelPadding=0;this.reversed=u.reversed;this.visible=u.visible!==!1;this.zoomEnabled=u.zoomEnabled!==!1;this.categories=u.categories||o==="category";this.names=this.names||[];this.isLog=o==="logarithmic";this.isDatetimeAxis=o==="datetime";this.isLinked=r(u.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=u.minRange||u.maxZoom;this.range=u.range;this.offset=u.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=t(u.crosshair,si(n.options.tooltip.crosshairs)[e?0:1],!1);u=this.options.events;nr(this,n.axes)===-1&&(e&&!this.isColorAxis?n.axes.splice(n.xAxis.length,0,this):n.axes.push(this),n[this.coll].push(this));this.series=this.series||[];n.inverted&&e&&this.reversed===f&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in u)d(this,s,u[s]);this.isLog&&(this.val2lin=ki,this.lin2val=ti)},setOptions:function(n){this.options=c(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],c(it[this.coll],n))},defaultLabelFormatter:function(){var i=this.axis,n=this.value,r=i.categories,o=this.dateTimeLabelFormat,e=it.lang.numericSymbols,u=e&&e.length,t,h=i.options.labels.format,i=i.isLog?n:i.tickInterval;if(h)t=ur(h,this);else if(r)t=n;else if(o)t=pr(o,n);else if(u&&i>=1e3)for(;u--&&t===f;)r=Math.pow(1e3,u+1),i>=r&&n*10%r==0&&e[u]!==null&&(t=s.numberFormat(n/r,-1)+e[u]);return t===f&&(t=w(n)>=1e4?s.numberFormat(n,-1):s.numberFormat(n,-1,f,"")),t},getSeriesExtremes:function(){var n=this,f=n.chart;n.hasVisibleSeries=!1;n.dataMin=n.dataMax=n.threshold=null;n.softThreshold=!n.isXAxis;n.buildStacks&&n.buildStacks();i(n.series,function(i){if(i.visible||!f.options.chart.ignoreHiddenSeries){var e=i.options,o=e.threshold,s;n.hasVisibleSeries=!0;n.isLog&&o<=0&&(o=null);n.isXAxis?(e=i.xData,e.length)&&(n.dataMin=h(t(n.dataMin,e[0]),cr(e)),n.dataMax=u(t(n.dataMax,e[0]),di(e))):(i.getExtremes(),s=i.dataMax,i=i.dataMin,r(i)&&r(s)&&(n.dataMin=h(t(n.dataMin,i),i),n.dataMax=u(t(n.dataMax,s),s)),r(o)&&(n.threshold=o),(!e.softThreshold||n.isLog)&&(n.softThreshold=!1))}})},translate:function(n,t,i,r,u,f){var e=this.linkedParent||this,o=1,h=0,s=r?e.oldTransA:e.transA,r=r?e.oldMin:e.min,c=e.minPixelPadding,u=(e.doPostTranslate||e.isLog&&u)&&e.lin2val;return s||(s=e.transA),i&&(o*=-1,h=e.len),e.reversed&&(o*=-1,h-=o*(e.sector||e.len)),t?(n=n*o+h,n-=c,n=n/s+r,u&&(n=e.lin2val(n))):(u&&(n=e.val2lin(n)),f==="between"&&(f=.5),n=o*(n-r)*s+h+o*c+(oi(f)?s*f*e.pointRange:0)),n},toPixels:function(n,t){return this.translate(n,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(n,t){return this.translate(n-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(n,i,r,f,e){var c=this.chart,a=this.left,v=this.top,s,l,p=r&&c.oldChartHeight||c.chartHeight,b=r&&c.oldChartWidth||c.chartWidth,y;s=this.transB;var w=function(n,t,i){return(n<t||n>i)&&(f?n=h(u(t,n),i):y=!0),n},e=t(e,this.translate(n,null,null,r)),n=r=o(e+s);return s=l=o(p-e-s),isNaN(e)?y=!0:this.horiz?(s=v,l=p-this.bottom,n=r=w(n,a,a+this.width)):(n=a,r=b-this.right,s=l=w(s,v,v+this.height)),y&&!f?null:c.renderer.crispLine(["M",n,s,"L",r,l],i||1)},getLinearTickPositions:function(n,t,i){var r,f=wt(rt(t/n)*n),e=wt(hi(i/n)*n),u=[];if(t===i&&oi(t))return[t];for(t=f;t<=e;){if(u.push(t),t=wt(t+n),t===r)break;r=t}return u},getMinorTickPositions:function(){var f=this.options,t=this.tickPositions,u=this.minorTickInterval,i=[],n,r=this.pointRangePadding||0,e;if(n=this.min-r,r=this.max+r,e=r-n,e&&e/u<this.len/3)if(this.isLog)for(r=t.length,n=1;n<r;n++)i=i.concat(this.getLogTickPositions(u,t[n-1],t[n],!0));else if(this.isDatetimeAxis&&f.minorTickInterval==="auto")i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(u),n,r,f.startOfWeek));else for(t=n+(t[0]-n)%u;t<=r;t+=u)i.push(t);return i.length!==0&&this.trimTicks(i,f.startOnTick,f.endOnTick),i},adjustForMinRange:function(){var s=this.options,n=this.min,u=this.max,e,y=this.dataMax-this.dataMin>=this.minRange,l,c,v,a,p,o;this.isXAxis&&this.minRange===f&&!this.isLog&&(r(s.min)||r(s.max)?this.minRange=null:(i(this.series,function(n){for(a=n.xData,c=p=n.xIncrement?1:a.length-1;c>0;c--)(v=a[c]-a[c-1],l===f||v<l)&&(l=v)}),this.minRange=h(l*5,this.dataMax-this.dataMin)));u-n<this.minRange&&(o=this.minRange,e=(o-u+n)/2,e=[n-e,t(s.min,n-e)],y&&(e[2]=this.dataMin),n=di(e),u=[n+o,t(s.max,n+o)],y&&(u[2]=this.dataMax),u=cr(u),u-n<o&&(e[0]=u-o,e[1]=t(s.min,u-o),n=di(e)));this.min=n;this.max=u},setAxisTranslation:function(n){var f=this,y=f.max-f.min,l=f.axisPointRange||0,e,s=0,c=0,o=f.linkedParent,p=!!f.categories,a=f.transA,v=f.isXAxis;(v||p||l)&&(o?(s=o.minPointOffset,c=o.pointRangePadding):(i(f.series,function(n){var t=n.closestPointRange;!n.noSharedTooltip&&r(t)&&(e=r(e)?h(e,t):t)}),i(f.series,function(n){var i=p?1:v?t(n.options.pointRange,e,0):f.axisPointRange||0,n=n.options.pointPlacement;l=u(l,i);f.single||(s=u(s,bi(n)?0:i/2),c=u(c,n==="on"?0:i))})),o=f.ordinalSlope&&e?f.ordinalSlope/e:1,f.minPointOffset=s*=o,f.pointRangePadding=c*=o,f.pointRange=h(l,y),v)&&(f.closestPointRange=e);n&&(f.oldTransA=a);f.translationSlope=f.transA=a=f.len/(y+c||1);f.transB=f.horiz?f.left:f.bottom;f.minPixelPadding=a*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(n){var f=this,s=f.chart,e=f.options,k=f.isLog,d=f.isDatetimeAxis,it=f.isXAxis,v=f.isLinked,y=e.maxPadding,p=e.minPadding,c=e.tickInterval,w=e.tickPixelInterval,b=f.categories,o=f.threshold,g=f.softThreshold,nt,tt,l,a;d||b||v||this.getTickAmount();l=t(f.userMin,e.min);a=t(f.userMax,e.max);v?(f.linkedParent=s[f.coll][e.linkedTo],s=f.linkedParent.getExtremes(),f.min=t(s.min,s.dataMin),f.max=t(s.max,s.dataMax),e.type!==f.linkedParent.options.type&&ni(11,1)):(!g&&r(o)&&(f.dataMin>=o?(nt=o,p=0):f.dataMax<=o&&(tt=o,y=0)),f.min=t(l,nt,f.dataMin),f.max=t(a,tt,f.dataMax));k&&(!n&&h(f.min,t(f.dataMin,f.min))<=0&&ni(10,1),f.min=wt(ki(f.min),15),f.max=wt(ki(f.max),15));f.range&&r(f.max)&&(f.userMin=f.min=l=u(f.min,f.minFromRange()),f.userMax=a=f.max,f.range=null);f.beforePadding&&f.beforePadding();f.adjustForMinRange();b||f.axisPointRange||f.usePercentage||v||!r(f.min)||!r(f.max)||!(s=f.max-f.min)||(!r(l)&&p&&(f.min-=s*p),!r(a)&&y&&(f.max+=s*y));oi(e.floor)&&(f.min=u(f.min,e.floor));oi(e.ceiling)&&(f.max=h(f.max,e.ceiling));g&&r(f.dataMin)&&((o=o||0,!r(l)&&f.min<o&&f.dataMin>=o)?f.min=o:!r(a)&&f.max>o&&f.dataMax<=o&&(f.max=o));f.tickInterval=f.min===f.max||f.min===void 0||f.max===void 0?1:v&&!c&&w===f.linkedParent.options.tickPixelInterval?c=f.linkedParent.tickInterval:t(c,this.tickAmount?(f.max-f.min)/u(this.tickAmount-1,1):void 0,b?1:(f.max-f.min)*w/u(f.len,w));it&&!n&&i(f.series,function(n){n.processData(f.min!==f.oldMin||f.max!==f.oldMax)});f.setAxisTranslation(!0);f.beforeSetTickPositions&&f.beforeSetTickPositions();f.postProcessTickInterval&&(f.tickInterval=f.postProcessTickInterval(f.tickInterval));f.pointRange&&!c&&(f.tickInterval=u(f.pointRange,f.tickInterval));n=t(e.minTickInterval,f.isDatetimeAxis&&f.closestPointRange);!c&&f.tickInterval<n&&(f.tickInterval=n);d||k||c||(f.tickInterval=wu(f.tickInterval,null,pu(f.tickInterval),t(e.allowDecimals,!(f.tickInterval>.5&&f.tickInterval<5&&f.max>1e3&&f.max<9999)),!!this.tickAmount));!this.tickAmount&&this.len&&(f.tickInterval=f.unsquish());this.setTickPositions()},setTickPositions:function(){var t=this.options,n,u=t.tickPositions,i=t.tickPositioner,e=t.startOnTick,o=t.endOnTick,f;this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0;this.minorTickInterval=t.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:t.minorTickInterval;this.tickPositions=n=u&&u.slice();!n&&(n=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),n.length>this.len&&(n=[n[0],n.pop()]),this.tickPositions=n,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=n=i);this.isLinked||(this.trimTicks(n,e,o),this.min===this.max&&r(this.min)&&!this.tickAmount&&(f=!0,this.min-=.5,this.max+=.5),this.single=f,!u&&!i&&this.adjustTickAmount())},trimTicks:function(n,t,i){var u=n[0],f=n[n.length-1],e=this.minPointOffset||0;t?this.min=u:this.min-e>u&&n.shift();i?this.max=f:this.max+e<f&&n.pop();n.length===0&&r(u)&&n.push((f+u)/2)},alignToOthers:function(){var n={},t,r=this.options;return this.chart.options.chart.alignTicks!==!1&&r.alignTicks!==!1&&i(this.chart[this.coll],function(i){var r=i.options,r=[i.horiz?r.left:r.top,r.width,r.height,r.pane].join(",");i.series.length&&(n[r]?t=!0:n[r]=1)}),t},getTickAmount:function(){var t=this.options,n=t.tickAmount,i=t.tickPixelInterval;!r(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(n=2);!n&&this.alignToOthers()&&(n=hi(this.len/i)+1);n<4&&(this.finalTickAmt=n,n=5);this.tickAmount=n},adjustTickAmount:function(){var t=this.tickInterval,n=this.tickPositions,i=this.tickAmount,u=this.finalTickAmt,e=n&&n.length;if(e<i){for(;n.length<i;)n.push(wt(n[n.length-1]+t));this.transA*=(e-1)/(i-1);this.max=n[n.length-1]}else e>i&&(this.tickInterval*=2,this.setTickPositions());if(r(u)){for(t=i=n.length;t--;)(u===3&&t%2==1||u<=2&&t>0&&t<i-1)&&n.splice(t,1);this.finalTickAmt=f}},setScale:function(){var t,n;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();n=this.len!==this.oldAxisLength;i(this.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(t=!0)});n||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty)||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax):this.cleanStacks&&this.cleanStacks()},setExtremes:function(n,r,u,f,o){var s=this,h=s.chart,u=t(u,!0);i(s.series,function(n){delete n.kdTree});o=e(o,{min:n,max:r});p(s,"setExtremes",o,function(){s.userMin=n;s.userMax=r;s.eventArgs=o;u&&h.redraw(f)})},zoom:function(n,i){var o=this.dataMin,s=this.dataMax,e=this.options,c=h(o,t(e.min,o)),e=u(s,t(e.max,s));return this.allowZoomOutside||(r(o)&&n<=c&&(n=c),r(s)&&i>=e&&(i=e)),this.displayBtn=n!==f||i!==f,this.setExtremes(n,i,!1,f,{trigger:"zoom"}),!0},setAxisSize:function(){var n=this.chart,i=this.options,e=i.offsetLeft||0,s=this.horiz,o=t(i.width,n.plotWidth-e+(i.offsetRight||0)),r=t(i.height,n.plotHeight),f=t(i.top,n.plotTop),i=t(i.left,n.plotLeft+e),e=/%$/;e.test(r)&&(r=parseFloat(r)/100*n.plotHeight);e.test(f)&&(f=parseFloat(f)/100*n.plotHeight+n.plotTop);this.left=i;this.top=f;this.width=o;this.height=r;this.bottom=n.chartHeight-r-f;this.right=n.chartWidth-o-i;this.len=u(s?o:r,0);this.pos=s?i:f},getExtremes:function(){var n=this.isLog;return{min:n?wt(ti(this.min)):this.min,max:n?wt(ti(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(n){var t=this.isLog,i=t?ti(this.min):this.min,t=t?ti(this.max):this.max;return n===null?n=t<0?t:i:i>n?n=i:t<n&&(n=t),this.translate(n,0,1,0,1)},autoLabelAlign:function(n){return n=(t(n,0)-this.side*90+720)%360,n>15&&n<165?"right":n>195&&n<345?"left":"center"},unsquish:function(){var h=this.ticks,n=this.options.labels,p=this.horiz,f=this.tickInterval,e=f,c=this.len/(((this.categories?1:0)+this.max-this.min)/f),l,u=n.rotation,a=this.chart.renderer.fontMetrics(n.style.fontSize,h[0]&&h[0].label),o,v=Number.MAX_VALUE,s,y=function(n){return n/=c||1,n=n>1?hi(n):1,n*f};return p?(s=!n.staggerLines&&!n.step&&(r(u)?[u]:c<t(n.autoRotationLimit,80)&&n.autoRotation))&&i(s,function(n){var t;(n===u||n&&n>=-90&&n<=90)&&(o=y(w(a.h/lt(bt*n))),t=o+w(n/360),t<v&&(v=t,l=n,e=o))}):n.step||(e=y(a.h)),this.autoRotation=s,this.labelRotation=t(l,u),e},renderUnsquish:function(){var n=this.chart,b=n.renderer,r=this.tickPositions,e=this.ticks,t=this.options.labels,y=this.horiz,l=n.margin,a=this.categories?r.length:r.length-1,l=this.slotWidth=y&&(t.step||0)<2&&!t.rotation&&(this.staggerLines||1)*n.plotWidth/a||!y&&(l[3]&&l[3]-n.spacing[3]||n.chartWidth*.33),f=u(1,o(l-2*(t.padding||5))),s={},a=b.fontMetrics(t.style.fontSize,e[0]&&e[0].label),k=t.style.textOverflow,h,v=0,p,w;if(bi(t.rotation)||(s.rotation=t.rotation||0),this.autoRotation)i(r,function(n){(n=e[n])&&n.labelLength>v&&(v=n.labelLength)}),v>f&&v>a.h?s.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(h={width:f+"px"},!k))for(h.textOverflow="clip",p=r.length;!y&&p--;)(w=r[p],f=e[w].label)&&(f.styles.textOverflow==="ellipsis"&&f.css({textOverflow:"clip"}),f.getBBox().height>this.len/r.length-(a.h-a.f)||e[w].labelLength>l)&&(f.specCss={textOverflow:"ellipsis"});s.rotation&&(h={width:(v>n.chartHeight*.5?n.chartHeight*.33:n.chartHeight)+"px"},!k)&&(h.textOverflow="ellipsis");this.labelAlign=s.align=t.align||this.autoLabelAlign(this.labelRotation);i(r,function(n){var t=(n=e[n])&&n.label;t&&(t.attr(s),h&&t.css(c(h,t.specCss)),delete t.specCss,n.rotation=s.rotation)});this.tickRotCorr=b.rotCorr(a.b,this.labelRotation||0,this.side!==0)},hasData:function(){return this.hasVisibleSeries||r(this.min)&&r(this.max)&&!!this.tickPositions},getOffset:function(){var n=this,h=n.chart,c=h.renderer,e=n.options,nt=n.tickPositions,s=n.ticks,l=n.horiz,o=n.side,tt=h.inverted?[1,0,3,2][o]:o,y,p,it=0,w,ut=0,f=e.title,v=e.labels,a=0,ft=n.opposite,b=h.axisOffset,h=h.clipOffset,k=[-1,1,1,-1][o],d,g=n.axisParent;if(y=n.hasData(),n.showAxis=p=y||t(e.showEmpty,!0),n.staggerLines=n.horiz&&v.staggerLines,n.axisGroup||(n.gridGroup=c.g("grid").attr({zIndex:e.gridZIndex||1}).add(g),n.axisGroup=c.g("axis").attr({zIndex:e.zIndex||2}).add(g),n.labelGroup=c.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels").add(g)),y||n.isLinked)(i(nt,function(t){s[t]?s[t].addLabel():s[t]=new yr(n,t)}),n.renderUnsquish(),v.reserveSpace!==!1&&(o===0||o===2||{1:"left",3:"right"}[o]===n.labelAlign||n.labelAlign==="center")&&i(nt,function(n){a=u(s[n].getLabelSize(),a)}),n.staggerLines)&&(a*=n.staggerLines,n.labelOffset=a*(n.opposite?-1:1));else for(d in s)s[d].destroy(),delete s[d];f&&f.text&&f.enabled!==!1&&(n.axisTitle||(n.axisTitle=c.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:ft?"right":"left",middle:"center",high:ft?"left":"right"}[f.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(f.style).add(n.axisGroup),n.axisTitle.isNew=!0),p&&(it=n.axisTitle.getBBox()[l?"height":"width"],w=f.offset,ut=r(w)?0:t(f.margin,l?5:10)),n.axisTitle[p?"show":"hide"](!0));n.offset=k*t(e.offset,b[o]);n.tickRotCorr=n.tickRotCorr||{x:0,y:0};c=o===2?n.tickRotCorr.y:0;l=Math.abs(a)+ut+(a&&k*(l?t(v.y,n.tickRotCorr.y+8):v.x)-c);n.axisTitleMargin=t(w,l);b[o]=u(b[o],n.axisTitleMargin+it+k*n.offset,l);e=e.offset?0:rt(e.lineWidth/2)*2;h[tt]=u(h[tt],e)},getLinePath:function(n){var t=this.chart,u=this.opposite,i=this.offset,r=this.horiz,f=this.left+(u?this.width:0)+i,i=t.chartHeight-this.bottom-(u?this.height:0)+i;return u&&(n*=-1),t.renderer.crispLine(["M",r?this.left:f,r?i:this.top,"L",r?t.chartWidth-this.right:f,r?i:t.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,i=this.left,e=this.top,t=this.len,r=this.options.title,u=n?i:e,f=this.opposite,o=this.offset,s=r.x||0,h=r.y||0,c=a(r.style.fontSize||12),t={low:u+(n?0:t),middle:u+t/2,high:u+(n?t:0)}[r.align],i=(n?e+this.height:i)+(n?1:-1)*(f?-1:1)*this.axisTitleMargin+(this.side===2?c:0);return{x:n?t+s:i+(f?this.width:0)+o+s,y:n?i+h-(f?this.height:0)+o:t+h}},render:function(){var n=this,l=n.chart,b=l.renderer,o=n.options,k=n.isLog,d=n.isLinked,c=n.tickPositions,a=n.axisTitle,t=n.ticks,e=n.minorTicks,u=n.alternateBands,g=o.stackLabels,nt=o.alternateGridColor,h=n.tickmarkOffset,y=o.lineWidth,p,tt=l.hasRendered&&r(n.oldMin)&&!isNaN(n.oldMin),it=n.showAxis,rt=b.globalAnimation,w,v;n.labelEdge.length=0;n.overlap=!1;i([t,e,u],function(n){for(var t in n)n[t].isActive=!1});(n.hasData()||d)&&(n.minorTickInterval&&!n.categories&&i(n.getMinorTickPositions(),function(t){e[t]||(e[t]=new yr(n,t,"minor"));tt&&e[t].isNew&&e[t].render(null,!0);e[t].render(null,!1,1)}),c.length&&(i(c,function(i,r){(!d||i>=n.min&&i<=n.max)&&(t[i]||(t[i]=new yr(n,i)),tt&&t[i].isNew&&t[i].render(r,!0,.1),t[i].render(r))}),h&&(n.min===0||n.single))&&(t[-1]||(t[-1]=new yr(n,-1,null,!0)),t[-1].render(-1)),nt&&i(c,function(t,i){v=c[i+1]!==f?c[i+1]+h:n.max-h;i%2==0&&t<n.max&&v<=n.max+(l.polar?-h:h)&&(u[t]||(u[t]=new s.PlotLineOrBand(n)),w=t+h,u[t].options={from:k?ti(w):w,to:k?ti(v):v,color:nt},u[t].render(),u[t].isActive=!0)}),n._addedPlotLB||(i((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0));i([t,e,u],function(n){var t,i,r=[],f=rt?rt.duration||500:0;for(t in n)n[t].isActive||(n[t].render(t,!1,0),n[t].isActive=!1,r.push(t));hr(function(){for(i=r.length;i--;)n[r[i]]&&!n[r[i]].isActive&&(n[r[i]].destroy(),delete n[r[i]])},n===u||!l.hasRendered||!f?0:f)});y&&(p=n.getLinePath(y),n.axisLine?n.axisLine.animate({d:p}):n.axisLine=b.path(p).attr({stroke:o.lineColor,"stroke-width":y,zIndex:7}).add(n.axisGroup),n.axisLine[it?"show":"hide"](!0));a&&it&&(a[a.isNew?"attr":"animate"](n.getTitlePosition()),a.isNew=!1);g&&g.enabled&&n.renderStackTotals();n.isDirty=!1},redraw:function(){this.visible&&(this.render(),i(this.plotLinesAndBands,function(n){n.render()}));i(this.series,function(n){n.isDirty=!0})},destroy:function(n){var t=this,r=t.stacks,u,f=t.plotLinesAndBands;n||st(t);for(u in r)lr(r[u]),r[u]=null;for(i([t.ticks,t.minorTicks,t.alternateBands],function(n){lr(n)}),n=f.length;n--;)f[n].destroy();i("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(n){t[n]&&(t[n]=t[n].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(n,i){var u,f=this.crosshair,e,o;!this.crosshair||(r(i)||!t(f.snap,!0))===!1||i&&i.series&&i.series[this.coll]!==this?this.hideCrosshair():(t(f.snap,!0)?r(i)&&(u=this.isXAxis?i.plotX:this.len-i.plotY):u=this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos,u=this.isRadial?this.getPlotLinePath(this.isXAxis?i.x:t(i.stackY,i.y))||null:this.getPlotLinePath(null,null,null,null,u)||null,u===null)?this.hideCrosshair():(e=this.categories&&!this.isRadial,o=t(f.width,e?this.transA:1),this.cross)?this.cross.attr({d:u,visibility:"visible","stroke-width":o}):(e={"stroke-width":o,stroke:f.color||(e?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:t(f.zIndex,2)},f.dashStyle&&(e.dashstyle=f.dashStyle),this.cross=this.chart.renderer.path(u).attr(e).add())},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(dt.prototype,{getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(n,null,null,!0);return r&&i?(r.flat=r.toString()===i.toString(),r.push(i[4],i[5],i[1],i[2])):r=null,r},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(n,t){var i=new s.PlotLineOrBand(this,n).render(),r=this.userOptions;return i&&(t&&(r[t]=r[t]||[],r[t].push(n)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(n){for(var r=this.plotLinesAndBands,u=this.options,f=this.userOptions,t=r.length;t--;)r[t].id===n&&r[t].destroy();i([u.plotLines||[],f.plotLines||[],u.plotBands||[],f.plotBands||[]],function(i){for(t=i.length;t--;)i[t].id===n&&ii(i,i[t])})}}),dt.prototype.getTimeTicks=function(n,u,f,o){var a=[],y={},p=it.global.useUTC,l,s=new pi(u-kr(u)),h=n.unitRange,c=n.count;if(r(u)){s[vf](h>=v.second?0:c*rt(s.getMilliseconds()/c));h>=v.second&&s[yf](h>=v.minute?0:c*rt(s.getSeconds()/c));h>=v.minute&&s[pf](h>=v.hour?0:c*rt(s[gu]()/c));h>=v.hour&&s[wf](h>=v.day?0:c*rt(s[nf]()/c));h>=v.day&&s[rf](h>=v.month?1:c*rt(s[tu]()/c));h>=v.month&&(s[uf](h>=v.year?0:c*rt(s[iu]()/c)),l=s[ru]());h>=v.year&&(l-=l%c,s[ff](l));h===v.week&&s[rf](s[tu]()-s[tf]()+t(o,1));u=1;(du||yu)&&(s=s.getTime(),s=new pi(s+kr(s)));l=s[ru]();for(var o=s.getTime(),w=s[iu](),b=s[tu](),k=(v.day+(p?kr(s):s.getTimezoneOffset()*6e4))%v.day;o<f;)a.push(o),h===v.year?o=vu(l+u*c,0):h===v.month?o=vu(l,w+u*c):!p&&(h===v.day||h===v.week)?o=vu(l,w,b+u*c*(h===v.day?1:7)):o+=h*c,u++;a.push(o);i(fu(a,function(n){return h<=v.hour&&n%v.day===k}),function(n){y[n]="day"})}return a.info=e(n,{higherRanks:y,totalRange:h*c}),a},dt.prototype.normalizeTimeTickInterval=function(n,t){for(var i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=i[i.length-1],f=v[r[0]],o=r[1],e=0;e<i.length;e++)if(r=i[e],f=v[r[0]],o=r[1],i[e+1]&&n<=(f*o[o.length-1]+v[i[e+1][0]])/2)break;return f===v.year&&n<5*f&&(o=[1,2,5]),i=wu(n/f,o,r[0]==="year"?u(pu(n/f),1):1),{unitRange:f,count:i,unitName:r[0]}},dt.prototype.getLogTickPositions=function(n,i,r,u){var s=this.options,e=this.len,c=[],l,y,a,h,v;if(u||(this._minorAutoInterval=null),n>=.5)n=o(n),c=this.getLinearTickPositions(n,i,r);else if(n>=.08)for(e=rt(i),s=n>.3?[1,2,4]:n>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];e<r+1&&!v;e++)for(y=s.length,l=0;l<y&&!v;l++)a=ki(ti(e)*s[l]),a>i&&(!u||h<=r)&&h!==f&&c.push(h),h>r&&(v=!0),h=a;else(i=ti(i),r=ti(r),n=s[u?"minorTickInterval":"tickInterval"],n=t(n==="auto"?null:n,this._minorAutoInterval,(r-i)*(s.tickPixelInterval/(u?5:1))/((u?e/this.tickPositions.length:e)||1)),n=wu(n,null,pu(n)),c=or(this.getLinearTickPositions(n,i,r),ki),u)||(this._minorAutoInterval=n/5);return u||(this.tickInterval=n),c},ef=s.Tooltip=function(){this.init.apply(this,arguments)},ef.prototype={init:function(n,t){var r=t.borderWidth,i=t.style,u=a(i.padding);this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=n.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:u,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999});kt||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,t,i,r){var u=this,o=u.now,s=u.options.animation!==!1&&!u.isHidden&&(w(n-o.x)>1||w(t-o.y)>1),h=u.followPointer||u.len>1;e(o,{x:s?(2*o.x+n)/3:n,y:s?(o.y+t)/2:t,anchorX:h?f:s?(2*o.anchorX+i)/3:i,anchorY:h?f:s?(o.anchorY+r)/2:r});u.label.attr(o);s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,t,i,r)},32))},hide:function(n){var i=this;clearTimeout(this.hideTimer);n=t(n,this.options.hideDelay,500);this.isHidden||(this.hideTimer=hr(function(){i.label[n?"fadeOut":"hide"]();i.isHidden=!0},n))},getAnchor:function(n,t){var u,r=this.chart,e=r.inverted,c=r.plotTop,v=r.plotLeft,s=0,h=0,l,a,n=si(n);return u=n[0].tooltipPos,this.followPointer&&t&&(t.chartX===f&&(t=r.pointer.normalize(t)),u=[t.chartX-r.plotLeft,t.chartY-c]),u||(i(n,function(n){l=n.series.yAxis;a=n.series.xAxis;s+=n.plotX+(!e&&a?a.left-v:0);h+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!e&&l?l.top-c:0)}),s/=n.length,h/=n.length,u=[e?r.plotWidth-h:s,this.shared&&!e&&n.length>1&&t?t.chartY-c:e?r.plotHeight-s:h]),or(u,o)},getPosition:function(n,i,r){var f=this.chart,o=this.distance,e={},s=r.h||0,c,l=["y",f.chartHeight,i,r.plotY+f.plotTop,f.plotTop,f.plotTop+f.plotHeight],a=["x",f.chartWidth,n,r.plotX+f.plotLeft,f.plotLeft,f.plotLeft+f.plotWidth],p=t(r.ttBelow,f.inverted&&!r.negative||!f.inverted&&r.negative),w=function(n,t,i,r,f,c){var a=i<r-o,v=r+o+i<t,l=r-o-i;if(r+=o,p&&v)e[n]=r;else if(!p&&a)e[n]=l;else if(a)e[n]=h(c-i,l-s<0?l:l-s);else if(v)e[n]=u(f,r+s+i>t?r:r+s);else return!1},b=function(n,t,i,r){var u;return r<o||r>t-o?u=!1:e[n]=r<i/2?1:r>t-i/2?t-i-2:r-i/2,u},v=function(n){var t=l;l=a;a=t;c=n},y=function(){w.apply(0,l)!==!1?b.apply(0,a)===!1&&!c&&(v(!0),y()):c?e.x=e.y=0:(v(!0),y())};return(f.inverted||this.len>1)&&v(),y(),e},defaultFormatter:function(n){var i=this.points||si(this),t;return t=[n.tooltipFooterHeaderFormatter(i[0])],t=t.concat(n.bodyFormatter(i)),t.push(n.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(n,r){var e=this.chart,o=this.label,v=this.options,h,c,s,u={},f,l=[],a,y;f=v.formatter||this.defaultFormatter;u=e.hoverPoints;y=this.shared;clearTimeout(this.hideTimer);this.followPointer=si(n)[0].series.tooltipOptions.followPointer;s=this.getAnchor(n,r);h=s[0];c=s[1];y&&(!n.series||!n.series.noSharedTooltip)?(e.hoverPoints=n,u&&i(u,function(n){n.setState()}),i(n,function(n){n.setState("hover");l.push(n.getLabelConfig())}),u={x:n[0].category,y:n[0].y},u.points=l,this.len=l.length,n=n[0]):u=n.getLabelConfig();f=f.call(u,this);u=n.series;this.distance=t(u.tooltipOptions.distance,16);f===!1?this.hide():(this.isHidden&&(br(o),o.attr("opacity",1).show()),o.attr({text:f}),a=v.borderColor||n.color||u.color||"#606060",o.attr({stroke:a}),this.updatePosition({plotX:h,plotY:c,negative:n.negative,ttBelow:n.ttBelow,h:s[2]||0}),this.isHidden=!1);p(e,"tooltipRefresh",{text:f,x:h+e.plotLeft,y:c+e.plotTop,borderColor:a})},updatePosition:function(n){var i=this.chart,t=this.label,t=(this.options.positioner||this.getPosition).call(this,t.width,t.height,n);this.move(o(t.x),o(t.y||0),n.plotX+i.plotLeft,n.plotY+i.plotTop)},getXDateFormat:function(n,t,i){var u,t=t.dateTimeLabelFormats,f=i&&i.closestPointRange,r,e={millisecond:15,second:12,minute:9,hour:6,day:3},o,s="millisecond";if(f){o=pr("%m-%d %H:%M:%S.%L",n.x);for(r in v){if(f===v.week&&+pr("%w",n.x)===i.options.startOfWeek&&o.substr(6)==="00:00:00.000"){r="week";break}if(v[r]>f){r=s;break}if(e[r]&&o.substr(e[r])!=="01-01 00:00:00.000".substr(e[r]))break;r!=="week"&&(s=r)}r&&(u=t[r])}else u=t.day;return u||t.year},tooltipFooterHeaderFormatter:function(n,t){var i=t?"footer":"header",u=n.series,f=u.tooltipOptions,r=f.xDateFormat,e=u.xAxis,o=e&&e.options.type==="datetime"&&oi(n.key),i=f[i+"Format"];return o&&!r&&(r=this.getXDateFormat(n,f,e)),o&&r&&(i=i.replace("{point.key}","{point.key:"+r+"}")),ur(i,{point:n,series:u})},bodyFormatter:function(n){return or(n,function(n){var t=n.series.tooltipOptions;return(t.pointFormatter||n.point.tooltipFormatter).call(n.point,t.pointFormat)})}},gr=l.documentElement.ontouchstart!==f,sr=s.Pointer=function(n,t){this.init(n,t)},sr.prototype={init:function(n,i){var r=i.chart,e=r.events,u=kt?"":r.zoomType,r=n.inverted,f;this.options=i;this.chart=n;this.zoomX=f=/x/.test(u);this.zoomY=u=/y/.test(u);this.zoomHor=f&&!r||u&&r;this.zoomVert=u&&!r||f&&r;this.hasZoom=f||u;this.runChartClick=e&&!!e.click;this.pinchDown=[];this.lastValidTouch={};s.Tooltip&&i.tooltip.enabled&&(n.tooltip=new ef(n,i.tooltip),this.followTouchMove=t(i.tooltip.followTouchMove,!0));this.setDOMEvents()},normalize:function(n,t){var r,i,n=n||window.event,n=kf(n);return n.target||(n.target=n.srcElement),i=n.touches?n.touches.length?n.touches.item(0):n.changedTouches[0]:n,t||(this.chartPosition=t=bf(this.chart.container)),i.pageX===f?(r=u(n.x,n.clientX-t.left),i=n.y):(r=i.pageX-t.left,i=i.pageY-t.top),e(n,{chartX:o(r),chartY:o(i)})},getCoordinates:function(n){var t={xAxis:[],yAxis:[]};return i(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(n[i.horiz?"chartX":"chartY"])})}),t},runPointActions:function(n){var c=this.chart,f=c.series,r=c.tooltip,h=r?r.shared:!1,a=c.hoverPoint,e=c.hoverSeries,o,p=Number.MAX_VALUE,y,w,v,s=[],u,b;if(!h&&!e)for(o=0;o<f.length;o++)(f[o].directTouch||!f[o].options.stickyTracking)&&(f=[]);if(e&&(h?e.noSharedTooltip:e.directTouch)&&a?u=a:(i(f,function(i){y=i.noSharedTooltip&&h;w=!h&&i.directTouch;i.visible&&!y&&!w&&t(i.options.enableMouseTracking,!0)&&(b=i.searchPoint(n,!y&&i.kdDimensions===1))&&s.push(b)}),i(s,function(n){v=!h&&n.series.kdDimensions===1?n.dist:n.distX;n&&typeof v=="number"&&v<p&&(p=v,u=n)})),u&&(u!==this.prevKDPoint||r&&r.isHidden)){if(h&&!u.series.noSharedTooltip){for(o=s.length;o--;)(s[o].clientX!==u.clientX||s[o].series.noSharedTooltip)&&s.splice(o,1);s.length&&r&&r.refresh(s,n);i(s,function(t){t.onMouseOver(n,t!==(e&&e.directTouch&&a||u))})}else if(r&&r.refresh(u,n),!e||!e.directTouch)u.onMouseOver(n);this.prevKDPoint=u}else f=e&&e.tooltipOptions.followPointer,r&&f&&!r.isHidden&&(f=r.getAnchor([{}],n),r.updatePosition({plotX:f[0],plotY:f[1]}));this._onDocumentMouseMove||(this._onDocumentMouseMove=function(n){if(ot[fi])ot[fi].pointer.onDocumentMouseMove(n)},d(l,"mousemove",this._onDocumentMouseMove));i(c.axes,function(i){i.drawCrosshair(n,t(u,a))})},reset:function(n,r){var u=this.chart,h=u.hoverSeries,f=u.hoverPoint,o=u.hoverPoints,e=u.tooltip,s=e&&e.shared?o:f;(n=n&&e&&s)&&i(si(s),function(t){t.plotX===void 0&&(n=!1)});n?(e.refresh(s),f&&(f.setState(f.state,!0),i(u.axes,function(n){t(n.options.crosshair&&n.options.crosshair.snap,!0)?n.drawCrosshair(null,f):n.hideCrosshair()}))):(f&&f.onMouseOut(),o&&i(o,function(n){n.setState()}),h&&h.onMouseOut(),e&&e.hide(r),this._onDocumentMouseMove&&(st(l,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),i(u.axes,function(n){n.hideCrosshair()}),this.hoverX=u.hoverPoints=u.hoverPoint=null)},scaleGroups:function(n,t){var r=this.chart,u;i(r.series,function(i){u=n||i.getPlotBox();i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(u),i.markerGroup&&(i.markerGroup.attr(u),i.markerGroup.clip(t?r.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(u))});r.clipRect.attr(t||r.clipBox)},dragStart:function(n){var t=this.chart;t.mouseIsDown=n.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=n.chartX;t.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var i=this.chart,o=i.options.chart,t=n.chartX,u=n.chartY,v=this.zoomHor,y=this.zoomVert,f=i.plotLeft,e=i.plotTop,c=i.plotWidth,l=i.plotHeight,a,r=this.selectionMarker,s=this.mouseDownX,h=this.mouseDownY,p=o.panKey&&n[o.panKey+"Key"];r&&r.touch||(t<f?t=f:t>f+c&&(t=f+c),u<e?u=e:u>e+l&&(u=e+l),this.hasDragged=Math.sqrt(Math.pow(s-t,2)+Math.pow(h-u,2)),this.hasDragged>10)&&(a=i.isInsidePlot(s-f,h-e),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&a&&!p&&!r&&(this.selectionMarker=r=i.renderer.rect(f,e,v?1:c,y?1:l,0).attr({fill:o.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),r&&v&&(t-=s,r.attr({width:w(t),x:(t>0?0:t)+s})),r&&y&&(t=u-h,r.attr({height:w(t),y:(t>0?0:t)+h})),a&&!r&&o.panning&&i.pan(n,o.panning))},drop:function(n){var v=this,f=this.chart,o=this.hasPinched;if(this.selectionMarker){var s={xAxis:[],yAxis:[],originalEvent:n.originalEvent||n},t=this.selectionMarker,c=t.attr?t.attr("x"):t.x,l=t.attr?t.attr("y"):t.y,w=t.attr?t.attr("width"):t.width,b=t.attr?t.attr("height"):t.height,a;(this.hasDragged||o)&&(i(f.axes,function(t){if(t.zoomEnabled&&r(t.min)&&(o||v[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var i=t.horiz,f=n.type==="touchend"?t.minPixelPadding:0,e=t.toValue((i?c:l)+f),i=t.toValue((i?c+w:l+b)-f);s[t.coll].push({axis:t,min:h(e,i),max:u(e,i)});a=!0}}),a&&p(f,"selection",s,function(n){f.zoom(e(n,o?{animation:!1}:null))}));this.selectionMarker=this.selectionMarker.destroy();o&&this.scaleGroups()}f&&(y(f.container,{cursor:f._cursor}),f.cancelClick=this.hasDragged>10,f.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){ot[fi]&&ot[fi].pointer.drop(n)},onDocumentMouseMove:function(n){var t=this.chart,i=this.chartPosition,n=this.normalize(n,i);!i||this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(){var n=ot[fi];n&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(n){var t=this.chart;fi=t.index;n=this.normalize(n);n.returnValue=!1;t.mouseIsDown==="mousedown"&&this.drag(n);(this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(n)},inClass:function(n,t){for(var i;n;){if(i=g(n,"class")){if(i.indexOf(t)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}n=n.parentNode}},onTrackerMouseOut:function(n){var t=this.chart.hoverSeries,n=n.relatedTarget||n.toElement;!t||t.options.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+t.index)||t.onMouseOut()},onContainerClick:function(n){var t=this.chart,i=t.hoverPoint,r=t.plotLeft,u=t.plotTop,n=this.normalize(n);n.originalEvent=n;t.cancelClick||(i&&this.inClass(n.target,"highcharts-tracker")?(p(i.series,"click",e(n,{point:i})),t.hoverPoint&&i.firePointEvent("click",n)):(e(n,this.getCoordinates(n)),t.isInsidePlot(n.chartX-r,n.chartY-u)&&p(t,"click",n)))},setDOMEvents:function(){var n=this,t=n.chart.container;t.onmousedown=function(t){n.onContainerMouseDown(t)};t.onmousemove=function(t){n.onContainerMouseMove(t)};t.onclick=function(t){n.onContainerClick(t)};d(t,"mouseleave",n.onContainerMouseLeave);nu===1&&d(l,"mouseup",n.onDocumentMouseUp);gr&&(t.ontouchstart=function(t){n.onContainerTouchStart(t)},t.ontouchmove=function(t){n.onContainerTouchMove(t)},nu===1&&d(l,"touchend",n.onDocumentTouchEnd))},destroy:function(){var n;st(this.chart.container,"mouseleave",this.onContainerMouseLeave);nu||(st(l,"mouseup",this.onDocumentMouseUp),st(l,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(n in this)this[n]=null}},e(s.Pointer.prototype,{pinchTranslate:function(n,t,i,r,u,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,n,t,i,r,u,f);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,n,t,i,r,u,f)},pinchTranslateDirection:function(n,t,i,r,u,f,e,o){var a=this.chart,c=n?"x":"y",d=n?"X":"Y",v="chart"+d,rt=n?"width":"height",g=a["plot"+(n?"Left":"Top")],l,nt,s=o||1,tt=a.inverted,y=a.bounds[n?"h":"v"],p=t.length===1,b=t[0][v],h=i[0][v],ut=!p&&t[1][v],k=!p&&i[1][v],it,i=function(){!p&&w(b-ut)>20&&(s=o||w(h-k)/w(b-ut));nt=(g-h)/s+b;l=a["plot"+(n?"Width":"Height")]/s};i();t=nt;t<y.min?(t=y.min,it=!0):t+l>y.max&&(t=y.max-l,it=!0);it?(h-=.8*(h-e[c][0]),p||(k-=.8*(k-e[c][1])),i()):e[c]=[h,k];tt||(f[c]=nt-g,f[rt]=l);f=tt?1/s:s;u[rt]=l;u[c]=t;r[tt?n?"scaleY":"scaleX":"scale"+d]=s;r["translate"+d]=f*g+(h-f*b)},pinch:function(n){var r=this,o=r.chart,f=r.pinchDown,s=n.touches,c=s.length,l=r.lastValidTouch,a=r.hasZoom,v=r.selectionMarker,y={},w=c===1&&(r.inClass(n.target,"highcharts-tracker")&&o.runTrackerClick||r.runChartClick),p={};c>1&&(r.initiated=!0);a&&r.initiated&&!w&&n.preventDefault();or(s,function(n){return r.normalize(n)});n.type==="touchstart"?(i(s,function(n,t){f[t]={chartX:n.chartX,chartY:n.chartY}}),l.x=[f[0].chartX,f[1]&&f[1].chartX],l.y=[f[0].chartY,f[1]&&f[1].chartY],i(o.axes,function(n){if(n.zoomEnabled){var r=o.bounds[n.horiz?"h":"v"],f=n.minPixelPadding,i=n.toPixels(t(n.options.min,n.dataMin)),e=n.toPixels(t(n.options.max,n.dataMax)),s=h(i,e),i=u(i,e);r.min=h(n.pos,s-f);r.max=u(n.pos+n.len,i+f)}}),r.res=!0):f.length&&(v||(r.selectionMarker=v=e({destroy:li,touch:!0},o.plotBox)),r.pinchTranslate(f,s,y,v,p,l),r.hasPinched=a,r.scaleGroups(y,p),!a&&r.followTouchMove&&c===1?this.runPointActions(r.normalize(n)):r.res&&(r.res=!1,this.reset(!1,0)))},touch:function(n,t){var i=this.chart;fi=i.index;n.touches.length===1?(n=this.normalize(n),i.isInsidePlot(n.chartX-i.plotLeft,n.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(n),this.pinch(n)):t&&this.reset()):n.touches.length===2&&this.pinch(n)},onContainerTouchStart:function(n){this.touch(n,!0)},onContainerTouchMove:function(n){this.touch(n)},onDocumentTouchEnd:function(n){ot[fi]&&ot[fi].pointer.drop(n)}}),tt.PointerEvent||tt.MSPointerEvent){var vi={},of=!!tt.PointerEvent,re=function(){var n,t=[];t.item=function(n){return this[n]};for(n in vi)vi.hasOwnProperty(n)&&t.push({pageX:vi[n].pageX,pageY:vi[n].pageY,target:vi[n].target});return t},sf=function(n,t,i,r){n=n.originalEvent||n;(n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH)&&ot[fi]&&(r(n),r=ot[fi].pointer,r[t]({type:i,target:n.currentTarget,preventDefault:li,touches:re()}))};e(sr.prototype,{onContainerPointerDown:function(n){sf(n,"onContainerTouchStart","touchstart",function(n){vi[n.pointerId]={pageX:n.pageX,pageY:n.pageY,target:n.currentTarget}})},onContainerPointerMove:function(n){sf(n,"onContainerTouchMove","touchmove",function(n){vi[n.pointerId]={pageX:n.pageX,pageY:n.pageY};vi[n.pointerId].target||(vi[n.pointerId].target=n.currentTarget)})},onDocumentPointerUp:function(n){sf(n,"onDocumentTouchEnd","touchend",function(n){delete vi[n.pointerId]})},batchMSEvents:function(n){n(this.chart.container,of?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,of?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(l,of?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});wr(sr.prototype,"init",function(n,t,i){n.call(this,t,i);this.hasZoom&&y(t.container,{"-ms-touch-action":"none","touch-action":"none"})});wr(sr.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(d)});wr(sr.prototype,"destroy",function(n){this.batchMSEvents(st);n.call(this)})}return ou=s.Legend=function(n,t){this.init(n,t)},ou.prototype={init:function(n,i){var r=this,u=i.itemStyle,f=i.itemMarginTop||0;this.options=i;i.enabled&&(r.itemStyle=u,r.itemHiddenStyle=c(u,i.itemHiddenStyle),r.itemMarginTop=f,r.padding=u=t(i.padding,8),r.initialItemX=u,r.initialItemY=u-5,r.maxItemWidth=0,r.chart=n,r.itemHeight=0,r.symbolWidth=t(i.symbolWidth,16),r.pages=[],r.render(),d(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(n,t){var u=this.options,r=n.legendItem,c=n.legendLine,e=n.legendSymbol,i=this.itemHiddenStyle.color,u=t?u.itemStyle.color:i,o=t?n.legendColor||n.color||"#CCC":i,i=n.options&&n.options.marker,s={fill:o},h;if(r&&r.css({fill:u,color:u}),c&&c.attr({stroke:o}),e){if(i&&e.isMarker)for(h in s.stroke=o,i=n.convertAttribs(i),i)r=i[h],r!==f&&(s[h]=r);e.attr(s)}},positionItem:function(n){var i=this.options,f=i.symbolPadding,i=!i.rtl,t=n._legendItemPos,r=t[0],t=t[1],u=n.checkbox;(n=n.legendGroup)&&n.element&&n.translate(i?r:this.legendWidth-r-2*f-4,t);u&&(u.x=r,u.y=t)},destroyItem:function(n){var t=n.checkbox;i(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&(n[t]=n[t].destroy())});t&&ar(n.checkbox)},destroy:function(){var n=this.group,t=this.box;t&&(this.box=t.destroy());n&&(this.group=n.destroy())},positionCheckboxes:function(n){var r=this.group.alignAttr,t,u=this.clipHeight||this.legendHeight;r&&(t=r.translateY,i(this.allItems,function(i){var f=i.checkbox,e;f&&(e=t+f.y+(n||0)+3,y(f,{left:r.translateX+i.checkboxOffset+f.x-20+"px",top:e+"px",display:e>t-6&&e<t+u-6?"":"none"}))}))},renderTitle:function(){var n=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),n=this.title.getBBox(),i=n.height,this.offsetWidth=n.width,this.contentGroup.attr({translateY:i}));this.titleHeight=i},setText:function(n){var t=this.options;n.legendItem.attr({text:t.labelFormat?ur(t.labelFormat,n):t.labelFormatter.call(n)})},renderItem:function(n){var w=this.chart,e=w.renderer,i=this.options,h=i.layout==="horizontal",r=this.symbolWidth,f=i.symbolPadding,y=this.itemStyle,b=this.itemHiddenStyle,k=this.padding,d=h?t(i.itemDistance,20):0,g=!i.rtl,nt=i.width,p=i.itemMarginBottom||0,l=this.itemMarginTop,a=this.initialItemX,s=n.legendItem,tt=n.series&&n.series.drawLegendSymbol?n.series:n,v=tt.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,it=i.useHTML;s||(n.legendGroup=e.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),n.legendItem=s=e.text("",g?r+f:-f,this.baseline||0,it).css(c(n.visible?y:b)).attr({align:g?"left":"right",zIndex:2}).add(n.legendGroup),this.baseline||(this.fontMetrics=e.fontMetrics(y.fontSize,s),this.baseline=this.fontMetrics.f+3+l,s.attr("y",this.baseline)),tt.drawLegendSymbol(this,n),this.setItemEvents&&this.setItemEvents(n,s,it,y,b),this.colorizeItem(n,n.visible),v&&this.createCheckboxForItem(n));this.setText(n);e=s.getBBox();r=n.checkboxOffset=i.itemWidth||n.legendItemWidth||r+f+e.width+d+(v?20:0);this.itemHeight=f=o(n.legendItemHeight||e.height);h&&this.itemX-a+r>(nt||w.chartWidth-2*k-a-i.x)&&(this.itemX=a,this.itemY+=l+this.lastLineHeight+p,this.lastLineHeight=0);this.maxItemWidth=u(this.maxItemWidth,r);this.lastItemY=l+this.itemY+p;this.lastLineHeight=u(f,this.lastLineHeight);n._legendItemPos=[this.itemX,this.itemY];h?this.itemX+=r:(this.itemY+=l+f+p,this.lastLineHeight=f);this.offsetWidth=nt||u((h?this.itemX-a-d:r)+k,this.offsetWidth)},getAllItems:function(){var n=[];return i(this.chart.series,function(i){var u=i.options;t(u.showInLegend,r(u.linkedTo)?!1:f,!0)&&(n=n.concat(i.legendItems||(u.legendType==="point"?i.data:i)))}),n},adjustMargins:function(n,f){var o=this.chart,e=this.options,s=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);this.display&&!e.floating&&i([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(i,h){i.test(s)&&!r(n[h])&&(o[au[h]]=u(o[au[h]],o.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*e[h%2?"x":"y"]+t(e.margin,12)+f[h]))})},render:function(){var n=this,a=n.chart,h=a.renderer,s=n.group,f,c,o,t,r=n.box,u=n.options,v=n.padding,l=u.borderWidth,y=u.backgroundColor;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;s||(n.group=s=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(s),n.scrollGroup=h.g().add(n.contentGroup));n.renderTitle();f=n.getAllItems();su(f,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});u.reversed&&f.reverse();n.allItems=f;n.display=c=!!f.length;n.lastLineHeight=0;i(f,function(t){n.renderItem(t)});o=(u.width||n.offsetWidth)+v;t=n.lastItemY+n.lastLineHeight+n.titleHeight;t=n.handleOverflow(t);t+=v;(l||y)&&(r?o>0&&t>0&&(r[r.isNew?"attr":"animate"](r.crisp({width:o,height:t})),r.isNew=!1):(n.box=r=h.rect(0,0,o,t,u.borderRadius,l||0).attr({stroke:u.borderColor,"stroke-width":l||0,fill:y||"none"}).add(s).shadow(u.shadow),r.isNew=!0),r[c?"show":"hide"]());n.legendWidth=o;n.legendHeight=t;i(f,function(t){n.positionItem(t)});c&&s.align(e({width:o,height:t},u),!0,"spacingBox");a.isResizing||this.positionCheckboxes()},handleOverflow:function(n){var f=this,b=this.chart,c=b.renderer,l=this.options,r=l.y,r=b.spacingBox.height+(l.verticalAlign==="top"?-r:r)-this.padding,d=l.maxHeight,a,v=this.clipRect,k=l.navigation,g=t(k.animation,!0),y=k.arrowSize||12,e=this.nav,s=this.pages,p=this.padding,w,nt=this.allItems,tt=function(n){v.attr({height:n});f.contentGroup.div&&(f.contentGroup.div.style.clip="rect("+p+"px,9999px,"+(p+n)+"px,0)")};return l.layout==="horizontal"&&(r/=2),d&&(r=h(r,d)),s.length=0,n>r?(this.clipHeight=a=u(r-20-this.titleHeight-p,0),this.currentPage=t(this.currentPage,1),this.fullHeight=n,i(nt,function(n,t){var i=n._legendItemPos[1],u=o(n.legendItem.getBBox().height),r=s.length;(!r||i-s[r-1]>a&&(w||i)!==s[r-1])&&(s.push(w||i),r++);t===nt.length-1&&i+u-s[r-1]>a&&s.push(i);i!==w&&(w=i)}),v||(v=f.clipRect=c.clipRect(0,p,9999,0),f.contentGroup.clip(v)),tt(a),e||(this.nav=e=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,y,y).on("click",function(){f.scroll(-1,g)}).add(e),this.pager=c.text("",15,10).css(k.style).add(e),this.down=c.symbol("triangle-down",0,0,y,y).on("click",function(){f.scroll(1,g)}).add(e)),f.scroll(0),n=r):e&&(tt(b.chartHeight),e.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n},scroll:function(n,t){var r=this.pages,u=r.length,i=this.currentPage+n,s=this.clipHeight,e=this.options.navigation,o=e.activeColor,e=e.inactiveColor,h=this.pager,c=this.padding;i>u&&(i=u);i>0&&(t!==f&&vr(t,this.chart),this.nav.attr({translateX:c,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?e:o}).css({cursor:i===1?"default":"pointer"}),h.attr({text:i+"/"+u}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===u?e:o}).css({cursor:i===u?"default":"pointer"}),r=-r[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:r}),this.currentPage=i,this.positionCheckboxes(r))}},tr=s.LegendSymbolMixin={drawRectangle:function(n,t){var i=n.options.symbolHeight||n.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,n.baseline-i+1,n.symbolWidth,i,n.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(n){var t=this.options,r=t.marker,i=n.symbolWidth;var f=this.chart.renderer,e=this.legendGroup,n=n.baseline-o(n.fontMetrics.b*.3),u;t.lineWidth&&(u={"stroke-width":t.lineWidth},t.dashStyle&&(u.dashstyle=t.dashStyle),this.legendLine=f.path(["M",0,n,"L",i,n]).attr(u).add(e));r&&r.enabled!==!1&&(t=r.radius,this.legendSymbol=i=f.symbol(this.symbol,i/2-t,n-t,2*t,2*t).add(e),i.isMarker=!0)}},(/Trident\/7\.0/.test(yi)||fr)&&wr(ou.prototype,"positionItem",function(n,t){var r=this,i=function(){t._legendItemPos&&n.call(r,t)};i();setTimeout(i)}),ut=s.Chart=function(){this.init.apply(this,arguments)},ut.prototype={callbacks:[],init:function(n,i){var f,u=n.series,e,r,o;if(n.series=null,f=c(it,n),f.series=n.series=u,this.userOptions=n,u=f.chart,this.margin=this.splashArray("margin",u),this.spacing=this.splashArray("spacing",u),e=u.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=u.showAxes,r=this,r.index=ot.length,ot.push(r),nu++,u.reflow!==!1&&d(r,"load",function(){r.initReflow()}),e)for(o in e)d(r,o,e[o]);r.xAxis=[];r.yAxis=[];r.animation=kt?!1:t(u.animation,!0);r.pointCount=r.colorCounter=r.symbolCounter=0;r.firstRender()},initSeries:function(n){var t=this.options.chart;return(t=k[n.type||t.type||t.defaultSeriesType])||ni(17,!0),t=new t,t.init(this,n),t},isInsidePlot:function(n,t,i){var r=i?t:n,n=i?n:t;return r>=0&&r<=this.plotWidth&&n>=0&&n<=this.plotHeight},redraw:function(n){var u=this.axes,t=this.series,s=this.pointer,h=this.legend,c=this.isDirtyLegend,f,l,a=this.hasCartesianSeries,o=this.isDirtyBox,v=t.length,r=v,y=this.renderer,w=y.isHidden(),b=[];for(vr(n,this),w&&this.cloneRenderTo(),this.layOutTitles();r--;)if(n=t[r],n.options.stacking&&(f=!0,n.isDirty)){l=!0;break}if(l)for(r=v;r--;)(n=t[r],n.options.stacking)&&(n.isDirty=!0);i(t,function(n){n.isDirty&&n.options.legendType==="point"&&(n.updateTotals&&n.updateTotals(),c=!0)});c&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1);f&&this.getStacks();a&&!this.isResizing&&(this.maxTicks=null,i(u,function(n){n.setScale()}));this.getMargins();a&&(i(u,function(n){n.isDirty&&(o=!0)}),i(u,function(n){var t=n.min+","+n.max;n.extKey!==t&&(n.extKey=t,b.push(function(){p(n,"afterSetExtremes",e(n.eventArgs,n.getExtremes()));delete n.eventArgs}));(o||f)&&n.redraw()}));o&&this.drawChartBox();i(t,function(n){n.isDirty&&n.visible&&(!n.isCartesian||n.xAxis)&&n.redraw()});s&&s.reset(!0);y.draw();p(this,"redraw");w&&this.cloneRenderTo(!0);i(b,function(n){n.call()})},get:function(n){for(var i=this.axes,r=this.series,u,t=0;t<i.length;t++)if(i[t].options.id===n)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===n)return r[t];for(t=0;t<r.length;t++)for(u=r[t].points||[],i=0;i<u.length;i++)if(u[i].id===n)return u[i];return null},getAxes:function(){var r=this,n=this.options,t=n.xAxis=si(n.xAxis||{}),n=n.yAxis=si(n.yAxis||{});i(t,function(n,t){n.index=t;n.isX=!0});i(n,function(n,t){n.index=t});t=t.concat(n);i(t,function(n){new dt(r,n)})},getSelectedPoints:function(){var n=[];return i(this.series,function(t){n=n.concat(fu(t.points||[],function(n){return n.selected}))}),n},getSelectedSeries:function(){return fu(this.series,function(n){return n.selected})},setTitle:function(n,t,r){var e,u=this,f=u.options,o;o=f.title=c(f.title,n);e=f.subtitle=c(f.subtitle,t);f=e;i([["title",n,o],["subtitle",t,f]],function(n){var t=n[0],i=u[t],r=n[1],n=n[2];i&&r&&(u[t]=i=i.destroy());n&&n.text&&!i&&(u[t]=u.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,"class":"highcharts-"+t,zIndex:n.zIndex||4}).css(n.style).add())});u.layOutTitles(r)},layOutTitles:function(n){var u=0,i=this.title,o=this.subtitle,r=this.options,f=r.title,r=r.subtitle,s=this.renderer,h=this.spacingBox.width-44;!i||(i.css({width:(f.width||h)+"px"}).align(e({y:s.fontMetrics(f.style.fontSize,i).b-3},f),!1,"spacingBox"),f.floating||f.verticalAlign)||(u=i.getBBox().height);o&&(o.css({width:(r.width||h)+"px"}).align(e({y:u+(f.margin-13)+s.fontMetrics(r.style.fontSize,i).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(u=hi(u+o.getBBox().height)));i=this.titleOffset!==u;this.titleOffset=u;!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&t(n,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var n=this.options.chart,i=n.width,n=n.height,f=this.renderToClone||this.renderTo;r(i)||(this.containerWidth=uu(f,"width"));r(n)||(this.containerHeight=uu(f,"height"));this.chartWidth=u(0,i||this.containerWidth||600);this.chartHeight=u(0,t(n,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;n?t&&(this.renderTo.appendChild(i),ar(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),y(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),l.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var n,u=this.options,i=u.chart,t,r,f;this.renderTo=n=i.renderTo;f="highcharts-"+bu++;bi(n)&&(this.renderTo=n=l.getElementById(n));n||ni(13,!0);t=a(g(n,"data-highcharts-chart"));!isNaN(t)&&ot[t]&&ot[t].hasRendered&&ot[t].destroy();g(n,"data-highcharts-chart",this.index);n.innerHTML="";i.skipClone||n.offsetWidth||this.cloneRenderTo();this.getChartSize();t=this.chartWidth;r=this.chartHeight;this.container=n=ct(er,{className:"highcharts-container"+(i.className?" "+i.className:""),id:f},e({position:"relative",overflow:"hidden",width:t+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.renderToClone||n);this._cursor=n.style.cursor;this.renderer=new(s[i.renderer]||dr)(n,t,r,i.style,i.forExport,u.exporting&&u.exporting.allowHTML);kt&&this.renderer.create(this,n,t,r);this.renderer.chartIndex=this.index},getMargins:function(n){var t=this.spacing,i=this.margin,f=this.titleOffset;this.resetMargins();f&&!r(i[0])&&(this.plotTop=u(this.plotTop,f+this.options.title.margin+t[0]));this.legend.adjustMargins(i,t);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);n||this.getAxisMargins()},getAxisMargins:function(){var n=this,t=n.axisOffset=[0,0,0,0],u=n.margin;n.hasCartesianSeries&&i(n.axes,function(n){n.visible&&n.getOffset()});i(au,function(i,f){r(u[f])||(n[i]+=t[f])});n.setChartSize()},reflow:function(n){var t=this,i=t.options.chart,f=t.renderTo,r=i.width||uu(f,"width"),u=i.height||uu(f,"height"),i=n?n.target:tt;!t.hasUserSize&&!t.isPrinting&&r&&u&&(i===tt||i===l)&&((r!==t.containerWidth||u!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),t.reflowTimeout=hr(function(){t.container&&(t.setSize(r,u,!1),t.hasUserSize=null)},n?100:0)),t.containerWidth=r,t.containerHeight=u)},initReflow:function(){var n=this,t=function(t){n.reflow(t)};d(tt,"resize",t);d(n,"destroy",function(){st(tt,"resize",t)})},setSize:function(n,t,f){var e=this,s,h,c=e.renderer;e.isResizing+=1;vr(f,e);e.oldChartHeight=e.chartHeight;e.oldChartWidth=e.chartWidth;r(n)&&(e.chartWidth=s=u(0,o(n)),e.hasUserSize=!!s);r(t)&&(e.chartHeight=h=u(0,o(t)));n=c.globalAnimation;(n?eu:y)(e.container,{width:s+"px",height:h+"px"},n);e.setChartSize(!0);c.setSize(s,h,f);e.maxTicks=null;i(e.axes,function(n){n.isDirty=!0;n.setScale()});i(e.series,function(n){n.isDirty=!0});e.isDirtyLegend=!0;e.isDirtyBox=!0;e.layOutTitles();e.getMargins();e.redraw(f);e.oldChartHeight=null;p(e,"resize");n=c.globalAnimation;hr(function(){e&&p(e,"endResize",null,function(){e.isResizing-=1})},n===!1?0:n&&n.duration||500)},setChartSize:function(n){var f=this.inverted,e=this.renderer,t=this.chartWidth,v=this.chartHeight,y=this.options.chart,r=this.spacing,s=this.clipOffset,l,a,h,c;this.plotLeft=l=o(this.plotLeft);this.plotTop=a=o(this.plotTop);this.plotWidth=h=u(0,o(t-l-this.marginRight));this.plotHeight=c=u(0,o(v-a-this.marginBottom));this.plotSizeX=f?c:h;this.plotSizeY=f?h:c;this.plotBorderWidth=y.plotBorderWidth||0;this.spacingBox=e.spacingBox={x:r[3],y:r[0],width:t-r[3]-r[1],height:v-r[0]-r[2]};this.plotBox=e.plotBox={x:l,y:a,width:h,height:c};t=2*rt(this.plotBorderWidth/2);f=hi(u(t,s[3])/2);e=hi(u(t,s[0])/2);this.clipBox={x:f,y:e,width:rt(this.plotSizeX-u(t,s[1])/2-f),height:u(0,rt(this.plotSizeY-u(t,s[2])/2-e))};n||i(this.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var n=this;i(au,function(i,r){n[i]=t(n.margin[r],n.spacing[r])});n.axisOffset=[0,0,0,0];n.clipOffset=[0,0,0,0]},drawChartBox:function(){var n=this.options.chart,r=this.renderer,a=this.chartWidth,v=this.chartHeight,t=this.chartBackground,y=this.plotBackground,c=this.plotBorder,p=this.plotBGImage,u=n.borderWidth||0,w=n.backgroundColor,b=n.plotBackgroundColor,k=n.plotBackgroundImage,f=n.plotBorderWidth||0,i,e=this.plotLeft,o=this.plotTop,s=this.plotWidth,h=this.plotHeight,d=this.plotBox,g=this.clipRect,l=this.clipBox;i=u+(n.shadow?8:0);(u||w)&&(t?t.animate(t.crisp({width:a-i,height:v-i})):(t={fill:w||"none"},u&&(t.stroke=n.borderColor,t["stroke-width"]=u),this.chartBackground=r.rect(i/2,i/2,a-i,v-i,n.borderRadius,u).attr(t).addClass("highcharts-background").add().shadow(n.shadow)));b&&(y?y.animate(d):this.plotBackground=r.rect(e,o,s,h,0).attr({fill:b}).add().shadow(n.plotShadow));k&&(p?p.animate(d):this.plotBGImage=r.image(k,e,o,s,h).add());g?g.animate({width:l.width,height:l.height}):this.clipRect=r.clipRect(l);f&&(c?c.animate(c.crisp({x:e,y:o,width:s,height:h,strokeWidth:-f})):this.plotBorder=r.rect(e,o,s,h,0,-f).attr({stroke:n.plotBorderColor,"stroke-width":f,fill:"none",zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var t=this,u=t.options.chart,n,f=t.options.series,e,r;i(["inverted","angular","polar"],function(i){for(n=k[u.type||u.defaultSeriesType],r=t[i]||u[i]||n&&n.prototype[i],e=f&&f.length;!r&&e--;)(n=k[f[e].type])&&n.prototype[i]&&(r=!0);t[i]=r})},linkSeries:function(){var n=this,r=n.series;i(r,function(n){n.linkedSeries.length=0});i(r,function(i){var r=i.options.linkedTo;bi(r)&&(r=r===":previous"?n.series[i.index-1]:n.get(r))&&(r.linkedSeries.push(i),i.linkedParent=r,i.visible=t(i.options.visible,r.options.visible,i.visible))})},renderSeries:function(){i(this.series,function(n){n.translate();n.render()})},renderLabels:function(){var n=this,t=n.options.labels;t.items&&i(t.items,function(i){var r=e(t.style,i.style),u=a(r.left)+n.plotLeft,f=a(r.top)+n.plotTop+12;delete r.left;delete r.top;n.renderer.text(i.html,u,f).attr({zIndex:2}).css(r).add()})},render:function(){var n=this.axes,o=this.renderer,u=this.options,f,e,t,r;this.setTitle();this.legend=new ou(this,u.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();f=this.plotWidth;e=this.plotHeight-=21;i(n,function(n){n.setScale()});this.getAxisMargins();t=f/this.plotWidth>1.1;r=e/this.plotHeight>1.05;(t||r)&&(this.maxTicks=null,i(n,function(n){(n.horiz&&t||!n.horiz&&r)&&n.setTickInterval(!0)}),this.getMargins());this.drawChartBox();this.hasCartesianSeries&&i(n,function(n){n.visible&&n.render()});this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.showCredits(u.credits);this.hasRendered=!0},showCredits:function(n){n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text,0,0).on("click",function(){n.href&&(location.href=n.href)}).attr({align:n.position.align,zIndex:8}).css(n.style).add().align(n.position))},destroy:function(){var n=this,u=n.axes,e=n.series,r=n.container,t,o=r&&r.parentNode;for(p(n,"destroy"),ot[n.index]=f,nu--,n.renderTo.removeAttribute("data-highcharts-chart"),st(n),t=u.length;t--;)u[t]=u[t].destroy();for(t=e.length;t--;)e[t]=e[t].destroy();i("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=n[t];i&&i.destroy&&(n[t]=i.destroy())});r&&(r.innerHTML="",st(r),o&&ar(r));for(t in n)delete n[t]},isReadyToRender:function(){var n=this;return!at&&tt==tt.top&&l.readyState!=="complete"||kt&&!tt.canvg?(kt?df.push(function(){n.firstRender()},n.options.global.canvasToolsURL):l.attachEvent("onreadystatechange",function(){l.detachEvent("onreadystatechange",n.firstRender);l.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var n=this,t=n.options,r=n.callback;n.isReadyToRender()&&(n.getContainer(),p(n,"init"),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),i(t.series||[],function(t){n.initSeries(t)}),n.linkSeries(),p(n,"beforeRender"),s.Pointer&&(n.pointer=new sr(n,t)),n.render(),n.renderer.draw(),r&&r.apply(n,[n]),i(n.callbacks,function(t){n.index!==f&&t.apply(n,[n])}),p(n,"load"),n.cloneRenderTo(!0))},splashArray:function(n,i){var r=i[n],r=yt(r)?r:[r,r,r,r];return[t(i[n+"Top"],r[0]),t(i[n+"Right"],r[1]),t(i[n+"Bottom"],r[2]),t(i[n+"Left"],r[3])]}},gf=s.CenteredSeriesMixin={getCenter:function(){for(var r=this.options,f=this.chart,e=2*(r.slicedOffset||0),o=f.plotWidth-2*e,f=f.plotHeight-2*e,n=r.center,n=[t(n[0],"50%"),t(n[1],"50%"),r.size||"100%",r.innerSize||0],s=h(o,f),u,i=0;i<4;++i)u=n[i],r=i<2||i===2&&/%$/.test(u),n[i]=(/%$/.test(u)?[o,f,s,n[2]][i]*parseFloat(u)/100:parseFloat(u))+(r?e:0);return n[3]>n[2]&&(n[3]=n[2]),n}},wi=function(){},wi.prototype={init:function(n,t,i){return this.series=n,this.color=n.color,this.applyOptions(t,i),this.pointAttr={},n.options.colorByPoint&&(t=n.options.colors||n.chart.options.colors,this.color=this.color||t[n.colorCounter++],n.colorCounter===t.length)&&(n.colorCounter=0),n.chart.pointCount++,this},applyOptions:function(n,t){var i=this.series,r=i.options.pointValKey||i.pointValKey,n=wi.prototype.optionsToObject.call(this,n);return e(this,n),this.options=this.options?e(this.options,n):n,r&&(this.y=this[r]),this.x===f&&i&&(this.x=t===f?i.autoIncrement():t),this},optionsToObject:function(n){var i={},t=this.series,u=t.options.keys,f=u||t.pointArrayMap||["y"],o=f.length,r=0,e=0;if(typeof n=="number"||n===null)i[f[0]]=n;else if(ir(n))for(!u&&n.length>o&&(t=typeof n[0],t==="string"?i.name=n[0]:t==="number"&&(i.x=n[0]),r++);e<o;)u&&n[r]===void 0||(i[f[e]]=n[r]),r++,e++;else typeof n=="object"&&(i=n,n.dataLabels&&(t._hasPointLabels=!0),n.marker&&(t._hasPointMarkers=!0));return i},destroy:function(){var n=this.series.chart,t=n.hoverPoints,i;n.pointCount--;t&&(this.setState(),ii(t,this),!t.length)&&(n.hoverPoints=null);this===n.hoverPoint&&this.onMouseOut();(this.graphic||this.dataLabel)&&(st(this),this.destroyElements());this.legendItem&&n.legend.destroyItem(this);for(i in this)this[i]=null},destroyElements:function(){for(var i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n,t=6;t--;)n=i[t],this[n]&&(this[n]=this[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(n){var u=this.series,r=u.tooltipOptions,o=t(r.valueDecimals,""),f=r.valuePrefix||"",e=r.valueSuffix||"";return i(u.pointArrayMap||["y"],function(t){t="{point."+t;(f||e)&&(n=n.replace(t+"}",f+t+"}"+e));n=n.replace(t+"}",t+":,."+o+"f}")}),ur(n,{point:this,series:this.series})},firePointEvent:function(n,t,i){var r=this,u=this.series.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();n==="click"&&u.allowPointSelect&&(i=function(n){r.select&&r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});p(this,n,t,i)},visible:!0},b=s.Series=function(){},b.prototype={isCartesian:!0,type:"line",pointClass:wi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(n,r){var u=this,s,f,o=n.series,h=function(n,i){return t(n.options.index,n._i)-t(i.options.index,i._i)};u.chart=n;u.options=r=u.setOptions(r);u.linkedSeries=[];u.bindAxes();e(u,{name:r.name,state:"",pointAttr:{},visible:r.visible!==!1,selected:r.selected===!0});kt&&(r.animation=!1);f=r.events;for(s in f)d(u,s,f[s]);(f&&f.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(n.runTrackerClick=!0);u.getColor();u.getSymbol();i(u.parallelArrays,function(n){u[n+"Data"]=[]});u.setData(r.data,!1);u.isCartesian&&(n.hasCartesianSeries=!0);o.push(u);u._i=o.length-1;su(o,h);this.yAxis&&su(this.yAxis.series,h);i(o,function(n,t){n.index=t;n.name=n.name||"Series "+(t+1)})},bindAxes:function(){var n=this,t=n.options,u=n.chart,r;i(n.axisTypes||[],function(e){i(u[e],function(i){r=i.options;(t[e]===r.index||t[e]!==f&&t[e]===r.id||t[e]===f&&r.index===0)&&(i.series.push(n),n[e]=i,i.isDirty=!0)});n[e]||n.optionalAxis===e||ni(18,!0)})},updateParallelArrays:function(n,t){var r=n.series,u=arguments;i(r.parallelArrays,typeof t=="number"?function(i){var u=i==="y"&&r.toYData?r.toYData(n):n[i];r[i+"Data"][t]=u}:function(n){Array.prototype[t].apply(r[n+"Data"],Array.prototype.slice.call(u,2))})},autoIncrement:function(){var n=this.options,i=this.xIncrement,r,u=n.pointIntervalUnit,i=t(i,n.pointStart,0);return this.pointInterval=r=t(this.pointInterval,n.pointInterval,1),(u==="month"||u==="year")&&(n=new pi(i),n=u==="month"?+n[uf](n[iu]()+r):+n[ff](n[ru]()+r),r=n-i),this.xIncrement=i+r,i},getSegments:function(){var t=-1,r=[],u,n=this.points,f=n.length;if(f)if(this.options.connectNulls){for(u=f;u--;)n[u].y===null&&n.splice(u,1);n.length&&(r=[n])}else i(n,function(i,u){i.y===null?(u>t+1&&r.push(n.slice(t+1,u)),t=u):u===f-1&&r.push(n.slice(t+1,u+1))});this.segments=r},setOptions:function(n){var i=this.chart,t=i.options.plotOptions,i=i.userOptions||{},u=i.plotOptions||{},f=t[this.type];return this.userOptions=n,t=c(f,t.series,n),this.tooltipOptions=c(it.tooltip,it.plotOptions[this.type].tooltip,i.tooltip,u.series&&u.series.tooltip,u[this.type]&&u[this.type].tooltip,n.tooltip),f.marker===null&&delete t.marker,this.zoneAxis=t.zoneAxis,n=this.zones=(t.zones||[]).slice(),(t.negativeColor||t.negativeFillColor)&&!t.zones&&n.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,color:t.negativeColor,fillColor:t.negativeFillColor}),n.length&&r(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(n,t,i){var u=this.userOptions,f="_"+n+"Index",e=n+"Counter";t||(r(u[f])?t=u[f]:(u[f]=t=this.chart[e]%i.length,this.chart[e]+=1),t=i[t]);this[n]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ht[this.type].color,this.chart.options.colors)},getSymbol:function(){var n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols);/^url/.test(this.symbol)&&(n.radius=0)},drawLegendSymbol:tr.drawLineMarker,setData:function(n,u,e,o){var s=this,l=s.points,b=l&&l.length||0,c,v=s.options,k=s.chart,h=null,a=s.xAxis,y=a&&!!a.categories,d=v.turboThreshold,w=this.xData,p=this.yData,g=(c=s.pointArrayMap)&&c.length,n=n||[];if(c=n.length,u=t(u,!0),o!==!1&&c&&b===c&&!s.cropped&&!s.hasGroupedData&&s.visible)i(n,function(n,t){l[t].update&&n!==v.data[t]&&l[t].update(n,!1,null,!1)});else{if(s.xIncrement=null,s.colorCounter=0,i(this.parallelArrays,function(n){s[n+"Data"].length=0}),d&&c>d){for(e=0;h===null&&e<c;)h=n[e],e++;if(oi(h)){for(y=t(v.pointStart,0),h=t(v.pointInterval,1),e=0;e<c;e++)w[e]=y,p[e]=n[e],y+=h;s.xIncrement=y}else if(ir(h))if(g)for(e=0;e<c;e++)h=n[e],w[e]=h[0],p[e]=h.slice(1,g+1);else for(e=0;e<c;e++)h=n[e],w[e]=h[0],p[e]=h[1];else ni(12)}else for(e=0;e<c;e++)n[e]!==f&&(h={series:s},s.pointClass.prototype.applyOptions.apply(h,[n[e]]),s.updateParallelArrays(h,e),y&&r(h.name))&&(a.names[h.x]=h.name);for(bi(p[0])&&ni(14,!0),s.data=[],s.options.data=n,e=b;e--;)l[e]&&l[e].destroy&&l[e].destroy();a&&(a.minRange=a.userMinRange);s.isDirty=s.isDirtyData=k.isDirtyBox=!0;e=!1}v.legendType==="point"&&(this.processData(),this.generatePoints());u&&k.redraw(e)},processData:function(n){var t=this.xData,l=this.yData,i=t.length,u,v,o,s,r,e,a,h,c;if(u=0,s=this.xAxis,e=this.options,r=e.cropThreshold,e=this.getExtremesFromAll||e.getExtremesFromAll,a=this.isCartesian,a&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!n)return!1;for(s&&(n=s.getExtremes(),h=n.min,c=n.max),a&&this.sorted&&!e&&(!r||i>r||this.forceCrop)&&(t[i-1]<h||t[0]>c?(t=[],l=[]):(t[0]<h||t[i-1]>c)&&(u=this.cropData(this.xData,this.yData,h,c),t=u.xData,l=u.yData,u=u.start,v=!0)),r=t.length-1;r>=0;r--)i=t[r]-t[r-1],i>0&&(o===f||i<o)?o=i:i<0&&this.requireSorting&&ni(15);this.cropped=v;this.cropStart=u;this.processedXData=t;this.processedYData=l;this.closestPointRange=o},cropData:function(n,i,r,f){for(var h=n.length,o=0,s=h,c=t(this.cropShoulder,1),e=0;e<h;e++)if(n[e]>=r){o=u(0,e-c);break}for(r=e;r<h;r++)if(n[r]>f){s=r+c;break}return{xData:n.slice(o,s),yData:i.slice(o,s),start:o,end:s}},generatePoints:function(){var e=this.options.data,t=this.data,c,o=this.processedXData,v=this.processedYData,l=this.pointClass,s=o.length,a=this.cropStart||0,i,r=this.hasGroupedData,h,u=[],n;for(t||r||(t=[],t.length=e.length,t=this.data=t),n=0;n<s;n++)i=a+n,r?u[n]=(new l).init(this,[o[n]].concat(si(v[n]))):(t[i]?h=t[i]:e[i]!==f&&(t[i]=h=(new l).init(this,e[i],o[n])),u[n]=h),u[n].index=i;if(t&&(s!==(c=t.length)||r))for(n=0;n<c;n++)(n===a&&!r&&(n+=s),t[n])&&(t[n].destroyElements(),t[n].plotX=f);this.data=t;this.points=u},getExtremes:function(n){var c=this.yAxis,s=this.processedXData,u,o=[],h=0;u=this.xAxis.getExtremes();var l=u.min,a=u.max,r,e,t,i,n=n||this.stackedYData||this.processedYData;for(u=n.length,i=0;i<u;i++)if(e=s[i],t=n[i],r=t!==null&&t!==f&&(!c.isLog||t.length||t>0),e=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(s[i+1]||e)>=l&&(s[i-1]||e)<=a,r&&e)if(r=t.length)for(;r--;)t[r]!==null&&(o[h++]=t[r]);else o[h++]=t;this.dataMin=cr(o);this.dataMax=di(o)},translate:function(){var o;this.processedXData||this.processData();this.generatePoints();for(var s=this.options,g=s.stacking,v=this.xAxis,p=v.categories,c=this.yAxis,nt=this.points,rt=nt.length,ut=!!this.modifyValue,b=s.pointPlacement,ft=b==="between"||oi(b),y=s.threshold,tt=s.startFromThreshold?y:0,l,e,it,k,d=Number.MAX_VALUE,s=0;s<rt;s++){var n=nt[s],a=n.x,i=n.y;e=n.low;o=g&&c.stacks[(this.negStacks&&i<(tt?0:y)?"-":"")+this.stackKey];c.isLog&&i!==null&&i<=0&&(n.y=i=null,ni(10));n.plotX=l=h(u(-1e5,v.translate(a,0,0,0,1,b,this.type==="flags")),1e5);g&&this.visible&&o&&o[a]&&(k=this.getStackIndicator(k,a,this.index),o=o[a],i=o.points[k.key],e=i[0],i=i[1],e===tt&&(e=t(y,c.min)),c.isLog&&e<=0&&(e=null),n.total=n.stackTotal=o.total,n.percentage=o.total&&n.y/o.total*100,n.stackY=i,o.setOffset(this.pointXOffset||0,this.barW||0));n.yBottom=r(e)?c.translate(e,0,1,0,1):null;ut&&(i=this.modifyValue(i,n));n.plotY=e=typeof i=="number"&&i!==Infinity?h(u(-1e5,c.translate(i,0,1,0,1)),1e5):f;n.isInside=e!==f&&e>=0&&e<=c.len&&l>=0&&l<=v.len;n.clientX=ft?v.translate(a,0,0,0,1):l;n.negative=n.y<(y||0);n.category=p&&p[n.x]!==f?p[n.x]:n.x;s&&(d=h(d,w(l-it)));it=l}this.closestPointRangePx=d;this.getSegments()},setClip:function(n){var t=this.chart,u=this.options,o=t.renderer,s=t.inverted,f=this.clipBox,e=f||t.clipBox,i=this.sharedClipKey||["_sharedClip",n&&n.duration,n&&n.easing,e.height,u.xAxis,u.yAxis].join(","),r=t[i],h=t[i+"m"];r||(n&&(e.width=0,t[i+"m"]=h=o.clipRect(-99,s?-t.plotLeft:-t.plotTop,99,s?t.chartWidth:t.chartHeight)),t[i]=r=o.clipRect(e));n&&(r.count+=1);u.clip!==!1&&(this.group.clip(n||f?r:t.clipRect),this.markerGroup.clip(h),this.sharedClipKey=i);n||(r.count-=1,r.count<=0&&i&&t[i]&&(f||(t[i]=t[i].destroy()),t[i+"m"]&&(t[i+"m"]=t[i+"m"].destroy())))},animate:function(n){var i=this.chart,t=this.options.animation,r;t&&!yt(t)&&(t=ht[this.type].animation);n?this.setClip(t):(r=this.sharedClipKey,(n=i[r])&&n.animate({width:i.plotSizeX},t),i[r+"m"]&&i[r+"m"].animate({width:i.plotSizeX+99},t),this.animate=null)},afterAnimate:function(){this.setClip();p(this,"afterAnimate")},drawPoints:function(){var u,y=this.points,b=this.chart,c,o,l,n,i,a,p,r,h=this.options.marker,k=this.pointAttr[""],s,w,v,d=this.markerGroup,g=t(h.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*h.radius);if(h.enabled!==!1||this._hasPointMarkers)for(l=y.length;l--;)(n=y[l],c=rt(n.plotX),o=n.plotY,r=n.graphic,s=n.marker||{},w=!!n.marker,u=g&&s.enabled===f||s.enabled,v=n.isInside,u&&o!==f&&!isNaN(o)&&n.y!==null)?(u=n.pointAttr[n.selected?"select":""]||k,i=u.r,a=t(s.symbol,this.symbol),p=a.indexOf("url")===0,r)?r[v?"show":"hide"](!0).animate(e({x:c-i,y:o-i},r.symbolName?{width:2*i,height:2*i}:{})):v&&(i>0||p)&&(n.graphic=b.renderer.symbol(a,c-i,o-i,2*i,2*i,w?s:h).attr(u).add(d)):r&&(n.graphic=r.destroy())},convertAttribs:function(n,i,r,u){var e=this.pointAttrToOptions,f,o,s={},n=n||{},i=i||{},r=r||{},u=u||{};for(f in e)o=e[f],s[f]=t(n[o],i[f],r[f],u[f]);return s},getAttribs:function(){var u=this,v=u.options,f=ht[u.type].marker?v.marker:v,l=f.states,o=l.hover,h,a=u.color,p=u.options.negativeColor,k,d,y,g,nt;h={stroke:a,fill:a};var w=u.points||[],s,n,c=[],b=u.pointAttrToOptions;if(s=u.hasPointSpecificOptions,k=f.lineColor,d=f.fillColor,n=v.turboThreshold,y=u.zones,g=u.zoneAxis||"y",v.marker?(o.radius=o.radius||f.radius+o.radiusPlus,o.lineWidth=o.lineWidth||f.lineWidth+o.lineWidthPlus):(o.color=o.color||pt(o.color||a).brighten(o.brightness).get(),o.negativeColor=o.negativeColor||pt(o.negativeColor||p).brighten(o.brightness).get()),c[""]=u.convertAttribs(f,h),i(["hover","select"],function(n){c[n]=u.convertAttribs(l[n],c[""])}),u.pointAttr=c,a=w.length,!n||a<n||s)for(;a--;){if(n=w[a],(f=n.options&&n.options.marker||n.options)&&f.enabled===!1&&(f.radius=0),y.length){for(s=0,h=y[s];n[g]>=h.value;)h=y[++s];n.color=n.fillColor=t(h.color,u.color)}if(s=v.colorByPoint||n.color,n.options)for(nt in b)r(f[b[nt]])&&(s=!0);s?(f=f||{},s=[],l=f.states||{},h=l.hover=l.hover||{},v.marker&&(!n.negative||h.fillColor||o.fillColor)||(h[u.pointAttrToOptions.fill]=h.color||!n.options.color&&o[n.negative&&p?"negativeColor":"color"]||pt(n.color).brighten(h.brightness||o.brightness).get()),h={color:n.color},d||(h.fillColor=n.color),k||(h.lineColor=n.color),f.hasOwnProperty("color")&&!f.color&&delete f.color,s[""]=u.convertAttribs(e(h,f),c[""]),s.hover=u.convertAttribs(l.hover,c.hover,s[""]),s.select=u.convertAttribs(l.select,c.select,s[""])):s=c;n.pointAttr=s}},destroy:function(){var n=this,f=n.chart,s=/AppleWebKit\/533/.test(yi),r,o=n.data||[],e,t,u;for(p(n,"destroy"),st(n),i(n.axisTypes||[],function(t){(u=n[t])&&(ii(u.series,n),u.isDirty=u.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),r=o.length;r--;)(e=o[r])&&e.destroy&&e.destroy();n.points=null;clearTimeout(n.animationTimeout);for(t in n)n[t]instanceof nt&&!n[t].survive&&(r=s&&t==="group"?"hide":"destroy",n[t][r]());f.hoverSeries===n&&(f.hoverSeries=null);ii(f.series,n);for(t in n)delete n[t]},getSegmentPath:function(n){var r=this,t=[],u=r.options.step;return i(n,function(i,f){var o=i.plotX,s=i.plotY,e;r.getPointSpline?t.push.apply(t,r.getPointSpline(n,i,f)):(t.push(f?"L":"M"),u&&f&&(e=n[f-1],u==="right"?t.push(e.plotX,s,"L"):u==="center"?t.push((e.plotX+o)/2,e.plotY,"L",(e.plotX+o)/2,s,"L"):t.push(o,e.plotY,"L")),t.push(i.plotX,i.plotY))}),t},getGraphPath:function(){var n=this,t=[],r,u=[];return i(n.segments,function(i){r=n.getSegmentPath(i);i.length>1?t=t.concat(r):u.push(i[0])}),n.singlePoints=u,n.graphPath=t},drawGraph:function(){var t=this,n=this.options,u=[["graph",n.lineColor||this.color,n.dashStyle]],f=n.lineWidth,o=n.linecap!=="square",r=this.getGraphPath(),e=this.fillGraph&&this.color||"none";i(this.zones,function(i,r){u.push(["zoneGraph"+r,i.color||t.color,i.dashStyle||n.dashStyle])});i(u,function(i,u){var h=i[0],s=t[h];s?s.animate({d:r}):(f||e)&&r.length&&(s={stroke:i[1],"stroke-width":f,fill:e,zIndex:1},i[2]?s.dashstyle=i[2]:o&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),t[h]=t.chart.renderer.path(r).attr(s).add(t.group).shadow(u<2&&n.shadow))})},applyZones:function(){var g=this,n=this.chart,nt=n.renderer,tt=this.zones,s,c,l=this.clips||[],r,v=this.graph,y=this.area,p=u(n.chartWidth,n.chartHeight),e=this[(this.zoneAxis||"y")+"Axis"],a,it=e.reversed,rt=n.inverted,w=e.horiz,d,b,k,ut=!1;tt.length&&(v||y)&&e.min!==f&&(v&&v.hide(),y&&y.hide(),a=e.getExtremes(),i(tt,function(i,f){s=it?w?n.plotWidth:0:w?0:e.toPixels(a.min);s=h(u(t(c,s),0),p);c=h(u(o(e.toPixels(t(i.value,a.max),!0)),0),p);ut&&(s=c=e.toPixels(a.max));d=Math.abs(s-c);b=h(s,c);k=u(s,c);e.isXAxis?(r={x:rt?k:b,y:0,width:d,height:p},w)||(r.x=n.plotHeight-r.x):(r={x:0,y:rt?k:b,width:p,height:d},w)&&(r.y=n.plotWidth-r.y);n.inverted&&nt.isVML&&(r=e.isXAxis?{x:0,y:it?b:k,height:r.width,width:n.chartWidth}:{x:r.y-n.plotLeft-n.spacingBox.x,y:0,width:r.height,height:n.chartHeight});l[f]?l[f].animate(r):(l[f]=nt.clipRect(r),v&&g["zoneGraph"+f].clip(l[f]),y&&g["zoneArea"+f].clip(l[f]));ut=i.value>a.max}),this.clips=l)},invertGroups:function(){function t(){var t={width:n.yAxis.len,height:n.xAxis.len};i(["group","markerGroup"],function(i){n[i]&&n[i].attr(t).invert()})}var n=this,r=n.chart;n.xAxis&&(d(r,"resize",t),d(n,"destroy",function(){st(r,"resize",t)}),t(),n.invertGroups=t)},plotGroup:function(n,t,i,r,u){var f=this[n],e=!f;return e&&(this[n]=f=this.chart.renderer.g(t).attr({visibility:i,zIndex:r||.1}).add(u),f.addClass("highcharts-series-"+this.index)),f[e?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var t=this.chart,i=this.xAxis,n=this.yAxis;return t.inverted&&(i=n,n=this.xAxis),{translateX:i?i.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var n=this,r=n.chart,u,f=n.options,e=(u=f.animation)&&!!n.animate&&r.renderer.isSVG&&t(u.duration,500)||0,o=n.visible?"inherit":"hidden",s=f.zIndex,h=n.hasRendered,c=r.seriesGroup;u=n.plotGroup("group","series",o,s,c);n.markerGroup=n.plotGroup("markerGroup","markers",o,s,c);e&&n.animate(!0);n.getAttribs();u.inverted=n.isCartesian?r.inverted:!1;n.drawGraph&&(n.drawGraph(),n.applyZones());i(n.points,function(n){n.redraw&&n.redraw()});n.drawDataLabels&&n.drawDataLabels();n.visible&&n.drawPoints();n.drawTracker&&n.options.enableMouseTracking!==!1&&n.drawTracker();r.inverted&&n.invertGroups();f.clip===!1||n.sharedClipKey||h||u.clip(r.clipRect);e&&n.animate();h||(n.animationTimeout=hr(function(){n.afterAnimate()},e));n.isDirty=n.isDirtyData=!1;n.hasRendered=!0},redraw:function(){var n=this.chart,r=this.isDirtyData,e=this.isDirty,i=this.group,u=this.xAxis,f=this.yAxis;i&&(n.inverted&&i.attr({width:n.plotWidth,height:n.plotHeight}),i.animate({translateX:t(u&&u.left,n.plotLeft),translateY:t(f&&f.top,n.plotTop)}));this.translate();this.render();r&&p(this,"updatedData");(e||r)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(n,t){var i=this.xAxis,r=this.yAxis,u=this.chart.inverted;return this.searchKDTree({clientX:u?i.len-n.chartY+i.pos:n.chartX-i.pos,plotY:u?r.len-n.chartX+r.pos:n.chartY-r.pos},t)},buildKDTree:function(){function t(i,r,u){var e,f;if(f=i&&i.length)return e=n.kdAxisArray[r%u],i.sort(function(n,t){return n[e]-t[e]}),f=Math.floor(f/2),{point:i[f],left:t(i.slice(0,f),r+1,u),right:t(i.slice(f+1),r+1,u)}}var n=this,i=n.kdDimensions;delete n.kdTree;hr(function(){var r=fu(n.points||[],function(n){return n.y!==null});n.kdTree=t(r,i,i)},n.options.kdNow?0:1)},searchKDTree:function(n,t){function e(n,t,s,h){var l=t.point,a=o.kdAxisArray[s%h],c,v,y=l;return v=r(n[u])&&r(l[u])?Math.pow(n[u]-l[u],2):null,c=r(n[f])&&r(l[f])?Math.pow(n[f]-l[f],2):null,c=(v||0)+(c||0),l.dist=r(c)?Math.sqrt(c):Number.MAX_VALUE,l.distX=r(v)?Math.sqrt(v):Number.MAX_VALUE,a=n[a]-l[a],c=a<0?"left":"right",v=a<0?"right":"left",t[c]&&(c=e(n,t[c],s+1,h),y=c[i]<y[i]?c:l),t[v]&&Math.sqrt(a*a)<y[i]&&(n=e(n,t[v],s+1,h),y=n[i]<y[i]?n:y),y}var o=this,u=this.kdAxisArray[0],f=this.kdAxisArray[1],i=t?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?e(n,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},cf.prototype={destroy:function(){lr(this,this.axis)},render:function(n){var t=this.options,i=t.format,i=i?ur(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(n)},setOffset:function(n,t){var i=this.axis,e=i.chart,r=e.inverted,u=i.reversed,u=this.isNegative&&!u||!this.isNegative&&u,f=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=w(f-i),s=e.xAxis[0].translate(this.x)+n,o=e.plotHeight,u={x:r?u?f:f-i:s,y:r?o-s-t:u?o-f-i:o-f,width:r?i:t,height:r?t:i};(r=this.label)&&(r.align(this.alignOptions,null,u),u=r.alignAttr,r[this.options.crop===!1||e.isInsidePlot(u.x,u.y)?"show":"hide"](!0))}},ut.prototype.getStacks=function(){var n=this;i(n.yAxis,function(n){n.stacks&&n.hasVisibleSeries&&(n.oldStacks=n.stacks)});i(n.series,function(i){i.options.stacking&&(i.visible===!0||n.options.chart.ignoreHiddenSeries===!1)&&(i.stackKey=i.type+t(i.options.stack,""))})},dt.prototype.buildStacks=function(){var i=this.series,r=t(this.options.reversedStacks,!0),n=i.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)i[r?n:i.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<i.length;n++)i[n].setPercentStacks()}},dt.prototype.renderStackTotals=function(){var n=this.chart,f=n.renderer,i=this.stacks,r,u,t=this.stackTotalGroup;t||(this.stackTotalGroup=t=f.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());t.translate(n.plotLeft,n.plotTop);for(r in i)for(u in n=i[r],n)n[u].render(t)},dt.prototype.resetStacks=function(){var n=this.stacks,t,i;if(!this.isXAxis)for(t in n)for(i in n[t])n[t][i].touched<this.stacksTouched?(n[t][i].destroy(),delete n[t][i]):(n[t][i].total=null,n[t][i].cum=0)},dt.prototype.cleanStacks=function(){var n,t,i;if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(t in n)for(i in n[t])n[t][i].cum=n[t][i].total}},b.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var nt=this.processedXData,p=this.processedYData,b=[],tt=p.length,o=this.options,k=o.threshold,a=o.startFromThreshold?k:0,it=o.stack,o=o.stacking,v=this.stackKey,d="-"+v,g=this.negStacks,e=this.yAxis,r=e.stacks,y=e.oldStacks,c,f,n,l,s,i,h;for(e.stacksTouched+=1,s=0;s<tt;s++)i=nt[s],h=p[s],c=this.getStackIndicator(c,i,this.index),l=c.key,n=(f=g&&h<(a?0:k))?d:v,r[n]||(r[n]={}),r[n][i]||(y[n]&&y[n][i]?(r[n][i]=y[n][i],r[n][i].total=null):r[n][i]=new cf(e,e.options.stackLabels,f,i,it)),n=r[n][i],n.points[l]=[t(n.cum,a)],n.touched=e.stacksTouched,c.index>0&&this.singleStacks===!1&&(n.points[l][0]=n.points[this.index+","+i+",0"][0]),o==="percent"?(f=f?v:d,g&&r[f]&&r[f][i]?(f=r[f][i],n.total=f.total=u(f.total,n.total)+w(h)||0):n.total=wt(n.total+(w(h)||0))):n.total=wt(n.total+(h||0)),n.cum=t(n.cum,a)+(h||0),n.points[l].push(n.cum),b[s]=n.cum;o==="percent"&&(e.usePercentage=!0);this.stackedYData=b;e.oldStacks={}}},b.prototype.setPercentStacks=function(){var n=this,r=n.stackKey,u=n.yAxis.stacks,f=n.processedXData,t;i([r,"-"+r],function(i){for(var s,o=f.length,r,e;o--;)(r=f[o],t=n.getStackIndicator(t,r,n.index),s=(e=u[i]&&u[i][r])&&e.points[t.key],r=s)&&(e=e.total?100/e.total:0,r[0]=wt(r[0]*e),r[1]=wt(r[1]*e),n.stackedYData[o]=r[1])})},b.prototype.getStackIndicator=function(n,t,i){return!r(n)||n.x!==t?n={x:t,index:0}:n.index++,n.key=[i,t,n.index].join(","),n},e(ut.prototype,{addSeries:function(n,i,r){var f,u=this;return n&&(i=t(i,!0),p(u,"addSeries",{options:n},function(){f=u.initSeries(n);u.isDirtyLegend=!0;u.linkSeries();i&&u.redraw(r)})),f},addAxis:function(n,i,r,u){var f=i?"xAxis":"yAxis",e=this.options;new dt(this,c(n,{index:this[f].length,isX:i}));e[f]=si(e[f]||{});e[f].push(n);t(r,!0)&&this.redraw(u)},showLoading:function(n){var t=this,u=t.options,i=t.loadingDiv,r=u.loading,f=function(){i&&y(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=ct(er,{className:"highcharts-loading"},e(r.style,{zIndex:10,display:"none"}),t.container),t.loadingSpan=ct("span",null,r.labelStyle,i),d(t,"redraw",f));t.loadingSpan.innerHTML=n||u.lang.loading;t.loadingShown||(y(i,{opacity:0,display:""}),eu(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0);f()},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&eu(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){y(n,{display:"none"})}});this.loadingShown=!1}}),e(wi.prototype,{update:function(n,i,r,u){function l(){f.applyOptions(n);f.y===null&&o&&(f.graphic=o.destroy());yt(n)&&!ir(n)&&(f.redraw=function(){o&&o.element&&n&&n.marker&&n.marker.symbol&&(f.graphic=o.destroy());n&&n.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy());f.redraw=null});s=f.index;e.updateParallelArrays(f,s);a&&f.name&&(a[f.x]=f.name);c.data[s]=yt(c.data[s])?f.options:n;e.isDirty=e.isDirtyData=!0;!e.fixedBox&&e.hasCartesianSeries&&(h.isDirtyBox=!0);c.legendType==="point"&&(h.isDirtyLegend=!0);i&&h.redraw(r)}var f=this,e=f.series,o=f.graphic,s,h=e.chart,c=e.options,a=e.xAxis&&e.xAxis.names,i=t(i,!0);u===!1?l():f.firePointEvent("update",{options:n},l)},remove:function(n,t){this.series.removePoint(nr(this,this.series.data),n,t)}}),e(b.prototype,{addPoint:function(n,r,u,f){var e=this,l=e.options,h=e.data,c=e.graph,o=e.area,v=e.chart,y=e.xAxis&&e.xAxis.names,w=c&&c.shift||0,s=["graph","area"],c=l.data,p,a=e.xData;if(vr(f,v),u){for(f=e.zones.length;f--;)s.push("zoneGraph"+f,"zoneArea"+f);i(s,function(n){e[n]&&(e[n].shift=w+(l.step?2:1))})}if(o&&(o.isArea=!0),r=t(r,!0),o={series:e},e.pointClass.prototype.applyOptions.apply(o,[n]),s=o.x,f=a.length,e.requireSorting&&s<a[f-1])for(p=!0;f&&a[f-1]>s;)f--;e.updateParallelArrays(o,"splice",f,0,0);e.updateParallelArrays(o,f);y&&o.name&&(y[s]=o.name);c.splice(f,0,n);p&&(e.data.splice(f,0,null),e.processData());l.legendType==="point"&&e.generatePoints();u&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),e.updateParallelArrays(o,"shift"),c.shift()));e.isDirty=!0;e.isDirtyData=!0;r&&(e.getAttribs(),v.redraw())},removePoint:function(n,i,r){var u=this,e=u.data,f=e[n],o=u.points,s=u.chart,h=function(){e.length===o.length&&o.splice(n,1);e.splice(n,1);u.options.data.splice(n,1);u.updateParallelArrays(f||{series:u},"splice",n,1);f&&f.destroy();u.isDirty=!0;u.isDirtyData=!0;i&&s.redraw()};vr(r,s);i=t(i,!0);f?f.firePointEvent("remove",null,h):h()},remove:function(n,i){var r=this,u=r.chart,n=t(n,!0);r.isRemoving||(r.isRemoving=!0,p(r,"remove",null,function(){r.destroy();u.isDirtyLegend=u.isDirtyBox=!0;u.linkSeries();n&&u.redraw(i)}));r.isRemoving=!1},update:function(n,r){var o=this,s=this.chart,a=this.userOptions,h=this.type,v=k[h].prototype,u=["group","markerGroup","dataLabelsGroup"],l;(n.type&&n.type!==h||n.zIndex!==void 0)&&(u.length=0);i(u,function(n){u[n]=o[n];delete o[n]});n=c(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1);for(l in v)this[l]=f;e(this,k[n.type||h].prototype);i(u,function(n){o[n]=u[n]});this.init(s,n);s.linkSeries();t(r,!0)&&s.redraw(!1)}}),e(dt.prototype,{update:function(n,i){var r=this.chart,n=r.options[this.coll][this.options.index]=c(this.userOptions,n);this.destroy(!0);this._addedPlotLB=this.chart._labelPanes=f;this.init(r,e(n,{events:f}));r.isDirtyBox=!0;t(i,!0)&&r.redraw()},remove:function(n){for(var r=this.chart,u=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);ii(r.axes,this);ii(r[u],this);r.options[u].splice(this.options.index,1);i(r[u],function(n,t){n.options.index=t});this.destroy();r.isDirtyBox=!0;t(n,!0)&&r.redraw()},setTitle:function(n,t){this.update({title:n},t)},setCategories:function(n,t){this.update({categories:n},t)}}),ei=ri(b),k.line=ei,ht.area=c(vt,{softThreshold:!1,threshold:0}),gt=ri(b,{type:"area",singleStacks:!1,getSegments:function(){var a=this,u=[],r=[],f=[],y=this.xAxis,e=this.yAxis,o=e.stacks[this.stackKey],t={},s,h,c=this.points,p=this.options.connectNulls,v,n,l;if(this.options.stacking&&!this.cropped){for(n=0;n<c.length;n++)t[c[n].x]=c[n];for(l in o)o[l].total!==null&&f.push(+l);f.sort(function(n,t){return n-t});i(f,function(i){var u=null,f;if(!p||t[i]&&t[i].y!==null)if(t[i])r.push(t[i]);else{for(n=a.index;n<=e.series.length;n++)if(v=a.getStackIndicator(null,i,n),f=o[i].points[v.key]){u=f[1];break}s=y.translate(i);h=e.getThreshold(u);r.push({y:null,plotX:s,clientX:s,plotY:h,yBottom:h,onMouseOver:li})}});r.length&&u.push(r)}else b.prototype.getSegments.call(this),u=this.segments;this.segments=u},getSegmentPath:function(n){var r=b.prototype.getSegmentPath.call(this,n),u=[].concat(r),i,f=this.options,e,o;if(i=r.length,e=this.yAxis.getThreshold(f.threshold),i===3&&u.push("L",r[1],r[2]),f.stacking&&!this.closedStacks)for(i=n.length-1;i>=0;i--)o=t(n[i].yBottom,e),i<n.length-1&&f.step&&u.push(n[i+1].plotX,o),u.push(n[i].plotX,o);else this.closeSegment(u,n,e);return this.areaPath=this.areaPath.concat(u),r},closeSegment:function(n,t,i){n.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[];b.prototype.drawGraph.apply(this);var n=this,u=this.areaPath,r=this.options,f=[["area",this.color,r.fillColor]];i(this.zones,function(t,i){f.push(["zoneArea"+i,t.color||n.color,t.fillColor||r.fillColor])});i(f,function(i){var f=i[0],e=n[f];e?e.animate({d:u}):n[f]=n.chart.renderer.path(u).attr({fill:t(i[2],pt(i[1]).setOpacity(t(r.fillOpacity,.75)).get()),zIndex:0}).add(n.group)})},drawLegendSymbol:tr.drawRectangle}),k.area=gt,ht.spline=c(vt),ei=ri(b,{type:"spline",getPointSpline:function(n,t,i){var c=t.plotX,r=t.plotY,o=n[i-1],s=n[i+1],a,e,l,f,v;return o&&s&&(n=o.plotY,l=s.plotX,s=s.plotY,a=(1.5*c+o.plotX)/2.5,e=(1.5*r+n)/2.5,l=(1.5*c+l)/2.5,f=(1.5*r+s)/2.5,v=(f-e)*(l-c)/(l-a)+r-f,e+=v,f+=v,e>n&&e>r?(e=u(n,r),f=2*r-e):e<n&&e<r&&(e=h(n,r),f=2*r-e),f>s&&f>r?(f=u(s,r),e=2*r-f):f<s&&f<r&&(f=h(s,r),e=2*r-f),t.rightContX=l,t.rightContY=f),i?(t=["C",o.rightContX||o.plotX,o.rightContY||o.plotY,a||c,e||r,c,r],o.rightContX=o.rightContY=null):t=["M",c,r],t}}),k.spline=ei,ht.areaspline=c(ht.area),gt=gt.prototype,ei=ri(ei,{type:"areaspline",closedStacks:!0,getSegmentPath:gt.getSegmentPath,closeSegment:gt.closeSegment,drawGraph:gt.drawGraph,drawLegendSymbol:tr.drawRectangle}),k.areaspline=ei,ht.column=c(vt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),ei=ri(b,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){b.prototype.init.apply(this,arguments);var n=this,t=n.chart;t.hasRendered&&i(t.series,function(t){t.type===n.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var n=this,r=n.options,u=n.xAxis,v=n.yAxis,y=u.reversed,e,s={},c,o=0;r.grouping===!1?o=1:i(n.chart.series,function(t){var i=t.options,r=t.yAxis;t.type===n.type&&t.visible&&v.len===r.len&&v.pos===r.pos&&(i.stacking?(e=t.stackKey,s[e]===f&&(s[e]=o++),c=s[e]):i.grouping!==!1&&(c=o++),t.columnIndex=c)});var l=h(w(u.transA)*(u.ordinalSlope||r.pointRange||u.closestPointRange||u.tickInterval||1),u.len),p=l*r.groupPadding,a=(l-2*p)/o,r=h(r.maxPointWidth||u.len,t(r.pointWidth,a*(1-2*r.pointPadding)));return n.columnMetrics={width:r,offset:(a-r)/2+(p+((n.columnIndex||0)+(y?1:0))*a-l/2)*(y?-1:1)},n.columnMetrics},crispCol:function(n,t,i,r){var e=this.chart,u=this.borderWidth,f=-(u%2?.5:0),u=u%2?.5:1;return e.inverted&&e.renderer.isVML&&(u+=1),i=Math.round(n+i)+f,n=Math.round(n)+f,i-=n,r=Math.round(t+r)+u,f=w(t)<=.5&&r>.5,t=Math.round(t)+u,r-=t,f&&(t-=1,r+=1),{x:n,y:t,width:i,height:r}},translate:function(){var n=this,e=n.chart,o=n.options,v=n.borderWidth=t(o.borderWidth,n.closestPointRange*n.xAxis.transA<2?0:1),r=n.yAxis,s=n.translatedThreshold=r.getThreshold(o.threshold),f=t(o.minPointLength,5),l=n.getColumnMetrics(),a=l.width,c=n.barW=u(a,1+2*v),y=n.pointXOffset=l.offset;e.inverted&&(s-=.5);o.pointPadding&&(c=hi(c));b.prototype.translate.apply(n);i(n.points,function(i){var v=h(t(i.yBottom,s),9e4),o=999+w(v),o=h(u(-o,i.plotY),r.len+o),p=i.plotX+y,k=c,b=h(o,v),d,l=u(o,v)-b;w(l)<f&&f&&(l=f,d=!r.reversed&&!i.negative||r.reversed&&i.negative,b=w(b-s)>f?v-f:s-(d?f:0));i.barX=p;i.pointWidth=a;i.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-o,n.xAxis.len-p-k/2,l]:[p+k/2,o+r.pos-e.plotTop,l];i.shapeType="rect";i.shapeArgs=n.crispCol(p,b,k,l)})},getSymbol:li,drawLegendSymbol:tr.drawRectangle,drawGraph:li,drawPoints:function(){var n=this,o=this.chart,t=n.options,s=o.renderer,h=t.animationLimit||250,u,e;i(n.points,function(i){var l=i.plotY,a=i.graphic;l===f||isNaN(l)||i.y===null?a&&(i.graphic=a.destroy()):(u=i.shapeArgs,l=r(n.borderWidth)?{"stroke-width":n.borderWidth}:{},e=i.pointAttr[i.selected?"select":""]||n.pointAttr[""],a?(br(a),a.attr(l).attr(e)[o.pointCount<h?"animate":"attr"](c(u))):i.graphic=s[i.shapeType](u).attr(l).attr(e).add(i.group||n.group).shadow(t.shadow,null,t.stacking&&!t.borderRadius))})},animate:function(n){var i=this.yAxis,f=this.options,r=this.chart.inverted,t={};at&&(n?(t.scaleY=.001,n=h(i.pos+i.len,u(i.pos,i.toPixels(f.threshold))),r?t.translateX=n-i.len:t.translateY=n,this.group.attr(t)):(t.scaleY=1,t[r?"translateX":"translateY"]=i.pos,this.group.animate(t,this.options.animation),this.animate=null))},remove:function(){var n=this,t=n.chart;t.hasRendered&&i(t.series,function(t){t.type===n.type&&(t.isDirty=!0)});b.prototype.remove.apply(n,arguments)}}),k.column=ei,ht.bar=c(ht.column),gt=ri(ei,{type:"bar",inverted:!0}),k.bar=gt,ht.scatter=c(vt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf<\/span> <span style="font-size: 10px;"> {series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}}),gt=ri(b,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&b.prototype.drawGraph.call(this)}}),k.scatter=gt,ht.pie=c(vt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){if(this.y!==null)return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),vt={type:"pie",isCartesian:!1,pointClass:ri(wi,{init:function(){wi.prototype.init.apply(this,arguments);var n=this,i;return n.name=t(n.name,"Slice"),i=function(t){n.slice(t.type==="select")},d(n,"select",i),d(n,"unselect",i),n},setVisible:function(n,r){var u=this,e=u.series,o=e.chart,s=e.options.ignoreHiddenPoint,r=t(r,s);n!==u.visible&&(u.visible=u.options.visible=n=n===f?!u.visible:n,e.options.data[nr(u,e.data)]=u.options,i(["graphic","dataLabel","connector","shadowGroup"],function(t){u[t]&&u[t][n?"show":"hide"](!0)}),u.legendItem&&o.legend.colorizeItem(u,n),n||u.state!=="hover"||u.setState(""),s&&(e.isDirty=!0),r&&o.redraw())},slice:function(n,i,u){var f=this.series;vr(u,f.chart);t(i,!0);this.sliced=this.options.sliced=n=r(n)?n:!this.sliced;f.options.data[nr(this,f.data)]=this.options;n=n?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(n);this.shadowGroup&&this.shadowGroup.animate(n)},haloPath:function(n){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+n,t.r+n,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(n){var t=this,u=t.points,r=t.startAngleRad;n||(i(u,function(n){var i=n.graphic,u=n.shapeArgs;i&&(i.attr({r:n.startR||t.center[3]/2,start:r,end:r}),i.animate({r:u.r,start:u.start,end:u.end},t.options.animation))}),t.animate=null)},updateTotals:function(){for(var i=0,r=this.points,u=r.length,t,f=this.options.ignoreHiddenPoint,n=0;n<u;n++)t=r[n],i+=f&&!t.visible?0:t.y;for(this.total=i,n=0;n<u;n++)t=r[n],t.percentage=i>0&&(t.visible||!f)?t.y/i*100:0,t.total=i},generatePoints:function(){b.prototype.generatePoints.call(this);this.updateTotals()},translate:function(n){this.generatePoints();var v=0,e=this.options,y=e.slicedOffset,c=y+e.borderWidth,u,f,i,l=e.startAngle||0,p=this.startAngleRad=ui/180*(l-90),l=(this.endAngleRad=ui/180*(t(e.endAngle,l+360)-90))-p,w=this.points,s=e.dataLabels.distance,e=e.ignoreHiddenPoint,a,b=w.length,r;for(n||(this.center=n=this.getCenter()),this.getX=function(t,r){return i=et.asin(h((t-n[1])/(n[2]/2+s),1)),n[0]+(r?-1:1)*ft(i)*(n[2]/2+s)},a=0;a<b;a++)r=w[a],u=p+v*l,(!e||r.visible)&&(v+=r.percentage/100),f=p+v*l,r.shapeType="arc",r.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:o(u*1e3)/1e3,end:o(f*1e3)/1e3},i=(f+u)/2,i>1.5*ui?i-=2*ui:i<-ui/2&&(i+=2*ui),r.slicedTranslation={translateX:o(ft(i)*y),translateY:o(lt(i)*y)},u=ft(i)*n[2]/2,f=lt(i)*n[2]/2,r.tooltipPos=[n[0]+u*.7,n[1]+f*.7],r.half=i<-ui/2||i>ui/2?1:0,r.angle=i,c=h(c,s/2),r.labelPos=[n[0]+u+ft(i)*s,n[1]+f+lt(i)*s,n[0]+u+ft(i)*c,n[1]+f+lt(i)*c,n[0]+u,n[1]+f,s<0?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n=this,o=n.chart.renderer,u,f,s=n.options.shadow,t,r,h,c;s&&!n.shadowGroup&&(n.shadowGroup=o.g("shadow").add(n.group));i(n.points,function(i){i.y!==null&&(f=i.graphic,h=i.shapeArgs,t=i.shadowGroup,r=i.pointAttr[i.selected?"select":""],r.stroke||(r.stroke=r.fill),s&&!t&&(t=i.shadowGroup=o.g("shadow").add(n.shadowGroup)),u=i.sliced?i.slicedTranslation:{translateX:0,translateY:0},t&&t.attr(u),f?f.setRadialReference(n.center).attr(r).animate(e(h,u)):(c={"stroke-linejoin":"round"},i.visible||(c.visibility="hidden"),i.graphic=f=o[i.shapeType](h).setRadialReference(n.center).attr(r).attr(c).attr(u).add(n.group).shadow(s,t)))})},searchPoint:li,sortByAngle:function(n,t){n.sort(function(n,i){return n.angle!==void 0&&(i.angle-n.angle)*t})},drawLegendSymbol:tr.drawRectangle,getCenter:gf.getCenter,getSymbol:li},vt=ri(b,vt),k.pie=vt,b.prototype.drawDataLabels=function(){var u=this,h=u.options,v=h.cursor,n=h.dataLabels,w=u.points,l,a,y=u.hasRendered||0,o,s,p=u.chart.renderer;(n.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(n),s=u.plotGroup("dataLabelsGroup","data-labels",n.defer?"hidden":"visible",n.zIndex||6),t(n.defer,!0)&&(s.attr({opacity:+y}),y||d(u,"afterAnimate",function(){u.visible&&s.show();s[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=n,i(w,function(i){var w,y=i.dataLabel,k,d,nt=i.connector,tt=!0,b,g={};if(l=i.dlOptions||i.options&&i.options.dataLabels,w=t(l&&l.enabled,a.enabled)&&i.y!==null,y&&!w)i.dataLabel=y.destroy();else if(w){if(n=c(a,l),b=n.style,w=n.rotation,k=i.getLabelConfig(),o=n.format?ur(n.format,k):n.formatter.call(k,n),b.color=t(n.color,b.color,u.color,"black"),y)r(o)?(y.attr({text:o}),tt=!1):(i.dataLabel=y=y.destroy(),nt)&&(i.connector=nt.destroy());else if(r(o)){y={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:w,padding:n.padding,zIndex:1};b.color==="contrast"&&(g.color=n.inside||n.distance<0||h.stacking?p.getContrast(i.color||u.color):"#000000");v&&(g.cursor=v);for(d in y)y[d]===f&&delete y[d];y=i.dataLabel=p[w?"text":"label"](o,0,-9999,n.shape,null,null,n.useHTML).attr(y).css(e(b,g)).add(s).shadow(n.shadow)}y&&u.alignDataLabel(i,y,n,null,tt)}}))},b.prototype.alignDataLabel=function(n,i,r,u,f){var h=this.chart,s=h.inverted,l=t(n.plotX,-9999),a=t(n.plotY,-9999),c=i.getBBox(),y=h.renderer.fontMetrics(r.style.fontSize).b,v=this.visible&&(n.series.forceDL||h.isInsidePlot(l,o(a),s)||u&&h.isInsidePlot(l,s?u.x+1:u.y+u.height-1,s));v&&(u=e({x:s?h.plotWidth-a:l,y:o(s?h.plotHeight-l:a),width:0,height:0},u),e(r,{width:c.width,height:c.height}),r.rotation?(n=h.renderer.rotCorr(y,r.rotation),i[f?"attr":"animate"]({x:u.x+r.x+u.width/2+n.x,y:u.y+r.y+u.height/2}).attr({align:r.align})):(i.align(r,null,u),s=i.alignAttr,t(r.overflow,"justify")==="justify"?this.justifyDataLabel(i,r,s,c,u,f):t(r.crop,!0)&&(v=h.isInsidePlot(s.x,s.y)&&h.isInsidePlot(s.x+c.width,s.y+c.height)),r.shape&&i.attr({anchorX:n.plotX,anchorY:n.plotY})));v||(br(i),i.attr({y:-9999}),i.placed=!1)},b.prototype.justifyDataLabel=function(n,t,i,r,u,f){var s=this.chart,c=t.align,l=t.verticalAlign,e,o,h=n.box?0:n.padding||0;e=i.x+h;e<0&&(c==="right"?t.align="left":t.x=-e,o=!0);e=i.x+r.width-h;e>s.plotWidth&&(c==="left"?t.align="right":t.x=s.plotWidth-e,o=!0);e=i.y+h;e<0&&(l==="bottom"?t.verticalAlign="top":t.y=-e,o=!0);e=i.y+r.height-h;e>s.plotHeight&&(l==="top"?t.verticalAlign="bottom":t.y=s.plotHeight-e,o=!0);o&&(n.placed=!f,n.align(t,null,u))},k.pie&&(k.pie.prototype.drawDataLabels=function(){var a=this,d=a.data,f,st=a.chart,g=a.options.dataLabels,rt=t(g.connectorPadding,10),yt=t(g.connectorWidth,1),pt=st.plotWidth,wt=st.plotHeight,it,ct,dt=t(g.softConnector,!0),tt=g.distance,lt=a.center,ft=lt[2]/2,ht=lt[1],gt=tt>0,v,s,r,bt=[[],[]],y,e,et,ut,n,p=[0,0,0,0],kt=function(n,t){return t.y-n.y},vt,ot;if(a.visible&&(g.enabled||a._hasPointLabels)){for(b.prototype.drawDataLabels.apply(a),i(d,function(n){n.dataLabel&&n.visible&&bt[n.half].push(n)}),ut=2;ut--;){var k=[],at=[],l=bt[ut],nt=l.length,c;if(nt){for(a.sortByAngle(l,ut-.5),n=d=0;!d&&l[n];)d=l[n]&&l[n].dataLabel&&(l[n].dataLabel.getBBox().height||21),n++;if(tt>0){for(s=h(ht+ft+tt,st.plotHeight),n=u(0,ht-ft-tt);n<=s;n+=d)k.push(n);if(s=k.length,nt>s){for(f=[].concat(l),f.sort(kt),n=nt;n--;)f[n].rank=n;for(n=nt;n--;)l[n].rank>=s&&l.splice(n,1);nt=l.length}for(n=0;n<nt;n++){for(f=l[n],r=f.labelPos,f=9999,ot=0;ot<s;ot++)vt=w(k[ot]-r[1]),vt<f&&(f=vt,c=ot);if(c<n&&k[n]!==null)c=n;else for(s<nt-n+c&&k[n]!==null&&(c=s-nt+n);k[c]===null;)c++;at.push({i:c,y:k[c]});k[c]=null}at.sort(kt)}for(n=0;n<nt;n++)f=l[n],r=f.labelPos,v=f.dataLabel,et=f.visible===!1?"hidden":"inherit",f=r[1],tt>0?(s=at.pop(),c=s.i,e=s.y,f>e&&k[c+1]!==null||f<e&&k[c-1]!==null)&&(e=h(u(0,f),st.plotHeight)):e=f,y=g.justify?lt[0]+(ut?-1:1)*(ft+tt):a.getX(e===ht-ft-tt||e===ht+ft+tt?f:e,ut),v._attr={visibility:et,align:r[6]},v._pos={x:y+g.x+({left:rt,right:-rt}[r[6]]||0),y:e+g.y-10},v.connX=y,v.connY=e,this.options.size===null&&(s=v.width,y-s<rt?p[3]=u(o(s-y+rt),p[3]):y+s>pt-rt&&(p[1]=u(o(y+s-pt+rt),p[1])),e-d/2<0?p[0]=u(o(-e+d/2),p[0]):e+d/2>wt&&(p[2]=u(o(e+d/2-wt),p[2])))}}(di(p)===0||this.verifyDataLabelOverflow(p))&&(this.placeDataLabels(),gt&&yt&&i(this.points,function(n){it=n.connector;r=n.labelPos;(v=n.dataLabel)&&v._pos&&n.visible?(et=v._attr.visibility,y=v.connX,e=v.connY,ct=dt?["M",y+(r[6]==="left"?5:-5),e,"C",y,e,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],"L",r[4],r[5]]:["M",y+(r[6]==="left"?5:-5),e,"L",r[2],r[3],"L",r[4],r[5]],it?(it.animate({d:ct}),it.attr("visibility",et)):n.connector=it=a.chart.renderer.path(ct).attr({"stroke-width":yt,stroke:g.connectorColor||n.color||"#606060",visibility:et}).add(a.dataLabelsGroup)):it&&(n.connector=it.destroy())}))}},k.pie.prototype.placeDataLabels=function(){i(this.points,function(n){var t=n.dataLabel;t&&n.visible&&((n=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-9999}))})},k.pie.prototype.alignDataLabel=li,k.pie.prototype.verifyDataLabelOverflow=function(n){var t=this.center,f=this.options,o=f.center,e=f.minSize||80,r=e,s;return o[0]!==null?r=u(t[2]-u(n[1],n[3]),e):(r=u(t[2]-n[1]-n[3],e),t[0]+=(n[3]-n[1])/2),o[1]!==null?r=u(h(r,t[2]-u(n[0],n[2])),e):(r=u(h(r,t[2]-n[0]-n[2]),e),t[1]+=(n[0]-n[2])/2),r<t[2]?(t[2]=r,t[3]=Math.min(/%$/.test(f.innerSize||0)?r*parseFloat(f.innerSize||0)/100:parseFloat(f.innerSize||0),r),this.translate(t),i(this.points,function(n){n.dataLabel&&(n.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):s=!0,s}),k.column&&(k.column.prototype.alignDataLabel=function(n,i,r,u,f){var o=this.chart.inverted,s=n.series,e=n.dlBox||n.shapeArgs,h=t(n.below,n.plotY>t(this.translatedThreshold,s.yAxis.len)),l=t(r.inside,!!this.options.stacking);e&&(u=c(e),u.y<0&&(u.height+=u.y,u.y=0),e=u.y+u.height-s.yAxis.len,e>0&&(u.height-=e),o&&(u={x:s.yAxis.len-u.y-u.height,y:s.xAxis.len-u.x-u.width,width:u.height,height:u.width}),l||(o?(u.x+=h?0:u.width,u.width=0):(u.y+=h?u.height:0,u.height=0)));r.align=t(r.align,!o||l?"center":h?"right":"left");r.verticalAlign=t(r.verticalAlign,o||l?"middle":h?"top":"bottom");b.prototype.alignDataLabel.call(this,n,i,r,u,f)}),function(n){var i=n.Chart,t=n.each,r=n.pick,u=n.addEvent;i.prototype.callbacks.push(function(n){function i(){var i=[];t(n.series,function(n){var u=n.options.dataLabels,f=n.dataLabelCollections||["dataLabel"];(u.enabled||n._hasPointLabels)&&!u.allowOverlap&&n.visible&&t(f,function(u){t(n.points,function(n){n[u]&&(n[u].labelrank=r(n.labelrank,n.shapeArgs&&n.shapeArgs.height),i.push(n[u]))})})});n.hideOverlappingLabels(i)}i();u(n,"redraw",i)});i.prototype.hideOverlappingLabels=function(n){for(var h=n.length,f,i,u,e,o,s,r=0;r<h;r++)(f=n[r])&&(f.oldOpacity=f.opacity,f.newOpacity=1);for(n.sort(function(n,t){return(t.labelrank||0)-(n.labelrank||0)}),r=0;r<h;r++)for(i=n[r],f=r+1;f<h;++f)(u=n[f],i&&u&&i.placed&&u.placed&&i.newOpacity!==0&&u.newOpacity!==0&&(e=i.alignAttr,o=u.alignAttr,s=2*(i.box?0:i.padding),e=!(o.x>e.x+(i.width-s)||o.x+(u.width-s)<e.x||o.y>e.y+(i.height-s)||o.y+(u.height-s)<e.y)))&&((i.labelrank<u.labelrank?i:u).newOpacity=0);t(n,function(n){var i,t;n&&(t=n.newOpacity,n.oldOpacity!==t&&n.placed&&(t?n.show(!0):i=function(){n.hide()},n.alignAttr.opacity=t,n[n.isOld?"animate":"attr"](n.alignAttr,null,i)),n.isOld=!0)})}}(s),vt=s.TrackerMixin={drawTrackerPoint:function(){var n=this,t=n.chart,e=t.pointer,r=n.options.cursor,o=r&&{cursor:r},u=function(n){for(var r=n.target,i;r&&!i;)i=r.point,r=r.parentNode;if(i!==f&&i!==t.hoverPoint)i.onMouseOver(n)};i(n.points,function(n){n.graphic&&(n.graphic.element.point=n);n.dataLabel&&(n.dataLabel.element.point=n)});n._hasTracking||(i(n.trackerGroups,function(t){if(n[t]&&(n[t].addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(n){e.onTrackerMouseOut(n)}).css(o),gr))n[t].on("touchstart",u)}),n._hasTracking=!0)},drawTrackerGraph:function(){var t=this,h=t.options,e=h.trackByArea,r=[].concat(e?t.areaPath:t.graphPath),u=r.length,o=t.chart,v=o.pointer,y=o.renderer,f=o.options.tooltip.snap,c=t.tracker,s=h.cursor,p=s&&{cursor:s},s=t.singlePoints,n,l=function(){o.hoverSeries!==t&&t.onMouseOver()},a="rgba(192,192,192,"+(at?.0001:.002)+")";if(u&&!e)for(n=u+1;n--;)r[n]==="M"&&r.splice(n+1,0,r[n+1]-f,r[n+2],"L"),(n&&r[n]==="M"||n===u)&&r.splice(n,0,"L",r[n-2]+f,r[n-1]);for(n=0;n<s.length;n++)u=s[n],r.push("M",u.plotX-f,u.plotY,"L",u.plotX+f,u.plotY);c?c.attr({d:r}):(t.tracker=y.path(r).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:a,fill:e?a:"none","stroke-width":h.lineWidth+(e?0:2*f),zIndex:2}).add(t.group),i([t.tracker,t.markerGroup],function(n){if(n.addClass("highcharts-tracker").on("mouseover",l).on("mouseout",function(n){v.onTrackerMouseOut(n)}).css(p),gr)n.on("touchstart",l)}))}},k.column&&(ei.prototype.drawTracker=vt.drawTrackerPoint),k.pie&&(k.pie.prototype.drawTracker=vt.drawTrackerPoint),k.scatter&&(gt.prototype.drawTracker=vt.drawTrackerPoint),e(ou.prototype,{setItemEvents:function(n,t,i,r,u){var f=this;(i?t:n.legendGroup).on("mouseover",function(){n.setState("hover");t.css(f.options.itemHoverStyle)}).on("mouseout",function(){t.css(n.visible?r:u);n.setState()}).on("click",function(t){var i=function(){n.setVisible&&n.setVisible()},t={browserEvent:t};n.firePointEvent?n.firePointEvent("legendItemClick",t,i):p(n,"legendItemClick",t,i)})},createCheckboxForItem:function(n){n.checkbox=ct("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container);d(n.checkbox,"click",function(t){p(n.series||n,"checkboxClick",{checked:t.target.checked,item:n},function(){n.select()})})}}),it.legend.itemStyle.cursor="pointer",e(ut.prototype,{showResetZoom:function(){var t=this,i=it.lang,n=t.options.chart.resetZoomButton,r=n.theme,u=r.states,f=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,function(){t.zoomOut()},r,u&&u.hover).attr({align:n.position.align,title:i.resetZoomTitle}).add().align(n.position,!1,f)},zoomOut:function(){var n=this;p(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(n){var u,e=this.pointer,f=!1,r;!n||n.resetSelection?i(this.axes,function(n){u=n.zoom()}):i(n.xAxis.concat(n.yAxis),function(n){var t=n.axis,i=t.isXAxis;(e[i?"zoomX":"zoomY"]||e[i?"pinchX":"pinchY"])&&(u=t.zoom(n.min,n.max),t.displayBtn&&(f=!0))});r=this.resetZoomButton;f&&!r?this.showResetZoom():!f&&yt(r)&&(this.resetZoomButton=r.destroy());u&&this.redraw(t(this.options.chart.animation,n&&n.animation,this.pointCount<100))},pan:function(n,t){var r=this,f=r.hoverPoints,e;f&&i(f,function(n){n.setState()});i(t==="xy"?[1,0]:[1],function(t){var o=n[t?"chartX":"chartY"],i=r[t?"xAxis":"yAxis"][0],f=r[t?"mouseDownX":"mouseDownY"],s=(i.pointRange||0)/2,c=i.getExtremes(),l=i.toValue(f-o,!0)+s,s=i.toValue(f+r[t?"plotWidth":"plotHeight"]-o,!0)-s,f=f>o;i.series.length&&(f||l>h(c.dataMin,c.min))&&(!f||s<u(c.dataMax,c.max))&&(i.setExtremes(l,s,!1,!1,{trigger:"pan"}),e=!0);r[t?"mouseDownX":"mouseDownY"]=o});e&&r.redraw(!1);y(r.container,{cursor:"move"})}}),e(wi.prototype,{select:function(n,r){var u=this,f=u.series,e=f.chart,n=t(n,!u.selected);u.firePointEvent(n?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=n;f.options.data[nr(u,f.data)]=u.options;u.setState(n&&"select");r||i(e.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=n.options.selected=!1,f.options.data[nr(n,f.data)]=n.options,n.setState(""),n.firePointEvent("unselect"))})})},onMouseOver:function(n,t){var i=this.series,r=i.chart,u=r.tooltip,f=r.hoverPoint;r.hoverSeries!==i&&i.onMouseOver();f&&f!==this&&f.onMouseOut();this.series&&(this.firePointEvent("mouseOver"),u&&(!u.shared||i.noSharedTooltip)&&u.refresh(this,n),this.setState("hover"),!t)&&(r.hoverPoint=this)},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;this.firePointEvent("mouseOut");t&&nr(this,t)!==-1||(this.setState(),n.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var n=c(this.series.options.point,this.options).events,t;this.events=n;for(t in n)d(this,t,n[t]);this.hasImportedEvents=!0}},setState:function(n,t){var f=rt(this.plotX),a=this.plotY,r=this.series,v=r.options.states,i=ht[r.type].marker&&r.options.marker,p=i&&!i.enabled,s=i&&i.states[n],w=s&&s.enabled===!1,u=r.stateMarkerGraphic,o=this.marker||{},h=r.chart,l=r.halo,y,n=n||"";y=this.pointAttr[n]||r.pointAttr[n];n===this.state&&!t||this.selected&&n!=="select"||v[n]&&v[n].enabled===!1||n&&(w||p&&s.enabled===!1)||n&&o.states&&o.states[n]&&o.states[n].enabled===!1||(this.graphic?(i=i&&this.graphic.symbolName&&y.r,this.graphic.attr(c(y,i?{x:f-i,y:a-i,width:2*i,height:2*i}:{})),u&&u.hide()):(n&&s&&((i=s.radius,o=o.symbol||r.symbol,u&&u.currentSymbol!==o&&(u=u.destroy()),u)?u[t?"animate":"attr"]({x:f-i,y:a-i}):o&&(r.stateMarkerGraphic=u=h.renderer.symbol(o,f-i,a-i,2*i,2*i).attr(y).add(r.markerGroup),u.currentSymbol=o)),u&&(u[n&&h.isInsidePlot(f,a,h.inverted)?"show":"hide"](),u.element.point=this)),(f=v[n]&&v[n].halo)&&f.size?(l||(r.halo=l=h.renderer.path().add(h.seriesGroup)),l.attr(e(at?{fill:this.color||r.color,"fill-opacity":f.opacity}:{fill:pt(this.color||r.color).setOpacity(f.opacity).get()},f.attributes))[t?"animate":"attr"]({d:this.haloPath(f.size)})):l&&l.attr({d:[]}),this.state=n)},haloPath:function(n){var t=this.series,i=t.chart,r=t.getPlotBox(),u=i.inverted,f=Math.floor(this.plotX);return i.renderer.symbols.circle(r.translateX+(u?t.yAxis.len-this.plotY:f)-n,r.translateY+(u?t.xAxis.len-f:this.plotY)-n,n*2,n*2)}}),e(b.prototype,{onMouseOver:function(){var t=this.chart,n=t.hoverSeries;n&&n!==this&&n.onMouseOut();this.options.events.mouseOver&&p(this,"mouseOver");this.setState("hover");t.hoverSeries=this},onMouseOut:function(){var i=this.options,n=this.chart,t=n.tooltip,r=n.hoverPoint;n.hoverSeries=null;r&&r.onMouseOut();this&&i.events.mouseOut&&p(this,"mouseOut");t&&!i.stickyTracking&&(!t.shared||this.noSharedTooltip)&&t.hide();this.setState()},setState:function(n){var t=this.options,r=this.graph,i=t.states,u=t.lineWidth,t=0,n=n||"";if(this.state!==n&&(this.state=n,!(i[n]&&i[n].enabled===!1)&&(n&&(u=i[n].lineWidth||u+(i[n].lineWidthPlus||0)),r&&!r.dashstyle)))for(n={"stroke-width":u},r.attr(n);this["zoneGraph"+t];)this["zoneGraph"+t].attr(n),t+=1},setVisible:function(n,t){var r=this,u=r.chart,o=r.legendItem,e,s=u.options.chart.ignoreHiddenSeries,h=r.visible;e=(r.visible=n=r.userOptions.visible=n===f?!h:n)?"show":"hide";i(["group","dataLabelsGroup","markerGroup","tracker"],function(n){r[n]&&r[n][e]()});(u.hoverSeries===r||(u.hoverPoint&&u.hoverPoint.series)===r)&&r.onMouseOut();o&&u.legend.colorizeItem(r,n);r.isDirty=!0;r.options.stacking&&i(u.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});i(r.linkedSeries,function(t){t.setVisible(n,!1)});s&&(u.isDirtyBox=!0);t!==!1&&u.redraw();p(r,e)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===f?!this.selected:n;this.checkbox&&(this.checkbox.checked=n);p(this,n?"select":"unselect")},drawTracker:vt.drawTrackerGraph}),e(s,{Color:pt,Point:wi,Tick:yr,Renderer:dr,SVGElement:nt,SVGRenderer:ai,arrayMin:cr,arrayMax:di,charts:ot,dateFormat:pr,error:ni,format:ur,pathAnim:ku,getOptions:function(){return it},hasBidiBug:te,isTouchDevice:n,setOptions:function(n){return it=c(!0,it,n),hf(),it},addEvent:d,removeEvent:st,createElement:ct,discardElement:ar,css:y,each:i,map:or,merge:c,splat:si,stableSort:su,extendClass:ri,pInt:a,svg:at,canvas:kt,vml:!at&&!kt,product:"Highcharts",version:"4.1.10"}),s}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){function d(n,t,i){this.init(n,t,i)}var rt=n.arrayMin,ut=n.arrayMax,r=n.each,b=n.extend,f=n.merge,ft=n.map,i=n.pick,v=n.pInt,u=n.getOptions().plotOptions,t=n.seriesTypes,s=n.extendClass,g=n.splat,e=n.wrap,nt=n.Axis,p=n.Tick,k=n.Point,et=n.Pointer,ot=n.CenteredSeriesMixin,a=n.TrackerMixin,h=n.Series,c=Math,y=c.round,l=c.floor,tt=c.max,st=n.Color,o=function(){};b(d.prototype,{init:function(n,t,i){var u=this,e=u.defaultOptions;u.chart=t;u.options=n=f(e,t.angular?{background:{}}:void 0,n);(n=n.background)&&r([].concat(g(n)).reverse(),function(n){var r=n.backgroundColor,t=i.userOptions,n=f(u.defaultBackgroundOptions,n);r&&(n.backgroundColor=r);n.color=n.backgroundColor;i.options.plotBands.unshift(n);t.plotBands=t.plotBands||[];t.plotBands!==i.options.plotBands&&t.plotBands.unshift(n)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var w=nt.prototype,p=p.prototype,ht={getOffset:o,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:o,setCategories:o,setTitle:o},it={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(n){n=this.options=f(this.defaultOptions,this.defaultRadialOptions,n);n.plotBands||(n.plotBands=[])},getOffset:function(){w.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=ot.getCenter.call(this.pane)},getLinePath:function(n,t){var r=this.center,t=i(t,r[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){w.setAxisTranslation.call(this);this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){w.setAxisSize.call(this);this.isRadial&&(this.center=this.pane.center=n.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*i(this.sector,1)/2)},getPosition:function(n,t){return this.postTranslate(this.isCircular?this.translate(n):0,i(this.isCircular?t:this.translate(n),this.center[2]/2)-this.offset)},postTranslate:function(n,t){var i=this.chart,r=this.center,n=this.startAngleRad+n;return{x:i.plotLeft+r[0]+Math.cos(n)*t,y:i.plotTop+r[1]+Math.sin(n)*t}},getPlotBandPath:function(n,t,r){var f=this.center,e=this.startAngleRad,h=f[2]/2,u=[i(r.outerRadius,"100%"),r.innerRadius,i(r.thickness,10)],c=/%$/,o,s=this.isCircular;return this.options.gridLineInterpolation==="polygon"?f=this.getPlotLinePath(n).concat(this.getPlotLinePath(t,!0)):(n=Math.max(n,this.min),t=Math.min(t,this.max),s||(u[0]=this.translate(n),u[1]=this.translate(t)),u=ft(u,function(n){return c.test(n)&&(n=v(n,10)*h/100),n}),r.shape==="circle"||!s?(n=-Math.PI/2,t=Math.PI*1.5,o=!0):(n=e+this.translate(n),t=e+this.translate(t)),f=this.chart.renderer.symbols.arc(this.left+f[0],this.top+f[1],u[0],u[0],{start:Math.min(n,t),end:Math.max(n,t),innerR:i(u[1],u[0]-u[2]),open:o})),f},getPlotLinePath:function(n,t){var i=this,u=i.center,o=i.chart,h=i.getPosition(n),e,s,f;return i.isCircular?f=["M",u[0]+o.plotLeft,u[1]+o.plotTop,"L",h.x,h.y]:i.options.gridLineInterpolation==="circle"?(n=i.translate(n))&&(f=i.getLinePath(0,n)):(r(o.xAxis,function(n){n.pane===i.pane&&(e=n)}),f=[],n=i.translate(n),u=e.tickPositions,e.autoConnect&&(u=u.concat([u[0]])),t&&(u=[].concat(u).reverse()),r(u,function(t,i){s=e.getPosition(t,n);f.push(i?"L":"M",s.x,s.y)})),f},getTitlePosition:function(){var n=this.center,i=this.chart,t=this.options.title;return{x:i.plotLeft+n[0]+(t.x||0),y:i.plotTop+n[1]-{high:.5,middle:.25,low:0}[t.align]*n[2]+(t.y||0)}}};e(w,"init",function(n,t,r){var c,o=t.angular,l=t.polar,s=r.isX,a=o&&s,h,e,u;e=t.options;u=r.pane||0;o?(b(this,a?ht:it),h=!s)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions):l&&(b(this,it),this.defaultRadialOptions=(h=s)?this.defaultRadialXOptions:f(this.defaultYAxisOptions,this.defaultRadialYOptions));n.call(this,t,r);!a&&(o||l)&&(n=this.options,t.panes||(t.panes=[]),this.pane=(c=t.panes[u]=t.panes[u]||new d(g(e.pane)[u],t,this),u=c),u=u.options,t.inverted=!1,e.chart.zoomType=null,this.startAngleRad=t=(u.startAngle-90)*Math.PI/180,this.endAngleRad=e=(i(u.endAngle,u.startAngle+360)-90)*Math.PI/180,this.offset=n.offset||0,(this.isCircular=h)&&r.max===void 0&&e-t==2*Math.PI&&(this.autoConnect=!0))});e(p,"getPosition",function(n,t,i,r,u){var f=this.axis;return f.getPosition?f.getPosition(i):n.call(this,t,i,r,u)});e(p,"getLabelPosition",function(n,t,r,u,f,e,o,s,h){var c=this.axis,y=e.y,l=20,v=e.align,a=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(n=c.getPosition(this.pos,c.center[2]/2+i(e.distance,-25)),e.rotation==="auto"?u.attr({rotation:a}):y===null&&(y=c.chart.renderer.fontMetrics(u.styles.fontSize).b-u.getBBox().height/2),v===null&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(l=0),v=a>l&&a<180-l?"left":a>180+l&&a<360-l?"right":"center"):v="center",u.attr({align:v})),n.x+=e.x,n.y+=y):n=n.call(this,t,r,u,f,e,o,s,h),n});e(p,"getMarkPath",function(n,t,i,r,u,f,e){var o=this.axis;return o.isRadial?(n=o.getPosition(this.pos,o.center[2]/2+r),t=["M",t,i,"L",n.x,n.y]):t=n.call(this,t,i,r,u,f,e),t});u.arearange=f(u.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf<\/span> {series.name}: <b>{point.low}<\/b> - <b>{point.high}<\/b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});t.arearange=s(t.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(n){return[n.low,n.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(n){var t=this.chart,i=this.xAxis.postTranslate(n.rectPlotX,this.yAxis.len-n.plotHigh);n.plotHighX=i.x-t.plotLeft;n.plotHigh=i.y-t.plotTop},getSegments:function(){var n=this;r(n.points,function(t){n.options.connectNulls||t.low!==null&&t.high!==null?t.low===null&&t.high!==null&&(t.y=t.high):t.y=null});h.prototype.getSegments.call(this)},translate:function(){var n=this,i=n.yAxis;t.area.prototype.translate.apply(n);r(n.points,function(n){var r=n.low,t=n.high,u=n.plotY;t===null&&r===null?n.y=null:r===null?(n.plotLow=n.plotY=null,n.plotHigh=i.translate(t,0,1,0,1)):t===null?(n.plotLow=u,n.plotHigh=null):(n.plotLow=u,n.plotHigh=i.translate(t,0,1,0,1))});this.chart.polar&&r(this.points,function(t){n.highToXY(t)})},getSegmentPath:function(t){var e,i=[],o=t.length,s=h.prototype.getSegmentPath,f,r,u;for(r=this.options,u=r.step,e=n.grep(t,function(n){return n.plotLow!==null});o--;)f=t[o],f.plotHigh!==null&&i.push({plotX:f.plotHighX||f.plotX,plotY:f.plotHigh});return t=s.call(this,e),u&&(u===!0&&(u="left"),r.step={left:"right",center:"center",right:"left"}[u]),i=s.call(this,i),r.step=u,r=[].concat(t,i),this.chart.polar||(i[0]="L"),this.areaPath=this.areaPath.concat(t,i),r},drawDataLabels:function(){var f=this.data,s=f.length,i,c=[],u=h.prototype,t=this.options.dataLabels,e=t.align,o=t.verticalAlign,l=t.inside,n,r,a=this.chart.inverted;if(t.enabled||this._hasPointLabels){for(i=s;i--;)(n=f[i])&&(r=l?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.y=n.high,n._plotY=n.plotY,n.plotY=n.plotHigh,c[i]=n.dataLabel,n.dataLabel=n.dataLabelUpper,n.below=r,a?e||(t.align=r?"right":"left"):o||(t.verticalAlign=r?"top":"bottom"),t.x=t.xHigh,t.y=t.yHigh);for(u.drawDataLabels&&u.drawDataLabels.apply(this,arguments),i=s;i--;)(n=f[i])&&(r=l?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.dataLabelUpper=n.dataLabel,n.dataLabel=c[i],n.y=n.low,n.plotY=n._plotY,n.below=!r,a?e||(t.align=r?"left":"right"):o||(t.verticalAlign=r?"bottom":"top"),t.x=t.xLow,t.y=t.yLow);u.drawDataLabels&&u.drawDataLabels.apply(this,arguments)}t.align=e;t.verticalAlign=o},alignDataLabel:function(){t.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:o,getSymbol:o,drawPoints:o});u.areasplinerange=f(u.arearange);t.areasplinerange=s(t.arearange,{type:"areasplinerange",getPointSpline:t.spline.prototype.getPointSpline}),function(){var n=t.column.prototype;u.columnrange=f(u.column,u.arearange,{lineWidth:1,pointRange:null});t.columnrange=s(t.arearange,{type:"columnrange",translate:function(){var t=this,u=t.yAxis,i;n.translate.apply(t);r(t.points,function(n){var e=n.shapeArgs,r=t.options.minPointLength,f;n.tooltipPos=null;n.plotHigh=i=u.translate(n.high,0,1,0,1);n.plotLow=n.plotY;f=i;n=n.plotY-i;Math.abs(n)<r?(r-=n,n+=r,f-=r/2):n<0&&(n*=-1,f-=n);e.height=n;e.y=f})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:o,crispCol:n.crispCol,pointAttrToOptions:n.pointAttrToOptions,drawPoints:n.drawPoints,drawTracker:n.drawTracker,animate:n.animate,getColumnMetrics:n.getColumnMetrics})}();u.gauge=f(u.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});a={type:"gauge",pointClass:s(k,{setState:function(n){this.state=n}}),angular:!0,drawGraph:o,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var n=this.yAxis,u=this.options,t=n.center;this.generatePoints();r(this.points,function(r){var o=f(u.dial,r.dial),h=v(i(o.radius,80))*t[2]/200,l=v(i(o.baseLength,70))*h/100,a=v(i(o.rearLength,10))*h/100,c=o.baseWidth||3,y=o.topWidth||1,s=u.overshoot,e=n.startAngleRad+n.translate(r.y,null,null,null,!0);s&&typeof s=="number"?(s=s/180*Math.PI,e=Math.max(n.startAngleRad-s,Math.min(n.endAngleRad+s,e))):u.wrap===!1&&(e=Math.max(n.startAngleRad,Math.min(n.endAngleRad,e)));e=e*180/Math.PI;r.shapeType="path";r.shapeArgs={d:o.path||["M",-a,-c/2,"L",l,-c/2,h,-y/2,h,y/2,l,c/2,-a,c/2,"z"],translateX:t[0],translateY:t[1],rotation:e};r.plotX=t[0];r.plotY=t[1]})},drawPoints:function(){var n=this,t=n.yAxis.center,e=n.pivot,o=n.options,u=o.pivot,s=n.chart.renderer;r(n.points,function(t){var u=t.graphic,i=t.shapeArgs,e=i.d,r=f(o.dial,t.dial);u?(u.animate(i),i.d=e):t.graphic=s[t.shapeType](i).attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0,fill:r.backgroundColor||"black",rotation:i.rotation,zIndex:1}).add(n.group)});e?e.animate({translateX:t[0],translateY:t[1]}):n.pivot=s.circle(0,0,i(u.radius,5)).attr({"stroke-width":u.borderWidth||0,stroke:u.borderColor||"silver",fill:u.backgroundColor||"black",zIndex:2}).translate(t[0],t[1]).add(n.group)},animate:function(n){var t=this;n||(r(t.points,function(n){var i=n.graphic;i&&(i.attr({rotation:t.yAxis.startAngleRad*180/Math.PI}),i.animate({rotation:n.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);h.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(n,t){h.prototype.setData.call(this,n,!1);this.processData();this.generatePoints();i(t,!0)&&this.chart.redraw()},drawTracker:a&&a.drawTrackerPoint};t.gauge=s(t.line,a);u.boxplot=f(u.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf<\/span> <b> {series.name}<\/b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2});t.boxplot=s(t.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(n){return[n.low,n.q1,n.median,n.q3,n.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:o,translate:function(){var n=this.yAxis,i=this.pointArrayMap;t.column.prototype.translate.apply(this);r(this.points,function(t){r(i,function(i){t[i]!==null&&(t[i+"Plot"]=n.translate(t[i],0,1,0,1))})})},drawPoints:function(){var e=this,u=e.options,v=e.chart.renderer,it,h,o,p,w,rt,n,t,s,ut,c,ft,et,b,ot,k,st,f,d,ht,ct,tt,g=e.doQuartiles!==!1,nt,a=e.options.whiskerLength;r(e.points,function(r){s=r.graphic;ct=r.shapeArgs;c={};b={};k={};tt=r.color||e.color;r.plotY!==void 0&&((it=r.pointAttr[r.selected?"selected":""],st=ct.width,f=l(ct.x),d=f+st,ht=y(st/2),h=l(g?r.q1Plot:r.lowPlot),o=l(g?r.q3Plot:r.lowPlot),p=l(r.highPlot),w=l(r.lowPlot),c.stroke=r.stemColor||u.stemColor||tt,c["stroke-width"]=i(r.stemWidth,u.stemWidth,u.lineWidth),c.dashstyle=r.stemDashStyle||u.stemDashStyle,b.stroke=r.whiskerColor||u.whiskerColor||tt,b["stroke-width"]=i(r.whiskerWidth,u.whiskerWidth,u.lineWidth),k.stroke=r.medianColor||u.medianColor||tt,k["stroke-width"]=i(r.medianWidth,u.medianWidth,u.lineWidth),n=c["stroke-width"]%2/2,t=f+ht+n,ut=["M",t,o,"L",t,p,"M",t,h,"L",t,w],g&&(n=it["stroke-width"]%2/2,t=l(t)+n,h=l(h)+n,o=l(o)+n,f+=n,d+=n,ft=["M",f,o,"L",f,h,"L",d,h,"L",d,o,"L",f,o,"z"]),a&&(n=b["stroke-width"]%2/2,p+=n,w+=n,nt=/%$/.test(a)?ht*parseFloat(a)/100:a/2,et=["M",t-nt,p,"L",t+nt,p,"M",t-nt,w,"L",t+nt,w]),n=k["stroke-width"]%2/2,rt=y(r.medianPlot)+n,ot=["M",f,rt,"L",d,rt],s)?(r.stem.animate({d:ut}),a&&r.whiskers.animate({d:et}),g&&r.box.animate({d:ft}),r.medianShape.animate({d:ot})):(r.graphic=s=v.g().add(e.group),r.stem=v.path(ut).attr(c).add(s),a&&(r.whiskers=v.path(et).attr(b).add(s)),g&&(r.box=v.path(ft).attr(it).add(s)),r.medianShape=v.path(ot).attr(k).add(s)))})},setStackedPoints:o});u.errorbar=f(u.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf<\/span> {series.name}: <b>{point.low}<\/b> - <b>{point.high}<\/b><br/>'},whiskerWidth:null});t.errorbar=s(t.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(n){return[n.low,n.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:t.arearange?t.arearange.prototype.drawDataLabels:o,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||t.column.prototype.getColumnMetrics.call(this)}});u.waterfall=f(u.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}});t.waterfall=s(t.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var s=this.options,r=this.yAxis,e,l,i,n,h,u,f,c,o,a=s.threshold,v=s.stacking;for(t.column.prototype.translate.apply(this),f=c=a,l=this.points,e=0,s=l.length;e<s;e++)i=l[e],u=this.processedYData[e],n=i.shapeArgs,o=(h=v&&r.stacks[(this.negStacks&&u<a?"-":"")+this.stackKey])?h[i.x].points[this.index+","+e]:[0,u],i.isSum?i.y=u:i.isIntermediateSum&&(i.y=u-c),h=tt(f,f+i.y)+o[0],n.y=r.translate(h,0,1),i.isSum?(n.y=r.translate(o[1],0,1),n.height=Math.min(r.translate(o[0],0,1),r.len)-n.y):i.isIntermediateSum?(n.y=r.translate(o[1],0,1),n.height=Math.min(r.translate(c,0,1),r.len)-n.y,c=o[1]):(f!==0&&(n.height=u>0?r.translate(f,0,1)-n.y:r.translate(f,0,1)-r.translate(f-u,0,1)),f+=u),n.height<0&&(n.y+=n.height,n.height*=-1),i.plotY=n.y=y(n.y)-this.borderWidth%2/2,n.height=tt(y(n.height),.001),i.yBottom=n.y+n.height,n=i.plotY+(i.negative?n.height:0),this.chart.inverted?i.tooltipPos[0]=r.len-n:i.tooltipPos[1]=n},processData:function(n){for(var u=this.yData,o=this.options.data,s,l=u.length,c,f,e,r,i=c=f=e=this.options.threshold||0,t=0;t<l;t++)r=u[t],s=o&&o[t]?o[t]:{},r==="sum"||s.isSum?u[t]=i:r==="intermediateSum"||s.isIntermediateSum?u[t]=c:(i+=r,c+=r),f=Math.min(i,f),e=Math.max(i,e);h.prototype.processData.call(this,n);this.dataMin=f;this.dataMax=e},toYData:function(n){return n.isSum?n.x===0?null:"sum":n.isIntermediateSum?n.x===0?null:"intermediateSum":n.y},getAttribs:function(){t.column.prototype.getAttribs.apply(this,arguments);var i=this,o=i.options,h=o.states,u=o.upColor||i.color,o=n.Color(u).brighten(.1).get(),e=f(i.pointAttr),s=i.upColorProp;e[""][s]=u;e.hover[s]=h.hover.upColor||o;e.select[s]=h.select.upColor||u;r(i.points,function(n){n.options.color||(n.y>0?(n.pointAttr=e,n.color=u):n.pointAttr=i.pointAttr)})},getGraphPath:function(){for(var r=this.data,e=r.length,f=y(this.options.lineWidth+this.borderWidth)%2/2,u=[],n,t,i=1;i<e;i++)t=r[i].shapeArgs,n=r[i-1].shapeArgs,t=["M",n.x+n.width,n.y+f,"L",t.x,n.y+f],r[i-1].y<0&&(t[2]+=n.height,t[5]+=n.height),u=u.concat(t);return u},getExtremes:o,drawGraph:h.prototype.drawGraph});u.polygon=f(u.scatter,{marker:{enabled:!1}});t.polygon=s(t.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(n){return h.prototype.getSegmentPath.call(this,n).concat("z")},drawGraph:h.prototype.drawGraph,drawLegendSymbol:n.LegendSymbolMixin.drawRectangle});u.bubble=f(u.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});a=s(k,{haloPath:function(){return k.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});t.bubble=s(t.scatter,{type:"bubble",pointClass:a,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(n){var t=this.options.marker,r=i(t.fillOpacity,.5),n=n||t.fillColor||this.color;return r!==1&&(n=st(n).setOpacity(r).get("rgba")),n},convertAttribs:function(){var n=h.prototype.convertAttribs.apply(this,arguments);return n.fill=this.applyOpacity(n.fill),n},getRadii:function(n,t,i,r){for(var u,h=this.zData,l=[],e=this.options,v=e.sizeBy!=="width",o=e.zThreshold,a=t-n,f=0,s=h.length;f<s;f++)u=h[f],e.sizeByAbsoluteValue&&u!==null&&(u=Math.abs(u-o),t=Math.max(t-o,Math.abs(n-o)),n=0),u===null?u=null:u<n?u=i/2-1:(u=a>0?(u-n)/a:.5,v&&u>=0&&(u=Math.sqrt(u)),u=c.ceil(i+u*(r-i))/2),l.push(u);this.radii=l},animate:function(n){var t=this.options.animation;n||(r(this.points,function(n){var i=n.graphic,n=n.shapeArgs;i&&n&&(i.attr("r",1),i.animate({r:n.r},t))}),this.animate=null)},translate:function(){var r,u=this.data,n,i,f=this.radii;for(t.scatter.prototype.translate.call(this),r=u.length;r--;)n=u[r],i=f?f[r]:0,typeof i=="number"&&i>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:i},n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=void 0},drawLegendSymbol:function(n,t){var r=this.chart.renderer,i=r.fontMetrics(n.itemStyle.fontSize).f/2;t.legendSymbol=r.circle(i,n.baseline-i,i).attr({zIndex:3}).add(t.legendGroup);t.legendSymbol.isMarker=!0},drawPoints:t.column.prototype.drawPoints,alignDataLabel:t.column.prototype.alignDataLabel,buildKDTree:o,applyZones:o});nt.prototype.beforePadding=function(){var u=this,n=this.len,o=this.chart,f=0,t=n,s=this.isXAxis,b=s?"xData":"yData",h=this.min,l={},k=c.min(o.plotWidth,o.plotHeight),a=Number.MAX_VALUE,y=-Number.MAX_VALUE,p=this.max-h,e=n/p,w=[];r(this.series,function(n){var t=n.options;n.bubblePadding&&(n.visible||!o.options.chart.ignoreHiddenSeries)&&(u.allowZoomOutside=!0,w.push(n),s)&&(r(["minSize","maxSize"],function(n){var i=t[n],r=/%$/.test(i),i=v(i);l[n]=r?k*i/100:i}),n.minPxSize=l.minSize,n.maxPxSize=l.maxSize,n=n.zData,n.length&&(a=i(t.zMin,c.min(a,c.max(rt(n),t.displayNegative===!1?t.zThreshold:-Number.MAX_VALUE))),y=i(t.zMax,c.max(y,ut(n)))))});r(w,function(n){var r=n[b],i=r.length,u;if(s&&n.getRadii(a,y,n.minPxSize,n.maxPxSize),p>0)for(;i--;)typeof r[i]=="number"&&(u=n.radii[i],f=Math.min((r[i]-h)*e-u,f),t=Math.max((r[i]-h)*e+u,t))});w.length&&p>0&&!this.isLog&&(t-=n,e*=(n+f-t)/n,r([["min","userMin",f],["max","userMax",t]],function(n){i(u.options[n[0]],u[n[1]])===void 0&&(u[n[0]]+=n[2]/e)}))},function(){function f(n,t,i){n.call(this,t,i);this.chart.polar&&(this.closeSegment=function(n){var t=this.xAxis.center;n.push("L",t[0],t[1])},this.closedStacks=!0)}function o(n,t){var i=this.chart,r=this.options.animation,f=this.group,u=this.markerGroup,e=this.xAxis.center,o=i.plotLeft,s=i.plotTop;i.polar?i.renderer.isSVG&&(r===!0&&(r={}),t?(i={translateX:e[0]+o,translateY:e[1]+s,scaleX:.001,scaleY:.001},f.attr(i),u&&u.attr(i)):(i={translateX:o,translateY:s,scaleX:1,scaleY:1},f.animate(i,r),u&&u.animate(i,r),this.animate=null)):n.call(this,t)}var n=h.prototype,s=et.prototype,u;n.searchPointByAngle=function(n){var t=this.chart,i=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(n.chartX-i[0]-t.plotLeft,n.chartY-i[1]-t.plotTop)*(-180/Math.PI)})};e(n,"buildKDTree",function(n){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2);n.apply(this)});n.toXY=function(n){var t,i=this.chart,r=n.plotX;t=n.plotY;n.rectPlotX=r;n.rectPlotY=t;t=this.xAxis.postTranslate(n.plotX,this.yAxis.len-t);n.plotX=n.polarPlotX=t.x-i.plotLeft;n.plotY=n.polarPlotY=t.y-i.plotTop;this.kdByAngle?(i=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,i<0&&(i+=360),n.clientX=i):n.clientX=n.plotX};t.area&&e(t.area.prototype,"init",f);t.areaspline&&e(t.areaspline.prototype,"init",f);t.spline&&e(t.spline.prototype,"getPointSpline",function(n,t,i,r){var u,f,o,s,h,c,e;return this.chart.polar?(u=i.plotX,f=i.plotY,n=t[r-1],o=t[r+1],this.connectEnds&&(n||(n=t[t.length-2]),o||(o=t[1])),n&&o&&(s=n.plotX,h=n.plotY,t=o.plotX,c=o.plotY,s=(1.5*u+s)/2.5,h=(1.5*f+h)/2.5,o=(1.5*u+t)/2.5,e=(1.5*f+c)/2.5,t=Math.sqrt(Math.pow(s-u,2)+Math.pow(h-f,2)),c=Math.sqrt(Math.pow(o-u,2)+Math.pow(e-f,2)),s=Math.atan2(h-f,s-u),h=Math.atan2(e-f,o-u),e=Math.PI/2+(s+h)/2,Math.abs(s-e)>Math.PI/2&&(e-=Math.PI),s=u+Math.cos(e)*t,h=f+Math.sin(e)*t,o=u+Math.cos(Math.PI+e)*c,e=f+Math.sin(Math.PI+e)*c,i.rightContX=o,i.rightContY=e),r?(i=["C",n.rightContX||n.plotX,n.rightContY||n.plotY,s||u,h||f,u,f],n.rightContX=n.rightContY=null):i=["M",u,f]):i=n.call(this,t,i,r),i});e(n,"translate",function(n){var t=this.chart;if(n.call(this),t.polar&&(this.kdByAngle=t.tooltip&&t.tooltip.shared,!this.preventPostTranslate))for(n=this.points,t=n.length;t--;)this.toXY(n[t])});e(n,"getSegmentPath",function(n,t){var i=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===i[i.length-1]&&i[0].y!==null&&(this.connectEnds=!0,t=[].concat(t,[i[0]])),n.call(this,t)});e(n,"animate",o);t.column&&(u=t.column.prototype,e(u,"animate",o),e(u,"translate",function(n){var r=this.xAxis,u=this.yAxis.len,f=r.center,o=r.startAngleRad,s=this.chart.renderer,t,e;if(this.preventPostTranslate=!0,n.call(this),r.isRadial)for(r=this.points,e=r.length;e--;)t=r[e],n=t.barX+o,t.shapeType="path",t.shapeArgs={d:s.symbols.arc(f[0],f[1],u-t.plotY,null,{start:n,end:n+t.pointWidth,innerR:u-i(t.yBottom,u)})},this.toXY(t),t.tooltipPos=[t.plotX,t.plotY],t.ttBelow=t.plotY>f[1]}),e(u,"alignDataLabel",function(t,i,r,u,f,e){this.chart.polar?(t=i.rectPlotX/Math.PI*180,u.align===null&&(u.align=t>20&&t<160?"left":t>200&&t<340?"right":"center"),u.verticalAlign===null&&(u.verticalAlign=t<45||t>315?"bottom":t>135&&t<225?"top":"middle"),n.alignDataLabel.call(this,i,r,u,f,e)):t.call(this,i,r,u,f,e)}));e(s,"getCoordinates",function(n,t){var i=this.chart,u={xAxis:[],yAxis:[]};return i.polar?r(i.axes,function(n){var f=n.isXAxis,r=n.center,e=t.chartX-r[0]-i.plotLeft,r=t.chartY-r[1]-i.plotTop;u[f?"xAxis":"yAxis"].push({axis:n,value:n.translate(f?Math.PI-Math.atan2(e,r):Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),!0)})}):u=n.call(this,t),u})}()}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){var r=n.getOptions().plotOptions,u=n.pInt,f=n.pick,t=n.each,i;r.solidgauge=n.merge(r.gauge,{colorByPoint:!0});i={initDataClasses:function(i){var e=this,o=this.chart,f,r=0,u=this.options;this.dataClasses=f=[];t(i.dataClasses,function(t,s){var h,t=n.merge(t);f.push(t);t.color||(u.dataClassColor==="category"?(h=o.options.colors,t.color=h[r++],r===h.length&&(r=0)):t.color=e.tweenColors(n.Color(u.minColor),n.Color(u.maxColor),s/(i.dataClasses.length-1)))})},initStops:function(i){this.stops=i.stops||[[0,this.options.minColor],[1,this.options.maxColor]];t(this.stops,function(t){t.color=n.Color(t[1])})},toColor:function(n,t){var u,i=this.stops,f,o=this.dataClasses,e,r;if(o){for(r=o.length;r--;)if(e=o[r],f=e.from,i=e.to,(f===void 0||n>=f)&&(i===void 0||n<=i)){u=e.color;t&&(t.dataClass=r);break}}else{for(this.isLog&&(n=this.val2lin(n)),u=1-(this.max-n)/(this.max-this.min),r=i.length;r--;)if(u>i[r][0])break;f=i[r]||i[r+1];i=i[r+1]||f;u=1-(i[0]-u)/(i[0]-f[0]||1);u=this.tweenColors(f.color,i.color,u)}return u},tweenColors:function(n,t,i){var r;return!t.rgba.length||!n.rgba.length?n=t.input||"none":(n=n.rgba,t=t.rgba,r=t[3]!==1||n[3]!==1,n=(r?"rgba(":"rgb(")+Math.round(t[0]+(n[0]-t[0])*(1-i))+","+Math.round(t[1]+(n[1]-t[1])*(1-i))+","+Math.round(t[2]+(n[2]-t[2])*(1-i))+(r?","+(t[3]+(n[3]-t[3])*(1-i)):"")+")"),n}};t(["fill","stroke"],function(t){n.addAnimSetter(t,function(r){r.elem.attr(t,i.tweenColors(n.Color(r.start),n.Color(r.end),r.pos))})});n.seriesTypes.solidgauge=n.extendClass(n.seriesTypes.gauge,{type:"solidgauge",pointAttrToOptions:{},bindAxes:function(){var t;n.seriesTypes.gauge.prototype.bindAxes.call(this);t=this.yAxis;n.extend(t,i);t.options.dataClasses&&t.initDataClasses(t.options);t.initStops(t.options)},drawPoints:function(){var i=this,t=i.yAxis,e=t.center,r=i.options,h=i.chart.renderer,o=r.overshoot,s=o&&typeof o=="number"?o/180*Math.PI:0;n.each(i.points,function(n){var v=n.graphic,o=t.startAngleRad+t.translate(n.y,null,null,null,!0),y=u(f(n.options.radius,r.radius,100))*e[2]/200,c=u(f(n.options.innerRadius,r.innerRadius,60))*e[2]/200,l=t.toColor(n.y,n),a=Math.min(t.startAngleRad,t.endAngleRad),p=Math.max(t.startAngleRad,t.endAngleRad);l==="none"&&(l=n.color||i.color||"none");l!=="none"&&(n.color=l);o=Math.max(a-s,Math.min(p+s,o));r.wrap===!1&&(o=Math.max(a,Math.min(p,o)));a=Math.min(o,t.startAngleRad);o=Math.max(o,t.startAngleRad);o-a>2*Math.PI&&(o=a+2*Math.PI);n.shapeArgs=c={x:e[0],y:e[1],r:y,innerR:c,start:a,end:o,fill:l};n.startR=y;v?(n=c.d,v.animate(c),n)&&(c.d=n):n.graphic=h.arc(c).attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0,fill:l,"sweep-flag":0}).add(i.group)})},animate:function(t){t||(this.startAngleRad=this.yAxis.startAngleRad,n.seriesTypes.pie.prototype.animate.call(this,t))}})}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){var t=n.getOptions(),u=t.plotOptions,i=n.seriesTypes,o=n.merge,f=function(){},r=n.each,e=n.pick;u.funnel=o(u.pie,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}});i.funnel=n.extendClass(i.pie,{type:"funnel",animate:f,translate:function(){var h=function(n,t){return/%$/.test(n)?t*parseInt(n,10)/100:parseInt(n,10)},nt=0,p=this.chart,u=this.options,ut=u.reversed,ft=u.ignoreHiddenPoint,tt=p.plotWidth,w=p.plotHeight,et=0,p=u.center,t=h(p[0],tt),b=h(p[1],w),ot=h(u.width,tt),e,l,n=h(u.height,w),a=h(u.neckWidth,tt),it=h(u.neckHeight,w),v=b-n/2+n-it,h=this.data,k,d,st=u.dataLabels.position==="left"?1:0,g,o,rt,c,i,y,s;this.getWidthAt=l=function(t){var i=b-n/2;return t>v||n===it?a:a+(ot-a)*(1-(t-i)/(n-it))};this.getX=function(n,i){return t+(i?-1:1)*(l(ut?w-n:n)/2+u.dataLabels.distance)};this.center=[t,b,n];this.centerX=t;r(h,function(n){ft&&n.visible===!1||(nt+=n.y)});r(h,function(r){s=null;d=nt?r.y/nt:0;o=b-n/2+et*n;i=o+d*n;e=l(o);g=t-e/2;rt=g+e;e=l(i);c=t-e/2;y=c+e;o>v?(g=c=t-a/2,rt=y=t+a/2):i>v&&(s=i,e=l(v),c=t-e/2,y=c+e,i=v);ut&&(o=n-o,i=n-i,s=s?n-s:null);k=["M",g,o,"L",rt,o,y,i];s&&k.push(y,s,c,s);k.push(c,i,"Z");r.shapeType="path";r.shapeArgs={d:k};r.percentage=d*100;r.plotX=t;r.plotY=(o+(s||i))/2;r.tooltipPos=[t,r.plotY];r.slice=f;r.half=st;ft&&r.visible===!1||(et+=d)})},drawPoints:function(){var n=this,t=n.options,i=n.chart.renderer;r(n.data,function(r){var u=r.options,f=r.graphic,o=r.shapeArgs;f?f.animate(o):r.graphic=i.path(o).attr({fill:r.color,stroke:e(u.borderColor,t.borderColor),"stroke-width":e(u.borderWidth,t.borderWidth)}).add(n.group)})},sortByAngle:function(n){n.sort(function(n,t){return n.plotY-t.plotY})},drawDataLabels:function(){var o=this.data,r=this.options.dataLabels.distance,u,f,t,s=o.length,e,n;for(this.center[2]-=2*r;s--;)t=o[s],f=(u=t.half)?1:-1,n=t.plotY,e=this.getX(n,u),t.labelPos=[0,n,e+(r-5)*f,n,e+r*f,n,u?"right":"left",0];i.pie.prototype.drawDataLabels.call(this)}});t.plotOptions.pyramid=n.merge(t.plotOptions.funnel,{neckWidth:"0%",neckHeight:"0%",reversed:!0});n.seriesTypes.pyramid=n.extendClass(n.seriesTypes.funnel,{type:"pyramid"})}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){var l=n.Chart,e=n.addEvent,a=n.removeEvent,v=n.fireEvent,r=n.createElement,s=n.discardElement,o=n.css,u=n.merge,t=n.each,i=n.extend,p=n.splat,w=Math.max,f=document,y=window,b=n.isTouchDevice,k=n.Renderer.prototype.symbols,h=n.getOptions(),c;i(h.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});h.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:b?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};h.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};n.post=function(n,t,i){var e,n=r("form",u({method:"post",action:n,enctype:"multipart/form-data"},i),{display:"none"},f.body);for(e in t)r("input",{type:"hidden",name:e,value:t[e]},null,n);n.submit();s(n)};i(l.prototype,{sanitizeSVG:function(n){return n.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"<\/svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var c=this,v,l,h,y,a,o=u(c.options,e),w=o.exporting.allowHTML;return f.createElementNS||(f.createElementNS=function(n,t){return f.createElement(t)}),l=r("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},f.body),h=c.renderTo.style.width,a=c.renderTo.style.height,h=o.exporting.sourceWidth||o.chart.width||/px$/.test(h)&&parseInt(h,10)||600,a=o.exporting.sourceHeight||o.chart.height||/px$/.test(a)&&parseInt(a,10)||400,i(o.chart,{animation:!1,renderTo:l,forExport:!0,renderer:"SVGRenderer",width:h,height:a}),o.exporting.enabled=!1,delete o.data,o.series=[],t(c.series,function(n){y=u(n.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:n.visible});y.isInternal||o.series.push(y)}),e&&t(["xAxis","yAxis"],function(n){t(p(e[n]),function(t,i){o[n][i]=u(o[n][i],t)})}),v=new n.Chart(o,c.callback),t(["xAxis","yAxis"],function(n){t(c[n],function(t,i){var u=v[n][i],r=t.getExtremes(),f=r.userMin,r=r.userMax;u&&(f!==void 0||r!==void 0)&&u.setExtremes(f,r,!0,!1)})}),h=v.getChartHTML(),o=null,v.destroy(),s(l),w&&(l=h.match(/<\/svg>(.*?$)/))&&(l='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+l[1]+"<\/body><\/foreignObject>",h=h.replace("<\/svg>",l+"<\/svg>")),h=this.sanitizeSVG(h),h.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(n,t){var i=this.options.exporting;return this.getSVG(u({chart:{borderRadius:0}},i.chartOptions,t,{exporting:{sourceWidth:n&&n.sourceWidth||i.sourceWidth,sourceHeight:n&&n.sourceHeight||i.sourceHeight}}))},exportChart:function(t,i){var r=this.getSVGForExport(t,i),t=u(this.options.exporting,t);n.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r},t.formAttributes)},print:function(){var n=this,i=n.container,r=[],o=i.parentNode,u=f.body,e=u.childNodes;n.isPrinting||(n.isPrinting=!0,n.pointer.reset(null,0),v(n,"beforePrint"),t(e,function(n,t){n.nodeType===1&&(r[t]=n.style.display,n.style.display="none")}),u.appendChild(i),y.focus(),y.print(),setTimeout(function(){o.appendChild(i);t(e,function(n,t){n.nodeType===1&&(n.style.display=r[t])});n.isPrinting=!1;v(n,"afterPrint")},1e3))},contextMenu:function(n,u,f,s,h,c,l){var v=this,d=v.options.navigation,g=d.menuItemStyle,nt=v.chartWidth,tt=v.chartHeight,it="cache-"+n,y=v[it],p=w(h,c),b,k,rt,ut=function(t){v.pointer.inClass(t.target,n)||k()};y||(v[it]=y=r("div",{className:n},{position:"absolute",zIndex:1e3,padding:p+"px"},v.container),b=r("div",null,i({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},d.menuStyle),y),k=function(){o(y,{display:"none"});l&&l.setState(0);v.openMenu=!1},e(y,"mouseleave",function(){rt=setTimeout(k,500)}),e(y,"mouseenter",function(){clearTimeout(rt)}),e(document,"mouseup",ut),e(v,"destroy",function(){a(document,"mouseup",ut)}),t(u,function(n){if(n){var t=n.separator?r("hr",null,null,b):r("div",{onmouseover:function(){o(this,d.menuItemHoverStyle)},onmouseout:function(){o(this,g)},onclick:function(t){t&&t.stopPropagation();k();n.onclick&&n.onclick.apply(v,arguments)},innerHTML:n.text||v.options.lang[n.textKey]},i({cursor:"pointer"},g),b);v.exportDivElements.push(t)}}),v.exportDivElements.push(b,y),v.exportMenuWidth=y.offsetWidth,v.exportMenuHeight=y.offsetHeight);u={display:"block"};f+v.exportMenuWidth>nt?u.right=nt-f-h-p+"px":u.left=f-p+"px";s+c+v.exportMenuHeight>tt&&l.alignOptions.verticalAlign!=="top"?u.bottom=tt-s-p+"px":u.top=s+c-p+"px";o(y,u);v.openMenu=!0},addButton:function(t){var e=this,a=e.renderer,r=u(e.options.navigation.buttonOptions,t),v=r.onclick,y=r.menuItems,p,f,w={stroke:r.symbolStroke,fill:r.symbolFill},h=r.symbolSize||12;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),r.enabled!==!1){var o=r.theme,s=o.states,b=s&&s.hover,s=s&&s.select,l;delete o.states;v?l=function(n){n.stopPropagation();v.call(e,n)}:y&&(l=function(){e.contextMenu(f.menuClassName,y,f.translateX,f.translateY,f.width,f.height,f);f.setState(2)});r.text&&r.symbol?o.paddingLeft=n.pick(o.paddingLeft,25):r.text||i(o,{width:r.width,height:r.height,padding:0});f=a.button(r.text,0,0,l,o,b,s).attr({title:e.options.lang[r._titleKey],"stroke-linecap":"round"});f.menuClassName=t.menuClassName||"highcharts-menu-"+e.btnCount++;r.symbol&&(p=a.symbol(r.symbol,r.symbolX-h/2,r.symbolY-h/2,h,h).attr(i(w,{"stroke-width":r.symbolStrokeWidth||1,zIndex:1})).add(f));f.add().align(i(r,{width:f.width,x:n.pick(r.x,c)}),!0,"spacingBox");c+=(f.width+r.buttonSpacing)*(r.align==="right"?-1:1);e.exportSVGElements.push(f,p)}},destroyExport:function(n){for(var n=n.target,t,i=0;i<n.exportSVGElements.length;i++)(t=n.exportSVGElements[i])&&(t.onclick=t.ontouchstart=null,n.exportSVGElements[i]=t.destroy());for(i=0;i<n.exportDivElements.length;i++)t=n.exportDivElements[i],a(t,"mouseleave"),n.exportDivElements[i]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,s(t)}});k.menu=function(n,t,i,r){return["M",n,t+2.5,"L",n+i,t+2.5,"M",n,t+r/2+.5,"L",n+i,t+r/2+.5,"M",n,t+r-1.5,"L",n+i,t+r-1.5]};l.prototype.callbacks.push(function(n){var t,i=n.options.exporting,r=i.buttons;if(c=0,i.enabled!==!1){for(t in r)n.addButton(r[t]);e(n,"destroy",n.destroyExport)}})}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){function e(){return!!this.points.length}function i(){this.hasData()?this.hideNoData():this.showNoData()}var r=n.seriesTypes,t=n.Chart.prototype,u=n.getOptions(),f=n.extend,o=n.each;f(u.lang,{noData:"No data to display"});u.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"}};o(["pie","gauge","waterfall","bubble"],function(n){r[n]&&(r[n].prototype.hasData=e)});n.Series.prototype.hasData=function(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0};t.showNoData=function(n){var t=this.options,n=n||t.lang.noData,t=t.noData;this.noDataLabel||(this.noDataLabel=this.renderer.label(n,0,0,null,null,null,t.useHTML,null,"no-data").attr(t.attr).css(t.style).add(),this.noDataLabel.align(f(this.noDataLabel.getBBox(),t.position),!1,"plotBox"))};t.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())};t.hasData=function(){for(var n=this.series,t=n.length;t--;)if(n[t].hasData()&&!n[t].options.isInternal)return!0;return!1};t.callbacks.push(function(t){n.addEvent(t,"load",i);n.addEvent(t,"redraw",i)})}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){function w(n,t,i){var r;return!t.rgba.length||!n.rgba.length?n=t.input||"none":(n=n.rgba,t=t.rgba,r=t[3]!==1||n[3]!==1,n=(r?"rgba(":"rgb(")+Math.round(t[0]+(n[0]-t[0])*(1-i))+","+Math.round(t[1]+(n[1]-t[1])*(1-i))+","+Math.round(t[2]+(n[2]-t[2])*(1-i))+(r?","+(t[3]+(n[3]-t[3])*(1-i)):"")+")"),n}var h=function(){},e=n.getOptions(),t=n.each,i=n.extend,b=n.format,c=n.pick,o=n.wrap,r=n.Chart,f=n.seriesTypes,l=f.pie,u=f.column,a=n.Tick,v=n.fireEvent,y=n.inArray,p=1,s;t(["fill","stroke"],function(t){n.addAnimSetter(t,function(i){i.elem.attr(t,w(n.Color(i.start),n.Color(i.end),i.pos))})});i(e.lang,{drillUpText:"\u25c1 Back to {series.name}"});e.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}};n.SVGRenderer.prototype.Element.prototype.fadeIn=function(n){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:c(this.newOpacity,1)},n||{duration:250})};r.prototype.addSeriesAsDrilldown=function(n,t){this.addSingleSeriesAsDrilldown(n,t);this.applyDrilldown()};r.prototype.addSingleSeriesAsDrilldown=function(n,r){var e=n.series,f=e.xAxis,o=e.yAxis,u,v,l,a,c,s;u=n.color||e.color;l=[];a=[];this.drilldownLevels||(this.drilldownLevels=[]);c=e.options._levelNumber||0;(s=this.drilldownLevels[this.drilldownLevels.length-1])&&s.levelNumber!==c&&(s=void 0);r=i({color:u,_ddSeriesId:p++},r);v=y(n,e.points);t(e.chart.series,function(n){n.xAxis!==f||n.isDrilling||(n.options._ddSeriesId=n.options._ddSeriesId||p++,n.options._colorIndex=n.userOptions._colorIndex,n.options._levelNumber=n.options._levelNumber||c,s?(l=s.levelSeries,a=s.levelSeriesOptions):(l.push(n),a.push(n.options)))});u={levelNumber:c,seriesOptions:e.options,levelSeriesOptions:a,levelSeries:l,shapeArgs:n.shapeArgs,bBox:n.graphic?n.graphic.getBBox():{},color:u,lowerSeriesOptions:r,pointOptions:e.options.data[v],pointIndex:v,oldExtremes:{xMin:f&&f.userMin,xMax:f&&f.userMax,yMin:o&&o.userMin,yMax:o&&o.userMax}};this.drilldownLevels.push(u);u=u.lowerSeries=this.addSeries(r,!1);u.options._levelNumber=c+1;f&&(f.oldPos=f.pos,f.userMin=f.userMax=null,o.userMin=o.userMax=null);e.type===u.type&&(u.animate=u.animateDrilldown||h,u.options.animation=!0)};r.prototype.applyDrilldown=function(){var n=this.drilldownLevels,i;n&&n.length>0&&(i=n[n.length-1].levelNumber,t(this.drilldownLevels,function(n){n.levelNumber===i&&t(n.levelSeries,function(n){n.options&&n.options._levelNumber===i&&n.remove(!1)})}));this.redraw();this.showDrillUpButton()};r.prototype.getDrilldownBackText=function(){var n=this.drilldownLevels;if(n&&n.length>0)return n=n[n.length-1],n.series=n.seriesOptions,b(this.options.lang.drillUpText,n)};r.prototype.showDrillUpButton=function(){var r=this,u=this.getDrilldownBackText(),t=r.options.drilldown.drillUpButton,i,n;this.drillUpButton?this.drillUpButton.attr({text:u}).align():(n=(i=t.theme)&&i.states,this.drillUpButton=this.renderer.button(u,null,null,function(){r.drillUp()},i,n&&n.hover,n&&n.select).attr({align:t.position.align,zIndex:9}).add().align(t.position,!1,t.relativeTo||"plotBox"))};r.prototype.drillUp=function(){for(var f=this,e=f.drilldownLevels,s=e[e.length-1].levelNumber,h=e.length,o=f.series,n,i,r,u,c=function(n){var e;t(o,function(t){t.options._ddSeriesId===n._ddSeriesId&&(e=t)});e=e||f.addSeries(n,!1);e.type===r.type&&e.animateDrillupTo&&(e.animate=e.animateDrillupTo);n===i.seriesOptions&&(u=e)};h--;)if(i=e[h],i.levelNumber===s){if(e.pop(),r=i.lowerSeries,!r.chart)for(n=o.length;n--;)if(o[n].options.id===i.lowerSeriesOptions.id&&o[n].options._levelNumber===s+1){r=o[n];break}r.xData=[];t(i.levelSeriesOptions,c);v(f,"drillup",{seriesOptions:i.seriesOptions});u.type===r.type&&(u.drilldownLevel=i,u.options.animation=f.options.drilldown.animation,r.animateDrillupFrom&&r.chart&&r.animateDrillupFrom(i));u.options._levelNumber=s;r.remove(!1);u.xAxis&&(n=i.oldExtremes,u.xAxis.setExtremes(n.xMin,n.xMax,!1),u.yAxis.setExtremes(n.yMin,n.yMax,!1))}this.redraw();this.drilldownLevels.length===0?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align();this.ddDupes.length=[]};u.prototype.supportsDrilldown=!0;u.prototype.animateDrillupTo=function(n){if(!n){var i=this,r=i.drilldownLevel;t(this.points,function(n){n.graphic&&n.graphic.hide();n.dataLabel&&n.dataLabel.hide();n.connector&&n.connector.hide()});setTimeout(function(){i.points&&t(i.points,function(n,t){var i=t===(r&&r.pointIndex)?"show":"fadeIn",u=i==="show"?!0:void 0;n.graphic&&n.graphic[i](u);n.dataLabel&&n.dataLabel[i](u);n.connector&&n.connector[i](u)})},Math.max(this.chart.options.drilldown.animation.duration-50,0));this.animate=h}};u.prototype.animateDrilldown=function(n){var e=this,o=this.chart.drilldownLevels,r,f=this.chart.options.drilldown.animation,u=this.xAxis;n||(t(o,function(n){e.options._ddSeriesId===n.lowerSeriesOptions._ddSeriesId&&(r=n.shapeArgs,r.fill=n.color)}),r.x+=c(u.oldPos,u.pos)-u.pos,t(this.points,function(n){n.graphic&&n.graphic.attr(r).animate(i(n.shapeArgs,{fill:n.color}),f);n.dataLabel&&n.dataLabel.fadeIn(f)}),this.animate=null)};u.prototype.animateDrillupFrom=function(r){var e=this.chart.options.drilldown.animation,u=this.group,f=this;t(f.trackerGroups,function(n){if(f[n])f[n].on("mouseover")});delete this.group;t(this.points,function(t){var f=t.graphic,o=function(){f.destroy();u&&(u=u.destroy())};f&&(delete t.graphic,e?f.animate(i(r.shapeArgs,{fill:r.color}),n.merge(e,{complete:o})):(f.attr(r.shapeArgs),o()))})};l&&i(l.prototype,{supportsDrilldown:!0,animateDrillupTo:u.prototype.animateDrillupTo,animateDrillupFrom:u.prototype.animateDrillupFrom,animateDrilldown:function(r){var e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=this.chart.options.drilldown.animation,u=e.shapeArgs,f=u.start,s=(u.end-f)/this.points.length;r||(t(this.points,function(t,r){t.graphic.attr(n.merge(u,{start:f+r*s,end:f+(r+1)*s,fill:e.color}))[o?"animate":"attr"](i(t.shapeArgs,{fill:t.color}),o)}),this.animate=null)}});n.Point.prototype.doDrilldown=function(n,t){var i=this.series.chart,u=i.options.drilldown,f=(u.series||[]).length,r;for(i.ddDupes||(i.ddDupes=[]);f--&&!r;)u.series[f].id===this.drilldown&&y(this.drilldown,i.ddDupes)===-1&&(r=u.series[f],i.ddDupes.push(this.drilldown));v(i,"drilldown",{point:this,seriesOptions:r,category:t,points:t!==void 0&&this.series.xAxis.ddPoints[t].slice(0)});r&&(n?i.addSingleSeriesAsDrilldown(this,r):i.addSeriesAsDrilldown(this,r))};n.Axis.prototype.drilldownCategory=function(n){var i,t,r=this.ddPoints[n];for(i in r)(t=r[i])&&t.series&&t.series.visible&&t.doDrilldown&&t.doDrilldown(!0,n);this.chart.applyDrilldown()};n.Axis.prototype.getDDPoints=function(n,t){var i=this.ddPoints;return i||(this.ddPoints=i={}),i[n]||(i[n]=[]),i[n].levelNumber!==t&&(i[n].length=0),i[n]};a.prototype.drillable=function(){var r=this.pos,t=this.label,i=this.axis,u=i.ddPoints&&i.ddPoints[r];if(t&&u&&u.length){t.basicStyles||(t.basicStyles=n.merge(t.styles));t.addClass("highcharts-drilldown-axis-label").css(i.chart.options.drilldown.activeAxisLabelStyle).on("click",function(){i.drilldownCategory(r)})}else t&&t.basicStyles&&(t.styles={},t.css(t.basicStyles),t.on("click",null))};o(a.prototype,"addLabel",function(n){n.call(this);this.drillable()});o(n.Point.prototype,"init",function(t,i,r,u){var f=t.call(this,i,r,u),t=(r=i.xAxis)&&r.ticks[u],r=r&&r.getDDPoints(u,i.options._levelNumber);return f.drilldown&&(n.addEvent(f,"click",function(){i.xAxis&&i.chart.options.drilldown.allowPointDrilldown===!1?i.xAxis.drilldownCategory(u):f.doDrilldown()}),r)&&(r.push(f),r.levelNumber=i.options._levelNumber),t&&t.drillable(),f});o(n.Series.prototype,"drawDataLabels",function(n){var i=this.chart.options.drilldown.activeDataLabelStyle;n.call(this);t(this.points,function(n){n.drilldown&&n.dataLabel&&n.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(i)})});e=function(n){n.call(this);t(this.points,function(n){n.drilldown&&n.graphic&&n.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(s in f)f[s].prototype.supportsDrilldown&&o(f[s].prototype,"drawTracker",e)});